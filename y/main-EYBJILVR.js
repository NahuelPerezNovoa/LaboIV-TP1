var m0=Object.defineProperty,y0=Object.defineProperties;var v0=Object.getOwnPropertyDescriptors;var _y=Object.getOwnPropertySymbols,_0=Object.getPrototypeOf,I0=Object.prototype.hasOwnProperty,w0=Object.prototype.propertyIsEnumerable,E0=Reflect.get;var Iy=(t,e,n)=>e in t?m0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})I0.call(e,n)&&Iy(t,n,e[n]);if(_y)for(var n of _y(e))w0.call(e,n)&&Iy(t,n,e[n]);return t},ee=(t,e)=>y0(t,v0(e));var Dn=(t,e,n)=>E0(_0(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var wy=null;var Vl=1,Ul=Symbol("SIGNAL");function J(t){let e=wy;return wy=t,e}var Ey={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function D0(t){if(!($l(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vl)){if(!t.producerMustRecompute(t)&&!jl(t)){t.dirty=!1,t.lastCleanEpoch=Vl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Vl}}function Dy(t){return t&&(t.nextProducerIndex=0),J(t)}function Cy(t,e){if(J(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($l(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jl(t){ga(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(D0(n),r!==n.version))return!0}return!1}function Ty(t){if(ga(t),$l(t))for(let e=0;e<t.producerNode.length;e++)Bl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bl(t,e){if(C0(t),ga(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Bl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ga(i),i.producerIndexOfThis[r]=e}}function $l(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ga(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function C0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function T0(){throw new Error}var b0=T0;function by(t){b0=t}function x(t){return typeof t=="function"}function ei(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ma=ei(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function nr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(s){e=s instanceof ma?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Sy(s)}catch(o){e=e??[],o instanceof ma?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ma(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Sy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&nr(n,e)}remove(e){let{_finalizers:n}=this;n&&nr(n,e),e instanceof t&&e._removeParent(this)}};le.EMPTY=(()=>{let t=new le;return t.closed=!0,t})();var Hl=le.EMPTY;function ya(t){return t instanceof le||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function Sy(t){x(t)?t():t.unsubscribe()}var bt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ti={setTimeout(t,e,...n){let{delegate:r}=ti;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ti;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function va(t){ti.setTimeout(()=>{let{onUnhandledError:e}=bt;if(e)e(t);else throw t})}function Is(){}var Ay=ql("C",void 0,void 0);function My(t){return ql("E",void 0,t)}function Ry(t){return ql("N",t,void 0)}function ql(t,e,n){return{kind:t,value:e,error:n}}var rr=null;function ni(t){if(bt.useDeprecatedSynchronousErrorHandling){let e=!rr;if(e&&(rr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=rr;if(rr=null,n)throw r}}else t()}function Ny(t){bt.useDeprecatedSynchronousErrorHandling&&rr&&(rr.errorThrown=!0,rr.error=t)}var ir=class extends le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ya(e)&&e.add(this)):this.destination=M0}static create(e,n,r){return new ri(e,n,r)}next(e){this.isStopped?Gl(Ry(e),this):this._next(e)}error(e){this.isStopped?Gl(My(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gl(Ay,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},S0=Function.prototype.bind;function zl(t,e){return S0.call(t,e)}var Wl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){_a(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){_a(r)}else _a(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){_a(n)}}},ri=class extends ir{constructor(e,n,r){super();let i;if(x(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zl(e.next,s),error:e.error&&zl(e.error,s),complete:e.complete&&zl(e.complete,s)}):i=e}this.destination=new Wl(i)}};function _a(t){bt.useDeprecatedSynchronousErrorHandling?Ny(t):va(t)}function A0(t){throw t}function Gl(t,e){let{onStoppedNotification:n}=bt;n&&ti.setTimeout(()=>n(t,e))}var M0={closed:!0,next:Is,error:A0,complete:Is};var ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(t){return t}function Kl(...t){return Ql(t)}function Ql(t){return t.length===0?et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var G=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=N0(n)?n:new ri(n,r,i);return ni(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=xy(r),new r((i,s)=>{let o=new ri({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ii](){return this}pipe(...n){return Ql(n)(this)}toPromise(n){return n=xy(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function xy(t){var e;return(e=t??bt.Promise)!==null&&e!==void 0?e:Promise}function R0(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function N0(t){return t&&t instanceof ir||R0(t)&&ya(t)}function Yl(t){return x(t?.lift)}function W(t){return e=>{if(Yl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function j(t,e,n,r,i){return new Jl(t,e,n,r,i)}var Jl=class extends ir{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function si(){return W((t,e)=>{let n=null;t._refCount++;let r=j(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var oi=class extends G{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new le;let n=this.getSubject();e.add(this.source.subscribe(j(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=le.EMPTY)}return e}refCount(){return si()(this)}};var Py=ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ke=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ia(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Py}next(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Hl:(this.currentObservers=null,s.push(n),new le(()=>{this.currentObservers=null,nr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return t.create=(e,n)=>new Ia(e,n),t})(),Ia=class extends ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hl}};var Ne=class extends ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zl={now(){return(Zl.delegate||Date).now()},delegate:void 0};var wa=class extends le{constructor(e,n){super()}schedule(e,n=0){return this}};var ws={setInterval(t,e,...n){let{delegate:r}=ws;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ws;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ai=class extends wa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ws.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ws.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,nr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ci=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ci.now=Zl.now;var ui=class extends ci{constructor(e,n=ci.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Xl=new ui(ai);var Ea=class extends ai{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Da=class extends ui{};var ed=new Da(Ea);var tt=new G(t=>t.complete());function Oy(t){return t&&x(t.schedule)}function ky(t){return t[t.length-1]}function Ca(t){return x(ky(t))?t.pop():void 0}function Cn(t){return Oy(ky(t))?t.pop():void 0}function td(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ly(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Fy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sr(t){return this instanceof sr?(this.v=t,this):new sr(t)}function Vy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(m,_){s.push([h,p,m,_])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof sr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Uy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fy=="function"?Fy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ta=t=>t&&typeof t.length=="number"&&typeof t!="function";function ba(t){return x(t?.then)}function Sa(t){return x(t[ii])}function Aa(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function Ma(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function x0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ra=x0();function Na(t){return x(t?.[Ra])}function xa(t){return Vy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield sr(n.read());if(i)return yield sr(void 0);yield yield sr(r)}}finally{n.releaseLock()}})}function Pa(t){return x(t?.getReader)}function pe(t){if(t instanceof G)return t;if(t!=null){if(Sa(t))return P0(t);if(Ta(t))return O0(t);if(ba(t))return k0(t);if(Aa(t))return jy(t);if(Na(t))return F0(t);if(Pa(t))return L0(t)}throw Ma(t)}function P0(t){return new G(e=>{let n=t[ii]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function O0(t){return new G(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function k0(t){return new G(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,va)})}function F0(t){return new G(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function jy(t){return new G(e=>{V0(t,e).catch(n=>e.error(n))})}function L0(t){return jy(xa(t))}function V0(t,e){var n,r,i,s;return Ly(this,void 0,void 0,function*(){try{for(n=Uy(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ke(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Tn(t,e=0){return W((n,r)=>{n.subscribe(j(r,i=>Ke(r,t,()=>r.next(i),e),()=>Ke(r,t,()=>r.complete(),e),i=>Ke(r,t,()=>r.error(i),e)))})}function bn(t,e=0){return W((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function By(t,e){return pe(t).pipe(bn(e),Tn(e))}function $y(t,e){return pe(t).pipe(bn(e),Tn(e))}function Hy(t,e){return new G(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function qy(t,e){return new G(n=>{let r;return Ke(n,e,()=>{r=t[Ra](),Ke(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}function Oa(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(n=>{Ke(n,e,()=>{let r=t[Symbol.asyncIterator]();Ke(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function zy(t,e){return Oa(xa(t),e)}function Gy(t,e){if(t!=null){if(Sa(t))return By(t,e);if(Ta(t))return Hy(t,e);if(ba(t))return $y(t,e);if(Aa(t))return Oa(t,e);if(Na(t))return qy(t,e);if(Pa(t))return zy(t,e)}throw Ma(t)}function de(t,e){return e?Gy(t,e):pe(t)}function P(...t){let e=Cn(t);return de(t,e)}function li(t,e){let n=x(t)?t:()=>t,r=i=>i.error(n());return new G(e?i=>e.schedule(r,0,i):r)}function nd(t){return!!t&&(t instanceof G||x(t.lift)&&x(t.subscribe))}var tn=ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function B(t,e){return W((n,r)=>{let i=0;n.subscribe(j(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:U0}=Array;function j0(t,e){return U0(e)?t(...e):t(e)}function ka(t){return B(e=>j0(t,e))}var{isArray:B0}=Array,{getPrototypeOf:$0,prototype:H0,keys:q0}=Object;function Fa(t){if(t.length===1){let e=t[0];if(B0(e))return{args:e,keys:null};if(z0(e)){let n=q0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function z0(t){return t&&typeof t=="object"&&$0(t)===H0}function La(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Va(...t){let e=Cn(t),n=Ca(t),{args:r,keys:i}=Fa(t);if(r.length===0)return de([],e);let s=new G(G0(r,e,i?o=>La(i,o):et));return n?s.pipe(ka(n)):s}function G0(t,e,n=et){return r=>{Wy(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)Wy(e,()=>{let u=de(t[c],e),l=!1;u.subscribe(j(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Wy(t,e,n){t?Ke(n,t,e):e()}function Ky(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=_=>u<r?m(_):c.push(_),m=_=>{s&&e.next(_),u++;let D=!1;pe(n(_,l++)).subscribe(j(e,C=>{i?.(C),s?p(C):e.next(C)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let C=c.shift();o?Ke(e,o,()=>m(C)):m(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(j(e,p,()=>{d=!0,h()})),()=>{a?.()}}function _e(t,e,n=1/0){return x(e)?_e((r,i)=>B((s,o)=>e(r,s,i,o))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),W((r,i)=>Ky(r,i,t,n)))}function rd(t=1/0){return _e(et,t)}function Qy(){return rd(1)}function di(...t){return Qy()(de(t,Cn(t)))}function Ua(t){return new G(e=>{pe(t()).subscribe(e)})}function id(...t){let e=Ca(t),{args:n,keys:r}=Fa(t),i=new G(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;pe(n[l]).subscribe(j(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?La(r,a):a),s.complete())}))}});return e?i.pipe(ka(e)):i}function St(t,e){return W((n,r)=>{let i=0;n.subscribe(j(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Sn(t){return W((e,n)=>{let r=null,i=!1,s;r=e.subscribe(j(n,void 0,void 0,o=>{s=pe(t(o,Sn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Yy(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(j(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function hi(t,e){return x(e)?_e(t,e,1):_e(t,1)}function An(t){return W((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function nn(t){return t<=0?()=>tt:W((e,n)=>{let r=0;e.subscribe(j(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sd(t){return B(()=>t)}function ja(t=W0){return W((e,n)=>{let r=!1;e.subscribe(j(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function W0(){return new tn}function Es(t){return W((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ft(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):et,nn(1),n?An(e):ja(()=>new tn))}function fi(t){return t<=0?()=>tt:W((e,n)=>{let r=[];e.subscribe(j(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function od(t,e){let n=arguments.length>=2;return r=>r.pipe(t?St((i,s)=>t(i,s,r)):et,fi(1),n?An(e):ja(()=>new tn))}function ad(t,e){return W(Yy(t,e,arguments.length>=2,!0))}function cd(...t){let e=Cn(t);return W((n,r)=>{(e?di(t,n,e):di(t,n)).subscribe(r)})}function At(t,e){return W((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(j(r,c=>{i?.unsubscribe();let u=0,l=s++;pe(t(c,l)).subscribe(i=j(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ud(t){return W((e,n)=>{pe(t).subscribe(j(n,()=>n.complete(),Is)),!n.closed&&e.subscribe(n)})}function Ie(t,e,n){let r=x(t)||e||n?{next:t,error:e,complete:n}:t;return r?W((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(j(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):et}var Ov="https://g.co/ng/security#xss",b=class extends Error{constructor(e,n){super(ah(e,n)),this.code=e}};function ah(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ks(t){return{toString:t}.toString()}var Ba="__parameters__";function K0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Q0(t,e,n){return ks(()=>{let r=K0(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Ba)?c[Ba]:Object.defineProperty(c,Ba,{value:[]})[Ba];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var rn=globalThis;function re(t){for(let e in t)if(t[e]===re)return e;throw Error("Could not find renamed property on target object.")}function Y0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Jy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var J0=re({__forward_ref__:re});function Fs(t){return t.__forward_ref__=Fs,t.toString=function(){return Qe(this())},t}function He(t){return kv(t)?t():t}function kv(t){return typeof t=="function"&&t.hasOwnProperty(J0)&&t.__forward_ref__===Fs}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function gc(t){return Zy(t,Lv)||Zy(t,Vv)}function Fv(t){return gc(t)!==null}function Zy(t,e){return t.hasOwnProperty(e)?t[e]:null}function Z0(t){let e=t&&(t[Lv]||t[Vv]);return e||null}function Xy(t){return t&&(t.hasOwnProperty(ev)||t.hasOwnProperty(X0))?t[ev]:null}var Lv=re({\u0275prov:re}),ev=re({\u0275inj:re}),Vv=re({ngInjectableDef:re}),X0=re({ngInjectorDef:re}),S=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Uv(t){return t&&!!t.\u0275providers}var eb=re({\u0275cmp:re}),tb=re({\u0275dir:re}),nb=re({\u0275pipe:re}),rb=re({\u0275mod:re}),Ja=re({\u0275fac:re}),Ds=re({__NG_ELEMENT_ID__:re}),tv=re({__NG_ENV_ID__:re});function mc(t){return typeof t=="string"?t:t==null?"":String(t)}function ib(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():mc(t)}function sb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new b(-200,t)}function ch(t,e){throw new b(-201,!1)}var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{}),Td;function jv(){return Td}function ft(t){let e=Td;return Td=t,e}function Bv(t,e,n){let r=gc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;ch(t,"Injector")}var ob={},Cs=ob,bd="__NG_DI_FLAG__",Za="ngTempTokenPath",ab="ngTokenPath",cb=/\n/gm,ub="\u0275",nv="__source",yi;function lb(){return yi}function Mn(t){let e=yi;return yi=t,e}function db(t,e=k.Default){if(yi===void 0)throw new b(-203,!1);return yi===null?Bv(t,void 0,e):yi.get(t,e&k.Optional?null:void 0,e)}function F(t,e=k.Default){return(jv()||db)(He(t),e)}function w(t,e=k.Default){return F(t,yc(e))}function yc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Sd(t){let e=[];for(let n=0;n<t.length;n++){let r=He(t[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,s=k.Default;for(let o=0;o<r.length;o++){let a=r[o],c=fb(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function hb(t,e){return t[bd]=e,t.prototype[bd]=e,t}function fb(t){return t[bd]}function pb(t,e,n,r){let i=t[Za];throw e[nv]&&i.unshift(e[nv]),t.message=gb(`
`+t.message,i,n,r),t[ab]=i,t[Za]=null,t}function gb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ub?t.slice(2):t;let i=Qe(e);if(Array.isArray(e))i=e.map(Qe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Qe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cb,`
  `)}`}var Ye=hb(Q0("Optional"),8);function _i(t,e){let n=t.hasOwnProperty(Ja);return n?t[Ja]:null}function uh(t,e){t.forEach(n=>Array.isArray(n)?uh(n,e):e(n))}function $v(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function yb(t,e,n){let r=Ls(t,e);return r>=0?t[r|1]=n:(r=~r,mb(t,r,e,n)),r}function ld(t,e){let n=Ls(t,e);if(n>=0)return t[n|1]}function Ls(t,e){return vb(t,e,1)}function vb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ii={},pt=[],wi=new S(""),Hv=new S("",-1),qv=new S(""),ec=class{get(e,n=Cs){if(n===Cs){let r=new Error(`NullInjectorError: No provider for ${Qe(e)}!`);throw r.name="NullInjectorError",r}return n}},zv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(zv||{}),Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ut||{}),ze=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ze||{});function _b(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Ad(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Ib(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Gv(t){return t===3||t===4||t===6}function Ib(t){return t.charCodeAt(0)===64}function Ts(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?rv(t,n,i,null,e[++r]):rv(t,n,i,null,null))}}return t}function rv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var Wv="ng-template";function wb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&_b(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(lh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function lh(t){return t.type===4&&t.value!==Wv}function Eb(t,e,n){let r=t.type===4&&!n?Wv:t.value;return e===r}function Db(t,e,n){let r=4,i=t.attrs,s=i!==null?bb(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Mt(r)&&!Mt(c))return!1;if(o&&Mt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Eb(t,c,n)||c===""&&e.length===1){if(Mt(r))return!1;o=!0}}else if(r&8){if(i===null||!wb(t,i,c,n)){if(Mt(r))return!1;o=!0}}else{let u=e[++a],l=Cb(c,i,lh(t),n);if(l===-1){if(Mt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Mt(r))return!1;o=!0}}}}return Mt(r)||o}function Mt(t){return(t&1)===0}function Cb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Sb(e,t)}function Tb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Db(t,e[r],n))return!0;return!1}function bb(t){for(let e=0;e<t.length;e++){let n=t[e];if(Gv(n))return e}return t.length}function Sb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function iv(t,e){return t?":not("+e.trim()+")":e}function Ab(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mt(o)&&(e+=iv(s,i),i=""),r=o,s=s||!Mt(r);n++}return i!==""&&(e+=iv(s,i)),e}function Mb(t){return t.map(Ab).join(",")}function Rb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mt(i))break;i=s}r++}return{attrs:e,classes:n}}function Je(t){return ks(()=>{let e=Zv(t),n=ee(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,styles:t.styles||pt,_:null,schemas:t.schemas||null,tView:null,id:""});Xv(n);let r=t.dependencies;return n.directiveDefs=ov(r,!1),n.pipeDefs=ov(r,!0),n.id=Pb(n),n})}function Nb(t){return cr(t)||Kv(t)}function xb(t){return t!==null}function vt(t){return ks(()=>({type:t.type,bootstrap:t.bootstrap||pt,declarations:t.declarations||pt,imports:t.imports||pt,exports:t.exports||pt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function sv(t,e){if(t==null)return Ii;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ze.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ze.None?[r,a]:r,e[s]=o):n[s]=r}return n}function $t(t){return ks(()=>{let e=Zv(t);return Xv(e),e})}function cr(t){return t[eb]||null}function Kv(t){return t[tb]||null}function Qv(t){return t[nb]||null}function Yv(t){let e=cr(t)||Kv(t)||Qv(t);return e!==null?e.standalone:!1}function Jv(t,e){let n=t[rb]||null;if(!n&&e===!0)throw new Error(`Type ${Qe(t)} does not have '\u0275mod' property.`);return n}function Zv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||pt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sv(t.inputs,e),outputs:sv(t.outputs),debugInfo:null}}function Xv(t){t.features?.forEach(e=>e(t))}function ov(t,e){if(!t)return null;let n=e?Qv:Nb;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(xb)}function Pb(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vc(t){return{\u0275providers:t}}function Vs(...t){return{\u0275providers:e_(!0,t),\u0275fromNgModule:!0}}function e_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return uh(e,o=>{let a=o;Md(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&t_(i,s),n}function t_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];dh(i,s=>{e(s,r)})}}function Md(t,e,n,r){if(t=He(t),!t)return!1;let i=null,s=Xy(t),o=!s&&cr(t);if(!s&&!o){let c=t.ngModule;if(s=Xy(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Md(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{uh(s.imports,l=>{Md(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&t_(u,e)}if(!a){let u=_i(i)||(()=>new i);e({provide:i,useFactory:u,deps:pt},i),e({provide:qv,useValue:i,multi:!0},i),e({provide:wi,useValue:()=>F(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;dh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function dh(t,e){for(let n of t)Uv(n)&&(n=n.\u0275providers),Array.isArray(n)?dh(n,e):e(n)}var Ob=re({provide:String,useValue:re});function n_(t){return t!==null&&typeof t=="object"&&Ob in t}function kb(t){return!!(t&&t.useExisting)}function Fb(t){return!!(t&&t.useFactory)}function Ei(t){return typeof t=="function"}function Lb(t){return!!t.useClass}var _c=new S(""),Ga={},Vb={},dd;function hh(){return dd===void 0&&(dd=new ec),dd}var mt=class{},bs=class extends mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nd(e,o=>this.processProvider(o)),this.records.set(Hv,pi(void 0,this)),i.has("environment")&&this.records.set(mt,pi(void 0,this));let s=this.records.get(_c);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qv,pt,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mn(this),r=ft(void 0),i;try{return e()}finally{Mn(n),ft(r)}}get(e,n=Cs,r=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(tv))return e[tv](this);r=yc(r);let i,s=Mn(this),o=ft(void 0);try{if(!(r&k.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=Hb(e)&&gc(e);u&&this.injectableDefInScope(u)?c=pi(Rd(e),Ga):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&k.Self?hh():this.parent;return n=r&k.Optional&&n===Cs?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Za]=a[Za]||[]).unshift(Qe(e)),s)throw a;return pb(a,e,"R3InjectorError",this.source)}else throw a}finally{ft(o),Mn(s)}}resolveInjectorInitializers(){let e=J(null),n=Mn(this),r=ft(void 0),i;try{let s=this.get(wi,pt,k.Self);for(let o of s)o()}finally{Mn(n),ft(r),J(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new b(205,!1)}processProvider(e){e=He(e);let n=Ei(e)?e:He(e&&e.provide),r=jb(e);if(!Ei(e)&&e.multi===!0){let i=this.records.get(n);i||(i=pi(void 0,Ga,!0),i.factory=()=>Sd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=J(null);try{return n.value===Ga&&(n.value=Vb,n.value=n.factory()),typeof n.value=="object"&&n.value&&$b(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=He(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Rd(t){let e=gc(t),n=e!==null?e.factory:_i(t);if(n!==null)return n;if(t instanceof S)throw new b(204,!1);if(t instanceof Function)return Ub(t);throw new b(204,!1)}function Ub(t){if(t.length>0)throw new b(204,!1);let n=Z0(t);return n!==null?()=>n.factory(t):()=>new t}function jb(t){if(n_(t))return pi(void 0,t.useValue);{let e=r_(t);return pi(e,Ga)}}function r_(t,e,n){let r;if(Ei(t)){let i=He(t);return _i(i)||Rd(i)}else if(n_(t))r=()=>He(t.useValue);else if(Fb(t))r=()=>t.useFactory(...Sd(t.deps||[]));else if(kb(t))r=()=>F(He(t.useExisting));else{let i=He(t&&(t.useClass||t.provide));if(Bb(t))r=()=>new i(...Sd(t.deps));else return _i(i)||Rd(i)}return r}function pi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bb(t){return!!t.deps}function $b(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Hb(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function Nd(t,e){for(let n of t)Array.isArray(n)?Nd(n,e):n&&Uv(n)?Nd(n.\u0275providers,e):e(n)}function gr(t,e){t instanceof bs&&t.assertNotDestroyed();let n,r=Mn(t),i=ft(void 0);try{return e()}finally{Mn(r),ft(i)}}function qb(){return jv()!==void 0||lb()!=null}function zb(t){return typeof t=="function"}var un=0,q=1,A=2,Fe=3,Rt=4,xt=5,tc=6,Ss=7,sn=8,Di=9,Nt=10,Te=11,As=12,av=13,Us=14,jt=15,fh=16,gi=17,Ic=18,wc=19,i_=20,Rn=21,hd=22,ur=23,lr=25,s_=1;var dr=7,nc=8,rc=9,gt=10,ph=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ph||{});function or(t){return Array.isArray(t)&&typeof t[s_]=="object"}function ln(t){return Array.isArray(t)&&t[s_]===!0}function o_(t){return(t.flags&4)!==0}function Ec(t){return t.componentOffset>-1}function a_(t){return(t.flags&1)===1}function Nn(t){return!!t.template}function Gb(t){return(t[A]&512)!==0}var xd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function c_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function mr(){return u_}function u_(t){return t.type.prototype.ngOnChanges&&(t.setInput=Kb),Wb}mr.ngInherit=!0;function Wb(){let t=d_(this),e=t?.current;if(e){let n=t.previous;if(n===Ii)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Kb(t,e,n,r,i){let s=this.declaredInputs[r],o=d_(t)||Qb(t,{previous:Ii,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new xd(u&&u.currentValue,n,c===Ii),c_(t,e,i,n)}var l_="__ngSimpleChanges__";function d_(t){return t[l_]||null}function Qb(t,e){return t[l_]=e}var cv=null;var Lt=function(t,e,n){cv?.(t,e,n)},Yb="svg",Jb="math",Zb=!1;function Xb(){return Zb}function Bt(t){for(;Array.isArray(t);)t=t[un];return t}function h_(t,e){return Bt(e[t])}function _t(t,e){return Bt(e[t.index])}function f_(t,e){return t.data[e]}function Pn(t,e){let n=e[t];return or(n)?n:n[un]}function gh(t){return(t[A]&128)===128}function eS(t){return ln(t[Fe])}function uv(t,e){return e==null?null:t[e]}function p_(t){t[gi]=0}function tS(t){t[A]&1024||(t[A]|=1024,gh(t)&&Ms(t))}function mh(t){return!!(t[A]&9216||t[ur]?.dirty)}function Pd(t){t[Nt].changeDetectionScheduler?.notify(1),mh(t)?Ms(t):t[A]&64&&(Xb()?(t[A]|=1024,Ms(t)):t[Nt].changeDetectionScheduler?.notify())}function Ms(t){t[Nt].changeDetectionScheduler?.notify();let e=Rs(t);for(;e!==null&&!(e[A]&8192||(e[A]|=8192,!gh(e)));)e=Rs(e)}function g_(t,e){if((t[A]&256)===256)throw new b(911,!1);t[Rn]===null&&(t[Rn]=[]),t[Rn].push(e)}function nS(t,e){if(t[Rn]===null)return;let n=t[Rn].indexOf(e);n!==-1&&t[Rn].splice(n,1)}function Rs(t){let e=t[Fe];return ln(e)?e[Fe]:e}var Q={lFrame:E_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rS(){return Q.lFrame.elementDepthCount}function iS(){Q.lFrame.elementDepthCount++}function sS(){Q.lFrame.elementDepthCount--}function m_(){return Q.bindingsEnabled}function oS(){return Q.skipHydrationRootTNode!==null}function aS(t){return Q.skipHydrationRootTNode===t}function cS(){Q.skipHydrationRootTNode=null}function ce(){return Q.lFrame.lView}function It(){return Q.lFrame.tView}function nt(){let t=y_();for(;t!==null&&t.type===64;)t=t.parent;return t}function y_(){return Q.lFrame.currentTNode}function uS(){let t=Q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Dc(t,e){let n=Q.lFrame;n.currentTNode=t,n.isParent=e}function v_(){return Q.lFrame.isParent}function lS(){Q.lFrame.isParent=!1}function dS(){let t=Q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hS(t){return Q.lFrame.bindingIndex=t}function Cc(){return Q.lFrame.bindingIndex++}function fS(t){let e=Q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pS(){return Q.lFrame.inI18n}function gS(t,e){let n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Od(e)}function mS(){return Q.lFrame.currentDirectiveIndex}function Od(t){Q.lFrame.currentDirectiveIndex=t}function yS(t){let e=Q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function __(t){Q.lFrame.currentQueryIndex=t}function vS(t){let e=t[q];return e.type===2?e.declTNode:e.type===1?t[xt]:null}function I_(t,e,n){if(n&k.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&k.Host);)if(i=vS(s),i===null||(s=s[Us],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Q.lFrame=w_();return r.currentTNode=e,r.lView=t,!0}function yh(t){let e=w_(),n=t[q];Q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function w_(){let t=Q.lFrame,e=t===null?null:t.child;return e===null?E_(t):e}function E_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function D_(){let t=Q.lFrame;return Q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var C_=D_;function vh(){let t=D_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ai(){return Q.lFrame.selectedIndex}function hr(t){Q.lFrame.selectedIndex=t}function _h(){let t=Q.lFrame;return f_(t.tView,t.selectedIndex)}function _S(){return Q.lFrame.currentNamespace}var T_=!0;function b_(){return T_}function S_(t){T_=t}function IS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=u_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function A_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Wa(t,e,n){M_(t,e,3,n)}function Ka(t,e,n,r){(t[A]&3)===n&&M_(t,e,n,r)}function fd(t,e){let n=t[A];(n&3)===e&&(n&=16383,n+=1,t[A]=n)}function M_(t,e,n,r){let i=r!==void 0?t[gi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[gi]+=65536),(a<s||s==-1)&&(wS(t,n,e,c),t[gi]=(t[gi]&4294901760)+c+2),c++}function lv(t,e){Lt(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),Lt(5,t,e)}}function wS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[A]>>14<t[gi]>>16&&(t[A]&3)===e&&(t[A]+=16384,lv(a,s)):lv(a,s)}var vi=-1,fr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ES(t){return t instanceof fr}function DS(t){return(t.flags&8)!==0}function CS(t){return(t.flags&16)!==0}function R_(t){return t!==vi}function ic(t){return t&32767}function TS(t){return t>>16}function sc(t,e){let n=TS(t),r=e;for(;n>0;)r=r[Us],n--;return r}var kd=!0;function dv(t){let e=kd;return kd=t,e}var bS=256,N_=bS-1,x_=5,SS=0,Vt={};function AS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ds)&&(r=n[Ds]),r==null&&(r=n[Ds]=SS++);let i=r&N_,s=1<<i;e.data[t+(i>>x_)]|=s}function oc(t,e){let n=P_(t,e);if(n!==-1)return n;let r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,pd(r.data,t),pd(e,null),pd(r.blueprint,null));let i=Ih(t,e),s=t.injectorIndex;if(R_(i)){let o=ic(i),a=sc(i,e),c=a[q].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function pd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function P_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ih(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=V_(i),r===null)return vi;if(n++,i=i[Us],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vi}function Fd(t,e,n){AS(t,e,n)}function MS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(Gv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function O_(t,e,n){if(n&k.Optional||t!==void 0)return t;ch(e,"NodeInjector")}function k_(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),!(n&(k.Self|k.Host))){let i=t[Di],s=ft(void 0);try{return i?i.get(e,r,n&k.Optional):Bv(e,r,n&k.Optional)}finally{ft(s)}}return O_(r,e,n)}function F_(t,e,n,r=k.Default,i){if(t!==null){if(e[A]&2048&&!(r&k.Self)){let o=OS(t,e,n,r,Vt);if(o!==Vt)return o}let s=L_(t,e,n,r,Vt);if(s!==Vt)return s}return k_(e,n,r,i)}function L_(t,e,n,r,i){let s=xS(n);if(typeof s=="function"){if(!I_(e,t,r))return r&k.Host?O_(i,n,r):k_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&k.Optional))ch(n);else return o}finally{C_()}}else if(typeof s=="number"){let o=null,a=P_(t,e),c=vi,u=r&k.Host?e[jt][xt]:null;for((a===-1||r&k.SkipSelf)&&(c=a===-1?Ih(t,e):e[a+8],c===vi||!fv(r,!1)?a=-1:(o=e[q],a=ic(c),e=sc(c,e)));a!==-1;){let l=e[q];if(hv(s,a,l.data)){let d=RS(a,e,n,o,r,u);if(d!==Vt)return d}c=e[a+8],c!==vi&&fv(r,e[q].data[a+8]===u)&&hv(s,a,e)?(o=l,a=ic(c),e=sc(c,e)):a=-1}}return i}function RS(t,e,n,r,i,s){let o=e[q],a=o.data[t+8],c=r==null?Ec(a)&&kd:r!=o&&(a.type&3)!==0,u=i&k.Host&&s===a,l=NS(a,o,n,c,u);return l!==null?Ci(e,o,l,a):Vt}function NS(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let m=o[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=o[c];if(p&&Nn(p)&&p.type===n)return c}return null}function Ci(t,e,n,r){let i=t[n],s=e.data;if(ES(i)){let o=i;o.resolving&&sb(ib(s[n]));let a=dv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?ft(o.injectImpl):null,l=I_(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&IS(n,s[n],e)}finally{u!==null&&ft(u),dv(a),o.resolving=!1,C_()}}return i}function xS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ds)?t[Ds]:void 0;return typeof e=="number"?e>=0?e&N_:PS:e}function hv(t,e,n){let r=1<<t;return!!(n[e+(t>>x_)]&r)}function fv(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var ar=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return F_(this._tNode,this._lView,e,yc(r),n)}};function PS(){return new ar(nt(),ce())}function js(t){return ks(()=>{let e=t.prototype.constructor,n=e[Ja]||Ld(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ja]||Ld(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ld(t){return kv(t)?()=>{let e=Ld(He(t));return e&&e()}:_i(t)}function OS(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[A]&2048&&!(o[A]&512);){let a=L_(s,o,n,r|k.Self,Vt);if(a!==Vt)return a;let c=s.parent;if(!c){let u=o[i_];if(u){let l=u.get(n,Vt,r);if(l!==Vt)return l}c=V_(o),o=o[Us]}s=c}return i}function V_(t){let e=t[q],n=e.type;return n===2?e.declTNode:n===1?t[xt]:null}function wh(t){return MS(nt(),t)}function pv(t,e=null,n=null,r){let i=U_(t,e,n,r);return i.resolveInjectorInitializers(),i}function U_(t,e=null,n=null,r,i=new Set){let s=[n||pt,Vs(t)];return r=r||(typeof t=="object"?void 0:Qe(t)),new bs(s,e||hh(),r||null,i)}var wt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return pv({name:""},i,r,"");{let s=r.name??"";return pv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Cs,e.NULL=new ec,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>F(Hv)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var kS="ngOriginalError";function gd(t){return t[kS]}var on=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gd(e);for(;n&&gd(n);)n=gd(n);return n||null}},j_=new S("",{providedIn:"root",factory:()=>w(on).handleError.bind(void 0)}),B_=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FS,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Vd=class extends B_{constructor(e){super(),this._lView=e}onDestroy(e){return g_(this._lView,e),()=>nS(this._lView,e)}};function FS(){return new Vd(ce())}function LS(){return Eh(nt(),ce())}function Eh(t,e){return new On(_t(t,e))}var On=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=LS;let t=e;return t})();var Ud=class extends ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,qb()&&(this.destroyRef=w(B_,{optional:!0})??void 0)}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=md(s),i&&(i=md(i)),o&&(o=md(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof le&&e.add(a),a}};function md(t){return e=>{setTimeout(t,void 0,e)}}var qe=Ud;function $_(t){return(t.flags&128)===128}var H_=new Map,VS=0;function US(){return VS++}function jS(t){H_.set(t[wc],t)}function BS(t){H_.delete(t[wc])}var gv="__ngContext__";function Ti(t,e){or(e)?(t[gv]=e[wc],jS(e)):t[gv]=e}function q_(t){return G_(t[As])}function z_(t){return G_(t[Rt])}function G_(t){for(;t!==null&&!ln(t);)t=t[Rt];return t}var jd;function W_(t){jd=t}function $S(){if(jd!==void 0)return jd;if(typeof document<"u")return document;throw new b(210,!1)}var Dh=new S("",{providedIn:"root",factory:()=>HS}),HS="ng",Ch=new S(""),kn=new S("",{providedIn:"platform",factory:()=>"unknown"});var Th=new S("",{providedIn:"root",factory:()=>$S().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qS="h",zS="b";var GS=()=>null;function bh(t,e,n=!1){return GS(t,e,n)}var K_=!1,WS=new S("",{providedIn:"root",factory:()=>K_});var $a;function KS(){if($a===void 0&&($a=null,rn.trustedTypes))try{$a=rn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $a}function QS(t){return KS()?.createScriptURL(t)||t}var Ha;function YS(){if(Ha===void 0&&(Ha=null,rn.trustedTypes))try{Ha=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ha}function mv(t){return YS()?.createScriptURL(t)||t}var ac=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ov})`}};function Bs(t){return t instanceof ac?t.changingThisBreaksApplicationSecurity:t}function Sh(t,e){let n=JS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ov})`)}return n===e}function JS(t){return t instanceof ac&&t.getTypeName()||null}var ZS=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Q_(t){return t=String(t),t.match(ZS)?t:"unsafe:"+t}var Tc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Tc||{});function XS(t){let e=J_();return e?e.sanitize(Tc.URL,t)||"":Sh(t,"URL")?Bs(t):Q_(mc(t))}function eA(t){let e=J_();if(e)return mv(e.sanitize(Tc.RESOURCE_URL,t)||"");if(Sh(t,"ResourceURL"))return mv(Bs(t));throw new b(904,!1)}function bc(t){return QS(t[0])}function tA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?eA:XS}function Y_(t,e,n){return tA(e,n)(t)}function J_(){let t=ce();return t&&t[Nt].sanitizer}function Z_(t){return t instanceof Function?t():t}var an=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(an||{}),nA;function Ah(t,e){return nA(t,e)}function mi(t,e,n,r,i){if(r!=null){let s,o=!1;ln(r)?s=r:or(r)&&(o=!0,r=r[un]);let a=Bt(r);t===0&&n!==null?i==null?rI(e,n,a):cc(e,n,a,i||null,!0):t===1&&n!==null?cc(e,n,a,i||null,!0):t===2?_A(e,a,o):t===3&&e.destroyNode(a),s!=null&&wA(e,t,s,n,i)}}function rA(t,e){return t.createText(e)}function iA(t,e,n){t.setValue(e,n)}function X_(t,e,n){return t.createElement(e,n)}function sA(t,e){eI(t,e),e[un]=null,e[xt]=null}function oA(t,e,n,r,i,s){r[un]=i,r[xt]=e,Sc(t,r,n,1,i,s)}function eI(t,e){e[Nt].changeDetectionScheduler?.notify(1),Sc(t,e,e[Te],2,null,null)}function aA(t){let e=t[As];if(!e)return yd(t[q],t);for(;e;){let n=null;if(or(e))n=e[As];else{let r=e[gt];r&&(n=r)}if(!n){for(;e&&!e[Rt]&&e!==t;)or(e)&&yd(e[q],e),e=e[Fe];e===null&&(e=t),or(e)&&yd(e[q],e),n=e&&e[Rt]}e=n}}function cA(t,e,n,r){let i=gt+r,s=n.length;r>0&&(n[i-1][Rt]=e),r<s-gt?(e[Rt]=n[i],$v(n,gt+r,e)):(n.push(e),e[Rt]=null),e[Fe]=n;let o=e[fh];o!==null&&n!==o&&uA(o,e);let a=e[Ic];a!==null&&a.insertView(t),Pd(e),e[A]|=128}function uA(t,e){let n=t[rc],i=e[Fe][Fe][jt];e[jt]!==i&&(t[A]|=ph.HasTransplantedViews),n===null?t[rc]=[e]:n.push(e)}function tI(t,e){let n=t[rc],r=n.indexOf(e);n.splice(r,1)}function Bd(t,e){if(t.length<=gt)return;let n=gt+e,r=t[n];if(r){let i=r[fh];i!==null&&i!==t&&tI(i,r),e>0&&(t[n-1][Rt]=r[Rt]);let s=Xa(t,gt+e);sA(r[q],r);let o=s[Ic];o!==null&&o.detachView(s[q]),r[Fe]=null,r[Rt]=null,r[A]&=-129}return r}function nI(t,e){if(!(e[A]&256)){let n=e[Te];n.destroyNode&&Sc(t,e,n,3,null,null),aA(e)}}function yd(t,e){if(e[A]&256)return;let n=J(null);try{e[A]&=-129,e[A]|=256,e[ur]&&Ty(e[ur]),dA(t,e),lA(t,e),e[q].type===1&&e[Te].destroy();let r=e[fh];if(r!==null&&ln(e[Fe])){r!==e[Fe]&&tI(r,e);let i=e[Ic];i!==null&&i.detachView(t)}BS(e)}finally{J(n)}}function lA(t,e){let n=t.cleanup,r=e[Ss];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ss]=null);let i=e[Rn];if(i!==null){e[Rn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function dA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof fr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Lt(4,a,c);try{c.call(a)}finally{Lt(5,a,c)}}else{Lt(4,i,s);try{s.call(i)}finally{Lt(5,i,s)}}}}}function hA(t,e,n){return fA(t,e.parent,n)}function fA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[un];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ut.None||s===Ut.Emulated)return null}return _t(r,n)}}function cc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rI(t,e,n){t.appendChild(e,n)}function yv(t,e,n,r,i){r!==null?cc(t,e,n,r,i):rI(t,e,n)}function pA(t,e,n,r){t.removeChild(e,n,r)}function Mh(t,e){return t.parentNode(e)}function gA(t,e){return t.nextSibling(e)}function mA(t,e,n){return vA(t,e,n)}function yA(t,e,n){return t.type&40?_t(t,n):null}var vA=yA,vv;function iI(t,e,n,r){let i=hA(t,r,e),s=e[Te],o=r.parent||e[xt],a=mA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)yv(s,i,n[c],a,!1);else yv(s,i,n,a,!1);vv!==void 0&&vv(s,r,e,n,i)}function Qa(t,e){if(e!==null){let n=e.type;if(n&3)return _t(e,t);if(n&4)return $d(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Qa(t,r);{let i=t[e.index];return ln(i)?$d(-1,i):Bt(i)}}else{if(n&32)return Ah(e,t)()||Bt(t[e.index]);{let r=sI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Rs(t[jt]);return Qa(i,r)}else return Qa(t,e.next)}}}return null}function sI(t,e){if(e!==null){let r=t[jt][xt],i=e.projection;return r.projection[i]}return null}function $d(t,e){let n=gt+t+1;if(n<e.length){let r=e[n],i=r[q].firstChild;if(i!==null)return Qa(r,i)}return e[dr]}function _A(t,e,n){let r=Mh(t,e);r&&pA(t,r,e,n)}function Rh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ti(Bt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Rh(t,e,n.child,r,i,s,!1),mi(e,t,i,a,s);else if(c&32){let u=Ah(n,r),l;for(;l=u();)mi(e,t,i,l,s);mi(e,t,i,a,s)}else c&16?IA(t,e,r,n,i,s):mi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Sc(t,e,n,r,i,s){Rh(n,r,t.firstChild,e,i,s,!1)}function IA(t,e,n,r,i,s){let o=n[jt],c=o[xt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];mi(e,t,i,l,s)}else{let u=c,l=o[Fe];$_(r)&&(u.flags|=128),Rh(t,e,u,l,i,s,!0)}}function wA(t,e,n,r,i){let s=n[dr],o=Bt(n);s!==o&&mi(e,t,r,s,i);for(let a=gt;a<n.length;a++){let c=n[a];Sc(c[q],c,t,e,r,s)}}function EA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:an.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=an.Important),t.setStyle(n,r,i,s))}}function DA(t,e,n){t.setAttribute(e,"style",n)}function oI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Ad(t,e,r),i!==null&&oI(t,e,i),s!==null&&DA(t,e,s)}var yr={};function Pt(t=1){cI(It(),ce(),Ai()+t,!1)}function cI(t,e,n,r){if(!r)if((e[A]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Wa(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ka(e,s,0,n)}hr(n)}function z(t,e=k.Default){let n=ce();if(n===null)return F(t,e);let r=nt();return F_(r,n,He(t),e)}function uI(t,e,n,r,i,s){let o=J(null);try{let a=null;i&ze.SignalBased&&(a=e[r][Ul]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ze.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):c_(e,a,r,s)}finally{J(o)}}function CA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hr(~i);else{let s=i,o=n[++r],a=n[++r];gS(o,s);let c=e[s];a(2,c)}}}finally{hr(-1)}}function Nh(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[un]=i,d[A]=r|4|128|8|64,(u!==null||t&&t[A]&2048)&&(d[A]|=2048),p_(d),d[Fe]=d[Us]=t,d[sn]=n,d[Nt]=o||t&&t[Nt],d[Te]=a||t&&t[Te],d[Di]=c||t&&t[Di]||null,d[xt]=s,d[wc]=US(),d[tc]=l,d[i_]=u,d[jt]=e.type==2?t[jt]:d,d}function xh(t,e,n,r,i){let s=t.data[e];if(s===null)s=TA(t,e,n,r,i),pS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=uS();s.injectorIndex=o===null?-1:o.injectorIndex}return Dc(s,!0),s}function TA(t,e,n,r,i){let s=y_(),o=v_(),a=o?s:s&&s.parent,c=t.data[e]=xA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function lI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dI(t,e,n,r,i){let s=Ai(),o=r&2;try{hr(-1),o&&e.length>lr&&cI(t,e,lr,!1),Lt(o?2:0,i),n(r,i)}finally{hr(s),Lt(o?3:1,i)}}function hI(t,e,n){if(o_(e)){let r=J(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{J(r)}}}function bA(t,e,n){m_()&&(UA(t,e,n,_t(n,e)),(n.flags&64)===64&&yI(t,e,n))}function SA(t,e,n=_t){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function fI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=pI(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pI(t,e,n,r,i,s,o,a,c,u,l){let d=lr+r,h=d+i,p=AA(d,h),m=typeof u=="function"?u():u;return p[q]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function AA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:yr);return n}function MA(t,e,n,r){let s=r.get(WS,K_)||n===Ut.ShadowDom,o=t.selectRootElement(e,s);return RA(o),o}function RA(t){NA(t)}var NA=()=>null;function xA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return oS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _v(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ze.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?Iv(r,n,u,a,c):Iv(r,n,u,a)}return r}function Iv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function PA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,m=h?h.outputs:null;c=_v(0,d.inputs,l,c,p),u=_v(1,d.outputs,l,u,m);let _=c!==null&&o!==null&&!lh(e)?YA(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function OA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function gI(t,e,n,r,i,s,o,a){let c=_t(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Oh(t,n,l,r,i),Ec(e)&&kA(n,e.index)):e.type&3?(r=OA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function kA(t,e){let n=Pn(e,t);n[A]&16||(n[A]|=64)}function FA(t,e,n,r){if(m_()){let i=r===null?null:{"":-1},s=BA(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&mI(t,e,n,o,i,a),i&&$A(n,r,i)}n.mergedAttrs=Ts(n.mergedAttrs,n.attrs)}function mI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Fd(oc(n,e),t,r[u].type);qA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=lI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Ts(n.mergedAttrs,l.hostAttrs),zA(t,n,e,c,l),HA(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}PA(t,n,s)}function LA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;VA(o)!=a&&o.push(a),o.push(n,r,s)}}function VA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function UA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Ec(n)&&GA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||oc(n,e),Ti(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Ci(e,t,a,n);if(Ti(u,e),o!==null&&QA(e,a-i,u,c,n,o),Nn(c)){let l=Pn(n.index,e);l[sn]=Ci(e,t,a,n)}}}function yI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=mS();try{hr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Od(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&jA(c,u)}}finally{hr(-1),Od(o)}}function jA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function BA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Tb(e,o.selectors,!1))if(r||(r=[]),Nn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Hd(t,e,c)}else r.unshift(o),Hd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Hd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $A(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new b(-301,!1);r.push(e[i],s)}}}function HA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Nn(e)&&(n[""]=t)}}function qA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=_i(i.type,!0)),o=new fr(s,Nn(i),z);t.blueprint[r]=o,n[r]=o,LA(t,e,r,lI(t,n,i.hostVars,yr),i)}function GA(t,e,n){let r=_t(e,t),i=fI(n),s=t[Nt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ph(t,Nh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function WA(t,e,n,r,i,s){let o=_t(t,e);KA(e[Te],o,s,t.value,n,r,i)}function KA(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?mc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function QA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];uI(r,n,c,u,l,d)}}function YA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function JA(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function vI(t,e){let n=t.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];__(s),a.contentQueries(2,e[o],o)}}}finally{J(r)}}}function Ph(t,e){return t[As]?t[av][Rt]=e:t[As]=e,t[av]=e,e}function qd(t,e,n){__(0);let r=J(null);try{e(t,n)}finally{J(r)}}function ZA(t){return t[Ss]||(t[Ss]=[])}function XA(t){return t.cleanup||(t.cleanup=[])}function _I(t,e){let n=t[Di],r=n?n.get(on,null):null;r&&r.handleError(e)}function Oh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];uI(l,u,r,a,c,i)}}function eM(t,e,n){let r=h_(e,t);iA(t[Te],r,n)}function tM(t,e){let n=Pn(e,t),r=n[q];nM(r,n);let i=n[un];i!==null&&n[tc]===null&&(n[tc]=bh(i,n[Di])),II(r,n,n[sn])}function nM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function II(t,e,n){yh(e);try{let r=t.viewQuery;r!==null&&qd(1,r,n);let i=t.template;i!==null&&dI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ic]?.finishViewCreation(t),t.staticContentQueries&&vI(t,e),t.staticViewQueries&&qd(2,t.viewQuery,n);let s=t.components;s!==null&&rM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[A]&=-5,vh()}}function rM(t,e){for(let n=0;n<e.length;n++)tM(t,e[n])}function wv(t,e){return!e||e.firstChild===null||$_(t)}function iM(t,e,n,r=!0){let i=e[q];if(cA(i,e,t,n),r){let o=$d(n,t),a=e[Te],c=Mh(a,t[dr]);c!==null&&oA(i,t[xt],a,e,c,o)}let s=e[tc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Bt(s)),ln(s)&&sM(s,r);let o=n.type;if(o&8)uc(t,e,n.child,r);else if(o&32){let a=Ah(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=sI(e,n);if(Array.isArray(a))r.push(...a);else{let c=Rs(e[jt]);uc(c[q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function sM(t,e){for(let n=gt;n<t.length;n++){let r=t[n],i=r[q].firstChild;i!==null&&uc(r[q],r,i,e)}t[dr]!==t[un]&&e.push(t[dr])}var wI=[];function oM(t){return t[ur]??aM(t)}function aM(t){let e=wI.pop()??Object.create(uM);return e.lView=t,e}function cM(t){t.lView[ur]!==t&&(t.lView=null,wI.push(t))}var uM=ee(I({},Ey),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ms(t.lView)},consumerOnSignalRead(){this.lView[ur]=this}}),EI=100;function DI(t,e=!0,n=0){let r=t[Nt],i=r.rendererFactory,s=!1;s||i.begin?.();try{lM(t,n)}catch(o){throw e&&_I(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function lM(t,e){zd(t,e);let n=0;for(;mh(t);){if(n===EI)throw new b(103,!1);n++,zd(t,1)}}function dM(t,e,n,r){let i=e[A];if((i&256)===256)return;let s=!1;!s&&e[Nt].inlineEffectRunner?.flush(),yh(e);let o=null,a=null;!s&&hM(t)&&(a=oM(e),o=Dy(a));try{p_(e),hS(t.bindingStartIndex),n!==null&&dI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Wa(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ka(e,d,0,null),fd(e,0)}if(fM(e),CI(e,0),t.contentQueries!==null&&vI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Wa(e,d)}else{let d=t.contentHooks;d!==null&&Ka(e,d,1),fd(e,1)}CA(t,e);let u=t.components;u!==null&&bI(e,u,0);let l=t.viewQuery;if(l!==null&&qd(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Wa(e,d)}else{let d=t.viewHooks;d!==null&&Ka(e,d,2),fd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[hd]){for(let d of e[hd])d();e[hd]=null}s||(e[A]&=-73)}catch(c){throw Ms(e),c}finally{a!==null&&(Cy(a,o),cM(a)),vh()}}function hM(t){return t.type!==2}function CI(t,e){for(let n=q_(t);n!==null;n=z_(n))for(let r=gt;r<n.length;r++){let i=n[r];TI(i,e)}}function fM(t){for(let e=q_(t);e!==null;e=z_(e)){if(!(e[A]&ph.HasTransplantedViews))continue;let n=e[rc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Fe];tS(i)}}}function pM(t,e,n){let r=Pn(e,t);TI(r,n)}function TI(t,e){gh(t)&&zd(t,e)}function zd(t,e){let r=t[q],i=t[A],s=t[ur],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&jl(s)),s&&(s.dirty=!1),t[A]&=-9217,o)dM(r,t,r.template,t[sn]);else if(i&8192){CI(t,1);let a=r.components;a!==null&&bI(t,a,1)}}function bI(t,e,n){for(let r=0;r<e.length;r++)pM(t,e[r],n)}function kh(t){for(t[Nt].changeDetectionScheduler?.notify();t;){t[A]|=64;let e=Rs(t);if(Gb(t)&&!e)return t;t=e}return null}var bi=class{get rootNodes(){let e=this._lView,n=e[q];return uc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[A]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Fe];if(ln(e)){let n=e[nc],r=n?n.indexOf(this):-1;r>-1&&(Bd(e,r),Xa(n,r))}this._attachedToViewContainer=!1}nI(this._lView[q],this._lView)}onDestroy(e){g_(this._lView,e)}markForCheck(){kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[A]&=-129}reattach(){Pd(this._lView),this._lView[A]|=128}detectChanges(){this._lView[A]|=1024,DI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,eI(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=e,Pd(this._lView)}};var Mq=new RegExp(`^(\\d+)*(${zS}|${qS})*(.*)`);var gM=()=>null;function Ev(t,e){return gM(t,e)}var Gd=class{},Wd=class{},lc=class{};function mM(t){let e=Error(`No component factory found for ${Qe(t)}.`);return e[yM]=t,e}var yM="ngComponent";var Kd=class{resolveComponentFactory(e){throw mM(e)}},Ac=(()=>{let e=class e{};e.NULL=new Kd;let t=e;return t})(),Ns=class{},vr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>vM();let t=e;return t})();function vM(){let t=ce(),e=nt(),n=Pn(e.index,t);return(or(n)?n:t)[Te]}var _M=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),vd={};var Dv=new Set;function SI(t){Dv.has(t)||(Dv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Cv(...t){}function IM(){let t=typeof rn.requestAnimationFrame=="function",e=rn[t?"requestAnimationFrame":"setTimeout"],n=rn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=IM().nativeRequestAnimationFrame,DM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new b(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,wM,Cv,Cv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},wM={};function Fh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function EM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Qd(t),t.isCheckStableRunning=!0,Fh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Qd(t))}function DM(t){let e=()=>{EM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(CM(a))return n.invokeTask(i,s,o,a);try{return Tv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Tv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),bv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Qd(t),Fh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Qd(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Tv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bv(t){t._nesting--,Fh(t)}function CM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var AI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Yd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Jy(i,a);else if(s==2){let c=a,u=e[++o];r=Jy(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var dc=class extends Ac{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=cr(e);return new xs(n,this.ngModule)}};function Sv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function TM(t){let e=t.toLowerCase();return e==="svg"?Yb:e==="math"?Jb:null}var Jd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yc(r);let i=this.injector.get(e,vd,r);return i!==vd||n===vd?i:this.parentInjector.get(e,n,r)}},xs=class extends lc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Sv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Sv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Mb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=J(null);try{i=i||this.ngModule;let o=i instanceof mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Jd(e,o):e,c=a.get(Ns,null);if(c===null)throw new b(407,!1);let u=a.get(_M,null),l=a.get(AI,null),d=a.get(Gd,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?MA(p,r,this.componentDef.encapsulation,a):X_(p,m,TM(m)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let C=null;_!==null&&(C=bh(_,a,!0));let se=pI(0,null,null,1,0,null,null,null,null,null,null),ne=Nh(null,se,null,D,null,null,h,p,a,null,C);yh(ne);let fe,dt;try{let ve=this.componentDef,ht,Zr=null;ve.findHostDirectiveDefs?(ht=[],Zr=new Map,ve.findHostDirectiveDefs(ve,ht,Zr),ht.push(ve)):ht=[ve];let tr=bM(ne,_),Xr=SM(tr,_,ve,ht,ne,h,p);dt=f_(se,lr),_&&RM(p,ve,_,r),n!==void 0&&NM(dt,this.ngContentSelectors,n),fe=MM(Xr,ve,ht,Zr,ne,[xM]),II(se,ne,null)}finally{vh()}return new Zd(this.componentType,fe,Eh(dt,ne),ne,dt)}finally{J(s)}}},Zd=class extends Wd{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Oh(s[q],s,i,e,n),this.previousInputValues.set(e,n);let o=Pn(this._tNode.index,s);kh(o)}}get injector(){return new ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function bM(t,e){let n=t[q],r=lr;return t[r]=e,xh(n,r,2,"#host",null)}function SM(t,e,n,r,i,s,o){let a=i[q];AM(r,t,e,o);let c=null;e!==null&&(c=bh(e,i[Di]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Nh(i,fI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&Hd(a,t,r.length-1),Ph(i,d),i[t.index]=d}function AM(t,e,n,r){for(let i of t)e.mergedAttrs=Ts(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Yd(e,e.mergedAttrs,!0),n!==null&&aI(r,n,e))}function MM(t,e,n,r,i,s){let o=nt(),a=i[q],c=_t(o,i);mI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Ci(i,a,d,o);Ti(h,i)}yI(a,i,o),c&&Ti(c,i);let u=Ci(i,a,o.directiveStart+o.componentOffset,o);if(t[sn]=i[sn]=u,s!==null)for(let l of s)l(u,e);return hI(a,o,i),u}function RM(t,e,n,r){if(r)Ad(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=Rb(e.selectors[0]);i&&Ad(t,n,i),s&&s.length>0&&oI(t,n,s.join(" "))}}function NM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function xM(){let t=nt();A_(ce()[q],t)}var Mc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PM;let t=e;return t})();function PM(){let t=nt();return kM(t,ce())}var OM=Mc,MI=class extends OM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Eh(this._hostTNode,this._hostLView)}get injector(){return new ar(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ih(this._hostTNode,this._hostLView);if(R_(e)){let n=sc(e,this._hostLView),r=ic(e),i=n[q].data[r+8];return new ar(i,n)}else return new ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Av(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ev(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,wv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!zb(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new xs(cr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(mt,null);_&&(s=_)}let l=cr(c.componentType??{}),d=Ev(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,wv(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(eS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Fe],u=new MI(c,c[xt],c[Fe]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return iM(o,i,s,r),e.attachToViewContainerRef(),$v(_d(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Av(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bd(this._lContainer,n);r&&(Xa(_d(this._lContainer),n),nI(r[q],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bd(this._lContainer,n);return r&&Xa(_d(this._lContainer),n)!=null?new bi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Av(t){return t[nc]}function _d(t){return t[nc]||(t[nc]=[])}function kM(t,e){let n,r=e[t.index];return ln(r)?n=r:(n=JA(r,e,null,t),e[t.index]=n,Ph(e,n)),LM(n,e,t,r),new MI(n,t,e)}function FM(t,e){let n=t[Te],r=n.createComment(""),i=_t(e,t),s=Mh(n,i);return cc(n,s,r,gA(n,i),!1),r}var LM=VM;function VM(t,e,n,r){if(t[dr])return;let i;n.type&8?i=Bt(r):i=FM(e,n),t[dr]=i}function UM(t){return typeof t=="function"&&t[Ul]!==void 0}function RI(t){return UM(t)&&typeof t.set=="function"}function jM(t){return Object.getPrototypeOf(t.prototype).constructor}function Mi(t){let e=jM(t.type),n=!0,r=[t];for(;e;){let i;if(Nn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new b(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=qa(t.inputs),o.inputTransforms=qa(t.inputTransforms),o.declaredInputs=qa(t.declaredInputs),o.outputs=qa(t.outputs);let a=i.hostBindings;a&&zM(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&HM(t,c),u&&qM(t,u),BM(t,i),Y0(t.outputs,i.outputs),Nn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Mi&&(n=!1)}}e=Object.getPrototypeOf(e)}$M(r)}function BM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function $M(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ts(i.hostAttrs,n=Ts(n,i.hostAttrs))}}function qa(t){return t===Ii?{}:t===pt?[]:t}function HM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function qM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function zM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var xn=class{},Ps=class{};var Xd=class extends xn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dc(this);let i=Jv(e);this._bootstrapComponents=Z_(i.bootstrap),this._r3Injector=U_(e,n,[{provide:xn,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver},...r],Qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eh=class extends Ps{constructor(e){super(),this.moduleType=e}create(e){return new Xd(this.moduleType,e,[])}};var hc=class extends xn{constructor(e){super(),this.componentFactoryResolver=new dc(this),this.instance=null;let n=new bs([...e.providers,{provide:xn,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver}],e.parent||hh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vh(t,e,n=null){return new hc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Rc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ne(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GM(t,e,n){return t[e]=n}function WM(t,e){return t[e]}function $s(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function KM(t){return(t.flags&32)===32}function Nc(t,e,n,r){let i=ce(),s=Cc();if($s(i,s,e)){let o=It(),a=_h();WA(a,i,t,e,n,r)}return Nc}function QM(t,e,n,r){return $s(t,Cc(),n)?e+mc(n)+r:yr}function za(t,e){return t<<17|e<<2}function pr(t){return t>>17&32767}function YM(t){return(t&2)==2}function JM(t,e){return t&131071|e<<17}function th(t){return t|2}function Si(t){return(t&131068)>>2}function Id(t,e){return t&-131069|e<<2}function ZM(t){return(t&1)===1}function nh(t){return t|1}function XM(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=pr(o),c=Si(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ls(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=pr(t[a+1]);t[r+1]=za(h,a),h!==0&&(t[h+1]=Id(t[h+1],r)),t[a+1]=JM(t[a+1],r)}else t[r+1]=za(a,0),a!==0&&(t[a+1]=Id(t[a+1],r)),a=r;else t[r+1]=za(c,0),a===0?a=r:t[c+1]=Id(t[c+1],r),c=r;u&&(t[r+1]=th(t[r+1])),Mv(t,l,r,!0),Mv(t,l,r,!1),eR(e,l,t,r,s),o=za(a,c),s?e.classBindings=o:e.styleBindings=o}function eR(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ls(s,e)>=0&&(n[r+1]=nh(n[r+1]))}function Mv(t,e,n,r){let i=t[n+1],s=e===null,o=r?pr(i):Si(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];tR(c,e)&&(a=!0,t[o+1]=r?nh(u):th(u)),o=r?pr(u):Si(u)}a&&(t[n+1]=r?th(i):nh(i))}function tR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ls(t,e)>=0:!1}function Uh(t,e,n){let r=ce(),i=Cc();if($s(r,i,e)){let s=It(),o=_h();gI(s,o,r,t,e,r[Te],n,!1)}return Uh}function Rv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Oh(t,n,s[o],o,r)}function jh(t,e){return nR(t,e,null,!0),jh}function nR(t,e,n,r){let i=ce(),s=It(),o=fS(2);if(s.firstUpdatePass&&iR(s,t,o,r),e!==yr&&$s(i,o,e)){let a=s.data[Ai()];uR(s,a,i,i[Te],t,i[o+1]=lR(e,n),r,o)}}function rR(t,e){return e>=t.expandoStartIndex}function iR(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ai()],o=rR(t,n);dR(s,r)&&e===null&&!o&&(e=!1),e=sR(i,s,e,r),XM(i,s,e,n,o,r)}}function sR(t,e,n,r){let i=yS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wd(null,t,e,n,r),n=Os(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=wd(i,t,e,n,r),s===null){let c=oR(t,e,r);c!==void 0&&Array.isArray(c)&&(c=wd(null,t,e,c[1],r),c=Os(c,e.attrs,r),aR(t,e,r,c))}else s=cR(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function oR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Si(r)!==0)return t[pr(r)]}function aR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[pr(i)]=r}function cR(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Os(r,o,n)}return Os(r,e.attrs,n)}function wd(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Os(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Os(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yb(t,o,n?!0:e[++s]))}return t===void 0?null:t}function uR(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=ZM(u)?Nv(c,e,n,i,Si(u),o):void 0;if(!fc(l)){fc(s)||YM(u)&&(s=Nv(c,null,n,i,a,o));let d=h_(Ai(),n);EA(r,o,d,i,s)}}function Nv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===yr&&(h=d?pt:void 0);let p=d?ld(h,r):l===r?h:void 0;if(u&&!fc(p)&&(p=ld(c,r)),fc(p)&&(a=p,o))return a;let m=t[i+1];i=o?pr(m):Si(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=ld(c,r))}return a}function fc(t){return t!==void 0}function lR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qe(Bs(t)))),t}function dR(t,e){return(t.flags&(e?8:16))!==0}function hR(t,e,n,r,i,s){let o=e.consts,a=uv(o,i),c=xh(e,t,2,r,a);return FA(e,n,c,uv(o,s)),c.attrs!==null&&Yd(c,c.attrs,!1),c.mergedAttrs!==null&&Yd(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function L(t,e,n,r){let i=ce(),s=It(),o=lr+t,a=i[Te],c=s.firstCreatePass?hR(o,s,i,e,n,r):s.data[o],u=fR(s,i,c,a,e,t);i[o]=u;let l=a_(c);return Dc(c,!0),aI(a,u,c),!KM(c)&&b_()&&iI(s,i,u,c),rS()===0&&Ti(u,i),iS(),l&&(bA(s,i,c),hI(s,c,i)),r!==null&&SA(i,c),L}function V(){let t=nt();v_()?lS():(t=t.parent,Dc(t,!1));let e=t;aS(e)&&cS(),sS();let n=It();return n.firstCreatePass&&(A_(n,t),o_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&DS(e)&&Rv(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&CS(e)&&Rv(n,e,ce(),e.stylesWithoutHost,!1),V}function Le(t,e,n,r){return L(t,e,n,r),V(),Le}var fR=(t,e,n,r,i,s)=>(S_(!0),X_(r,i,_S()));var pc="en-US";var pR=pc;function gR(t){typeof t=="string"&&(pR=t.toLowerCase().replace(/_/g,"-"))}function we(t,e,n,r){let i=ce(),s=It(),o=nt();return NI(s,i,i[Te],o,t,e,r),we}function mR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ss],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function NI(t,e,n,r,i,s,o){let a=a_(r),u=t.firstCreatePass&&XA(t),l=e[sn],d=ZA(e),h=!0;if(r.type&3||o){let _=_t(r,e),D=o?o(_):_,C=d.length,se=o?fe=>o(Bt(fe[r.index])):r.index,ne=null;if(!o&&a&&(ne=mR(t,e,i,r.index)),ne!==null){let fe=ne.__ngLastListenerFn__||ne;fe.__ngNextListenerFn__=s,ne.__ngLastListenerFn__=s,h=!1}else{s=Pv(r,e,l,s,!1);let fe=n.listen(D,i,s);d.push(s,fe),u&&u.push(i,se,C,C+1)}}else s=Pv(r,e,l,s,!1);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let _=m.length;if(_)for(let D=0;D<_;D+=2){let C=m[D],se=m[D+1],dt=e[C][se].subscribe(s),ve=d.length;d.push(s,dt),u&&u.push(i,r.index,ve,-(ve+1))}}}function xv(t,e,n,r){let i=J(null);try{return Lt(6,e,n),n(r)!==!1}catch(s){return _I(t,s),!1}finally{Lt(7,e,n),J(i)}}function Pv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Pn(t.index,e):e;kh(a);let c=xv(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=xv(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Z(t,e=""){let n=ce(),r=It(),i=t+lr,s=r.firstCreatePass?xh(r,i,1,e,null):r.data[i],o=yR(r,n,s,e,t);n[i]=o,b_()&&iI(r,n,o,s),Dc(s,!1)}var yR=(t,e,n,r,i)=>(S_(!0),rA(e[Te],r));function Bh(t){return Ri("",t,""),Bh}function Ri(t,e,n){let r=ce(),i=QM(r,t,e,n);return i!==yr&&eM(r,Ai(),i),Ri}function _r(t,e,n){RI(e)&&(e=e());let r=ce(),i=Cc();if($s(r,i,e)){let s=It(),o=_h();gI(s,o,r,t,e,r[Te],n,!1)}return _r}function Ni(t,e){let n=RI(t);return n&&t.set(e),n}function Ir(t,e){let n=ce(),r=It(),i=nt();return NI(r,n,n[Te],i,t,e),Ir}function vR(t,e,n){let r=It();if(r.firstCreatePass){let i=Nn(t);rh(n,r.data,r.blueprint,i,!0),rh(e,r.data,r.blueprint,i,!1)}}function rh(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let s=0;s<t.length;s++)rh(t[s],e,n,r,i);else{let s=It(),o=ce(),a=nt(),c=Ei(t)?t:He(t.provide),u=r_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ei(t)||!t.multi){let p=new fr(u,i,z),m=Dd(c,e,i?l:l+h,d);m===-1?(Fd(oc(a,o),s,c),Ed(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[m]=p,o[m]=p)}else{let p=Dd(c,e,l+h,d),m=Dd(c,e,l,l+h),_=p>=0&&n[p],D=m>=0&&n[m];if(i&&!D||!i&&!_){Fd(oc(a,o),s,c);let C=wR(i?IR:_R,n.length,i,r,u);!i&&D&&(n[m].providerFactory=C),Ed(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=xI(n[i?m:p],u,!i&&r);Ed(s,t,p>-1?p:m,C)}!i&&r&&D&&n[m].componentProviders++}}}function Ed(t,e,n,r){let i=Ei(e),s=Lb(e);if(i||s){let c=(s?He(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function xI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Dd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function _R(t,e,n,r){return ih(this.multi,[])}function IR(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ci(n,n[q],this.providerFactory.index,r);s=a.slice(0,o),ih(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ih(i,s);return s}function ih(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function wR(t,e,n,r,i){let s=new fr(t,n,z);return s.multi=[],s.index=e,s.componentProviders=0,xI(s,i,r&&!n),s}function $h(t,e=[]){return n=>{n.providersResolver=(r,i)=>vR(r,i?i(t):t,e)}}var ER=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=e_(!1,r.type),s=i.length>0?Vh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(F(mt))});let t=e;return t})();function Ze(t){SI("NgStandalone"),t.getStandaloneInjector=e=>e.get(ER).getOrCreateStandaloneInjector(t)}function PI(t,e,n){let r=dS()+t,i=ce();return i[r]===yr?GM(i,r,n?e.call(n):e()):WM(i,r)}var cn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},OI=new cn("17.3.5"),xc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var kI=new S("");function wr(t){return!!t&&typeof t.then=="function"}function FI(t){return!!t&&typeof t.subscribe=="function"}var LI=new S(""),VI=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(LI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(wr(o))r.push(o);else if(FI(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hh=new S("");function DR(){by(()=>{throw new b(600,!1)})}function CR(t){return t.isBoundToModule}function TR(t,e,n){try{let r=n();return wr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Hs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(j_),this.afterRenderEffectManager=w(AI),this.externalTestViews=new Set,this.beforeRender=new ke,this.afterTick=new ke,this.componentTypes=[],this.components=[],this.isStable=w(Rc).hasPendingTasks.pipe(B(r=>!r)),this._injector=w(mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof lc;if(!this._injector.get(VI).done){let p=!s&&Yv(r),m=!1;throw new b(405,m)}let a;s?a=r:a=this._injector.get(Ac).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=CR(a)?void 0:this._injector.get(xn),u=i||a.selector,l=a.create(wt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(kI,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Cd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new b(101,!1);let i=J(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,J(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===EI)throw new b(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)bR(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sh(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sh(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Cd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Hh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Cd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new b(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function bR(t,e,n){!e&&!sh(t)||SR(t,n,e)}function sh(t){return mh(t)}function SR(t,e,n){let r;n?(r=0,t[A]|=1024):t[A]&64?r=0:r=1,DI(t,e,r)}var oh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qh=(()=>{let e=class e{compileModuleSync(r){return new eh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Jv(r),o=Z_(s.declarations).reduce((a,c)=>{let u=cr(c);return u&&a.push(new xs(u)),a},[]);return new oh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var AR=(()=>{let e=class e{constructor(){this.zone=w(te),this.applicationRef=w(Hs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MR(t){return[{provide:te,useFactory:t},{provide:wi,multi:!0,useFactory:()=>{let e=w(AR,{optional:!0});return()=>e.initialize()}},{provide:wi,multi:!0,useFactory:()=>{let e=w(PR);return()=>{e.initialize()}}},{provide:j_,useFactory:RR}]}function RR(){let t=w(te),e=w(on);return n=>t.runOutsideAngular(()=>e.handleError(n))}function NR(t){let e=MR(()=>new te(xR(t)));return vc([[],e])}function xR(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var PR=(()=>{let e=class e{constructor(){this.subscription=new le,this.initialized=!1,this.zone=w(te),this.pendingTasks=w(Rc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OR(){return typeof $localize<"u"&&$localize.locale||pc}var zh=new S("",{providedIn:"root",factory:()=>w(zh,k.Optional|k.SkipSelf)||OR()});var UI=new S("");var Ya=null;function kR(t=[],e){return wt.create({name:e,providers:[{provide:_c,useValue:"platform"},{provide:UI,useValue:new Set([()=>Ya=null])},...t]})}function FR(t=[]){if(Ya)return Ya;let e=kR(t);return Ya=e,DR(),LR(e),e}function LR(t){t.get(Ch,null)?.forEach(n=>n())}var Er=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VR;let t=e;return t})();function VR(t){return UR(nt(),ce(),(t&16)===16)}function UR(t,e,n){if(Ec(t)&&!n){let r=Pn(t.index,e);return new bi(r,r)}else if(t.type&47){let r=e[jt];return new bi(r,e)}return null}function jI(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=FR(r),s=[NR(),...n||[]],a=new hc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(te);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(on,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(UI);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),TR(u,c,()=>{let p=a.get(VI);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get(zh,pc);gR(m||pc);let _=a.get(Hs);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function Dr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var HI=null;function dn(){return HI}function qI(t){HI??=t}var Pc=class{};var Et=new S(""),zI=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(jR),providedIn:"platform"});let t=e;return t})();var jR=(()=>{let e=class e extends zI{constructor(){super(),this._doc=w(Et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dn().getBaseHref(this._doc)}onPopState(r){let i=dn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=dn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function GI(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function BI(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Cr(t){return t&&t[0]!=="?"?"?"+t:t}var xi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(WI),providedIn:"root"});let t=e;return t})(),BR=new S(""),WI=(()=>{let e=class e extends xi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(Et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return GI(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Cr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Cr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Cr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(zI),F(BR,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qs=(()=>{let e=class e{constructor(r){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=qR(BI($I(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Cr(i))}normalize(r){return e.stripTrailingSlash(HR(this._basePath,$I(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Cr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Cr,e.joinWithSlash=GI,e.stripTrailingSlash=BI,e.\u0275fac=function(i){return new(i||e)(F(xi))},e.\u0275prov=N({token:e,factory:()=>$R(),providedIn:"root"});let t=e;return t})();function $R(){return new qs(F(xi))}function HR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $I(t){return t.replace(/\/index.html$/,"")}function qR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function KI(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var QI="browser",zR="server";function Gh(t){return t===zR}var Oc=class{};var Qh=class extends Pc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yh=class t extends Qh{static makeCurrent(){qI(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=WR();return n==null?null:KR(n)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return KI(document.cookie,e)}},zs=null;function WR(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}function KR(t){return new URL(t,document.baseURI).pathname}var QR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Jh=new S(""),XI=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new b(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(F(Jh),F(te))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),kc=class{constructor(e){this._doc=e}},Wh="ng-app-id",ew=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Wh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Wh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Wh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(F(Et),F(Dh),F(Th,8),F(kn))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xh=/%COMP%/g,tw="%COMP%",YR=`_nghost-${tw}`,JR=`_ngcontent-${tw}`,ZR=!0,XR=new S("",{providedIn:"root",factory:()=>ZR});function eN(t){return JR.replace(Xh,t)}function tN(t){return YR.replace(Xh,t)}function nw(t,e){return e.map(n=>n.replace(Xh,t))}var YI=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Gh(c),this.defaultRenderer=new Gs(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ut.ShadowDom&&(i=ee(I({},i),{encapsulation:Ut.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Fc?s.applyToHost(r):s instanceof Ws&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ut.Emulated:o=new Fc(u,l,i,this.appId,d,a,c,h);break;case Ut.ShadowDom:return new Zh(u,l,r,i,a,c,this.nonce,h);default:o=new Ws(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(F(XI),F(ew),F(Dh),F(XR),F(Et),F(kn),F(te),F(Th))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Gs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Kh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(JI(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(JI(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Kh[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(an.DashCase|an.Important)?e.style.setProperty(n,r,i&an.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&an.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=dn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function JI(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Zh=class extends Gs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=nw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ws=class extends Gs{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?nw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Fc=class extends Ws{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=eN(u),this.hostAttr=tN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},nN=(()=>{let e=class e extends kc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(F(Et))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),ZI=["alt","control","meta","shift"],rN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},sN=(()=>{let e=class e extends kc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),ZI.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=rN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),ZI.forEach(a=>{if(a!==s){let c=iN[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(F(Et))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function rw(t,e){return jI(I({rootComponent:t},oN(e)))}function oN(t){return{appProviders:[...dN,...t?.providers??[]],platformProviders:lN}}function aN(){Yh.makeCurrent()}function cN(){return new on}function uN(){return W_(document),document}var lN=[{provide:kn,useValue:QI},{provide:Ch,useValue:aN,multi:!0},{provide:Et,useFactory:uN,deps:[]}];var dN=[{provide:_c,useValue:"root"},{provide:on,useFactory:cN,deps:[]},{provide:Jh,useClass:nN,multi:!0,deps:[Et,te,kn]},{provide:Jh,useClass:sN,multi:!0,deps:[Et]},YI,ew,XI,{provide:Ns,useExisting:YI},{provide:Oc,useClass:QR,deps:[]},[]];var iw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(F(Et))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var O="primary",co=Symbol("RouteTitle"),sf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Li(t){return new sf(t)}function fN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ht(t[n],e[n]))return!1;return!0}function Ht(t,e){let n=t?of(t):void 0,r=e?of(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!lw(t[i],e[i]))return!1;return!0}function of(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function dw(t){return t.length>0?t[t.length-1]:null}function Un(t){return nd(t)?t:wr(t)?de(Promise.resolve(t)):P(t)}var gN={exact:fw,subset:pw},hw={exact:mN,subset:yN,ignored:()=>!0};function sw(t,e,n){return gN[n.paths](t.root,e.root,n.matrixParams)&&hw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function mN(t,e){return Ht(t,e)}function fw(t,e,n){if(!br(t.segments,e.segments)||!Uc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!fw(t.children[r],e.children[r],n))return!1;return!0}function yN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>lw(t[n],e[n]))}function pw(t,e,n){return gw(t,e,e.segments,n)}function gw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!br(i,n)||e.hasChildren()||!Uc(i,n,r))}else if(t.segments.length===n.length){if(!br(t.segments,n)||!Uc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!pw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!br(t.segments,i)||!Uc(t.segments,i,r)||!t.children[O]?!1:gw(t.children[O],e,s,r)}}function Uc(t,e,n){return e.every((r,i)=>hw[n](t[i].parameters,r.parameters))}var Fn=class{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){return IN.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}},Tr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Li(this.parameters),this._parameterMap}toString(){return yw(this)}};function vN(t,e){return br(t,e)&&t.every((n,r)=>Ht(n.parameters,e[r].parameters))}function br(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function _N(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===O&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==O&&(n=n.concat(e(i,r)))}),n}var xf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new $c,providedIn:"root"});let t=e;return t})(),$c=class{parse(e){let n=new cf(e);return new Fn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ks(e.root,!0)}`,r=DN(e.queryParams),i=typeof e.fragment=="string"?`#${wN(e.fragment)}`:"";return`${n}${r}${i}`}},IN=new $c;function jc(t){return t.segments.map(e=>yw(e)).join("/")}function Ks(t,e){if(!t.hasChildren())return jc(t);if(e){let n=t.children[O]?Ks(t.children[O],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==O&&r.push(`${i}:${Ks(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_N(t,(r,i)=>i===O?[Ks(t.children[O],!1)]:[`${i}:${Ks(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[O]!=null?`${jc(t)}/${n[0]}`:`${jc(t)}/(${n.join("//")})`}}function mw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lc(t){return mw(t).replace(/%3B/gi,";")}function wN(t){return encodeURI(t)}function af(t){return mw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bc(t){return decodeURIComponent(t)}function ow(t){return Bc(t.replace(/\+/g,"%20"))}function yw(t){return`${af(t.path)}${EN(t.parameters)}`}function EN(t){return Object.entries(t).map(([e,n])=>`;${af(e)}=${af(n)}`).join("")}function DN(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Lc(n)}=${Lc(i)}`).join("&"):`${Lc(n)}=${Lc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var CN=/^[^\/()?;#]+/;function ef(t){let e=t.match(CN);return e?e[0]:""}var TN=/^[^\/()?;=#]+/;function bN(t){let e=t.match(TN);return e?e[0]:""}var SN=/^[^=?&#]+/;function AN(t){let e=t.match(SN);return e?e[0]:""}var MN=/^[^&#]+/;function RN(t){let e=t.match(MN);return e?e[0]:""}var cf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[O]=new Y(e,n)),r}parseSegment(){let e=ef(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(e),new Tr(Bc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=bN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=ef(this.remaining);i&&(r=i,this.capture(r))}e[Bc(n)]=Bc(r)}parseQueryParam(e){let n=AN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=RN(this.remaining);o&&(r=o,this.capture(r))}let i=ow(n),s=ow(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ef(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=O);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[O]:new Y([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new b(4011,!1)}};function vw(t){return t.segments.length>0?new Y([],{[O]:t}):t}function _w(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=_w(i);if(r===O&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Y(t.segments,e);return NN(n)}function NN(t){if(t.numberOfChildren===1&&t.children[O]){let e=t.children[O];return new Y(t.segments.concat(e.segments),e.children)}return t}function Vi(t){return t instanceof Fn}function xN(t,e,n=null,r=null){let i=Iw(t);return ww(i,e,n,r)}function Iw(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Y(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=vw(r);return e??i}function ww(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return tf(i,i,i,n,r);let s=PN(e);if(s.toRoot())return tf(i,i,new Y([],{}),n,r);let o=ON(s,i,t),a=o.processChildren?Js(o.segmentGroup,o.index,s.commands):Dw(o.segmentGroup,o.index,s.commands);return tf(i,o.segmentGroup,a,n,r)}function Hc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function eo(t){return typeof t=="object"&&t!=null&&t.outlets}function tf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Ew(t,e,n);let a=vw(_w(o));return new Fn(a,s,i)}function Ew(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Ew(s,e,n)}),new Y(t.segments,r)}var qc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hc(r[0]))throw new b(4003,!1);let i=r.find(eo);if(i&&i!==dw(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new qc(n,e,r)}var ki=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ON(t,e,n){if(t.isAbsolute)return new ki(e,!0,0);if(!n)return new ki(e,!1,NaN);if(n.parent===null)return new ki(n,!0,0);let r=Hc(t.commands[0])?0:1,i=n.segments.length-1+r;return kN(n,i,t.numberOfDoubleDots)}function kN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ki(r,!1,i-s)}function FN(t){return eo(t[0])?t[0].outlets:{[O]:t}}function Dw(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return Js(t,e,n);let r=LN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Y(t.segments.slice(0,r.pathIndex),{});return s.children[O]=new Y(t.segments.slice(r.pathIndex),t.children),Js(s,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?uf(t,e,n):r.match?Js(t,0,i):uf(t,e,n)}function Js(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=FN(n),i={};if(Object.keys(r).some(s=>s!==O)&&t.children[O]&&t.numberOfChildren===1&&t.children[O].segments.length===0){let s=Js(t.children[O],e,n);return new Y(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Dw(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Y(t.segments,i)}}function LN(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(eo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!cw(c,u,o))return s;r+=2}else{if(!cw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(eo(s)){let c=VN(s.outlets);return new Y(r,c)}if(i===0&&Hc(n[0])){let c=t.segments[e];r.push(new Tr(c.path,aw(n[0]))),i++;continue}let o=eo(s)?s.outlets[O]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hc(a)?(r.push(new Tr(o,aw(a))),i+=2):(r.push(new Tr(o,{})),i++)}return new Y(r,{})}function VN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=uf(new Y([],{}),0,r))}),e}function aw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function cw(t,e,n){return t==n.path&&Ht(e,n.parameters)}var Zs="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),Dt=class{constructor(e,n){this.id=e,this.url=n}},to=class extends Dt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ln=class extends Dt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(it||{}),lf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(lf||{}),Vn=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends Dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},no=class extends Dt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},zc=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hf=class extends Dt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ff=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends Dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},mf=class{constructor(e){this.route=e,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yf=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vf=class{constructor(e){this.snapshot=e,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_f=class{constructor(e){this.snapshot=e,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{constructor(e){this.snapshot=e,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ro=class{},io=class{constructor(e){this.url=e}};var wf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Jc,this.attachRef=null}},Jc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new wf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ef(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ef(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Df(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Df(e,this._root).map(n=>n.value)}};function Ef(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ef(t,n);if(r)return r}return null}function Df(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Df(t,n);if(r.length)return r.unshift(e),r}return[]}var rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Oi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Wc=class extends Gc{constructor(e,n){super(e),this.snapshot=n,Of(this,e)}toString(){return this.snapshot.toString()}};function Cw(t){let e=UN(t),n=new Ne([new Tr("",{})]),r=new Ne({}),i=new Ne({}),s=new Ne({}),o=new Ne(""),a=new Ar(n,r,s,o,i,O,t,e.root);return a.snapshot=e.root,new Wc(new rt(a,[]),e)}function UN(t){let e={},n={},r={},i="",s=new so([],e,r,i,n,O,t,null,{});return new Kc("",new rt(s,[]))}var Ar=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(B(u=>u[co]))??P(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>Li(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>Li(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&bw(i)&&(r.resolve[co]=i.title),r}var so=class{get title(){return this.data?.[co]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Kc=class extends Gc{constructor(e,n){super(n),this.url=e,Of(this,n)}toString(){return Tw(this._root)}};function Of(t,e){e.value._routerState=t,e.children.forEach(n=>Of(t,n))}function Tw(t){let e=t.children.length>0?` { ${t.children.map(Tw).join(", ")} } `:"";return`${t.value}${e}`}function nf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ht(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ht(e.params,n.params)||t.paramsSubject.next(n.params),pN(e.url,n.url)||t.urlSubject.next(n.url),Ht(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Cf(t,e){let n=Ht(t.params,e.params)&&vN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Cf(t.parent,e.parent))}function bw(t){return typeof t.title=="string"||t.title===null}var kf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=O,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=w(Jc),this.location=w(Mc),this.changeDetector=w(Er),this.environmentInjector=w(mt),this.inputBinder=w(Ff,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Tf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=$t({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mr]});let t=e;return t})(),Tf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Ar?this.route:e===Jc?this.childContexts:this.parent.get(e,n)}},Ff=new S("");function jN(t,e,n){let r=oo(t,e._root,n?n._root:void 0);return new Wc(r,e)}function oo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=BN(t,e,n);return new rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>oo(t,a)),o}}let r=$N(e.value),i=e.children.map(s=>oo(t,s));return new rt(r,i)}}function BN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return oo(t,r,i);return oo(t,r)})}function $N(t){return new Ar(new Ne(t.url),new Ne(t.params),new Ne(t.queryParams),new Ne(t.fragment),new Ne(t.data),t.outlet,t.component,t)}var Sw="ngNavigationCancelingError";function Aw(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Vi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Mw(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Mw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Sw]=!0,n.cancellationCode=e,n}function HN(t){return Rw(t)&&Vi(t.url)}function Rw(t){return!!t&&t[Sw]}var qN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(i,s){i&1&&Le(0,"router-outlet")},dependencies:[kf],encapsulation:2});let t=e;return t})();function zN(t,e){return t.providers&&!t._injector&&(t._injector=Vh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Lf(t){let e=t.children&&t.children.map(Lf),n=e?ee(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==O&&(n.component=qN),n}function qt(t){return t.outlet||O}function GN(t,e){let n=t.filter(r=>qt(r)===e);return n.push(...t.filter(r=>qt(r)!==e)),n}function uo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var WN=(t,e,n,r)=>B(i=>(new bf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),bf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Oi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Oi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Oi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new If(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(nf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=uo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Qc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fi=class{constructor(e,n){this.component=e,this.route=n}};function KN(t,e,n){let r=t._root,i=e?e._root:null;return Qs(r,i,n,[r.value])}function QN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ji(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Fv(t)?t:e.get(t):r}function Qs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Oi(e);return t.children.forEach(o=>{YN(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Xs(a,n.getContext(o),i)),i}function YN(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=JN(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Qs(t,e,a?a.children:null,r,i):Qs(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fi(a.outlet.component,o))}else o&&Xs(e,a,i),i.canActivateChecks.push(new Qc(r)),s.component?Qs(t,null,a?a.children:null,r,i):Qs(t,null,n,r,i);return i}function JN(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!br(t.url,e.url);case"pathParamsOrQueryParamsChange":return!br(t.url,e.url)||!Ht(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cf(t,e)||!Ht(t.queryParams,e.queryParams);case"paramsChange":default:return!Cf(t,e)}}function Xs(t,e,n){let r=Oi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Xs(o,e.children.getContext(s),n):Xs(o,null,n):Xs(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fi(e.outlet.component,i)):n.canDeactivateChecks.push(new Fi(null,i)):n.canDeactivateChecks.push(new Fi(null,i))}function lo(t){return typeof t=="function"}function ZN(t){return typeof t=="boolean"}function XN(t){return t&&lo(t.canLoad)}function ex(t){return t&&lo(t.canActivate)}function tx(t){return t&&lo(t.canActivateChild)}function nx(t){return t&&lo(t.canDeactivate)}function rx(t){return t&&lo(t.canMatch)}function Nw(t){return t instanceof tn||t?.name==="EmptyError"}var Vc=Symbol("INITIAL_VALUE");function Ui(){return At(t=>Va(t.map(e=>e.pipe(nn(1),cd(Vc)))).pipe(B(e=>{for(let n of e)if(n!==!0){if(n===Vc)return Vc;if(n===!1||n instanceof Fn)return n}return!0}),St(e=>e!==Vc),nn(1)))}function ix(t,e){return _e(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?P(ee(I({},n),{guardsResult:!0})):sx(o,r,i,t).pipe(_e(a=>a&&ZN(a)?ox(r,s,t,e):P(a)),B(a=>ee(I({},n),{guardsResult:a})))})}function sx(t,e,n,r){return de(t).pipe(_e(i=>dx(i.component,i.route,n,e,r)),Ft(i=>i!==!0,!0))}function ox(t,e,n,r){return de(e).pipe(hi(i=>di(cx(i.route.parent,r),ax(i.route,r),lx(t,i.path,n),ux(t,i.route,n))),Ft(i=>i!==!0,!0))}function ax(t,e){return t!==null&&e&&e(new _f(t)),P(!0)}function cx(t,e){return t!==null&&e&&e(new yf(t)),P(!0)}function ux(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return P(!0);let i=r.map(s=>Ua(()=>{let o=uo(e)??n,a=ji(s,o),c=ex(a)?a.canActivate(e,t):gr(o,()=>a(e,t));return Un(c).pipe(Ft())}));return P(i).pipe(Ui())}function lx(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>QN(o)).filter(o=>o!==null).map(o=>Ua(()=>{let a=o.guards.map(c=>{let u=uo(o.node)??n,l=ji(c,u),d=tx(l)?l.canActivateChild(r,t):gr(u,()=>l(r,t));return Un(d).pipe(Ft())});return P(a).pipe(Ui())}));return P(s).pipe(Ui())}function dx(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return P(!0);let o=s.map(a=>{let c=uo(e)??i,u=ji(a,c),l=nx(u)?u.canDeactivate(t,e,n,r):gr(c,()=>u(t,e,n,r));return Un(l).pipe(Ft())});return P(o).pipe(Ui())}function hx(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return P(!0);let s=i.map(o=>{let a=ji(o,t),c=XN(a)?a.canLoad(e,n):gr(t,()=>a(e,n));return Un(c)});return P(s).pipe(Ui(),xw(r))}function xw(t){return Kl(Ie(e=>{if(Vi(e))throw Aw(t,e)}),B(e=>e===!0))}function fx(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return P(!0);let s=i.map(o=>{let a=ji(o,t),c=rx(a)?a.canMatch(e,n):gr(t,()=>a(e,n));return Un(c)});return P(s).pipe(Ui(),xw(r))}var ao=class{constructor(e){this.segmentGroup=e||null}},Yc=class extends Error{constructor(e){super(),this.urlTree=e}};function Pi(t){return li(new ao(t))}function px(t){return li(new b(4e3,!1))}function gx(t){return li(Mw(!1,it.GuardRejected))}var Sf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return P(r);if(i.numberOfChildren>1||!i.children[O])return px(e.redirectTo);i=i.children[O]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Yc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Fn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Y(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Af={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mx(t,e,n,r,i){let s=Vf(t,e,n);return s.matched?(r=zN(e,r),fx(r,e,n,i).pipe(B(o=>o===!0?s:I({},Af)))):P(s)}function Vf(t,e,n){if(e.path==="**")return yx(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},Af):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||fN)(n,t,e);if(!i)return I({},Af);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?I(I({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function yx(t){return{matched:!0,parameters:t.length>0?dw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function uw(t,e,n,r){return n.length>0&&Ix(t,n,r)?{segmentGroup:new Y(e,_x(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&wx(t,n,r)?{segmentGroup:new Y(t.segments,vx(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function vx(t,e,n,r){let i={};for(let s of n)if(Zc(t,e,s)&&!r[qt(s)]){let o=new Y([],{});i[qt(s)]=o}return I(I({},r),i)}function _x(t,e){let n={};n[O]=e;for(let r of t)if(r.path===""&&qt(r)!==O){let i=new Y([],{});n[qt(r)]=i}return n}function Ix(t,e,n){return n.some(r=>Zc(t,e,r)&&qt(r)!==O)}function wx(t,e,n){return n.some(r=>Zc(t,e,r))}function Zc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Ex(t,e,n,r){return qt(t)!==r&&(r===O||!Zc(e,n,t))?!1:Vf(e,t,n).matched}function Dx(t,e,n){return e.length===0&&!t.children[n]}var Mf=class{};function Cx(t,e,n,r,i,s,o="emptyOnly"){return new Rf(t,e,n,r,i,o,s).recognize()}var Tx=31,Rf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Sf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new b(4002,`'${e.segmentGroup}'`)}recognize(){let e=uw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(n=>{let r=new so([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},O,this.rootComponentType,null,{}),i=new rt(r,n),s=new Kc("",i),o=xN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,O).pipe(Sn(r=>{if(r instanceof Yc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ao?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Pf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(B(s=>s instanceof rt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(hi(s=>{let o=r.children[s],a=GN(n,s);return this.processSegmentGroup(e,a,o,s)}),ad((s,o)=>(s.push(...o),s)),An(null),od(),_e(s=>{if(s===null)return Pi(r);let o=Pw(s);return bx(o),P(o)}))}processSegment(e,n,r,i,s,o){return de(n).pipe(hi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Sn(c=>{if(c instanceof ao)return P(null);throw c}))),Ft(a=>!!a),Sn(a=>{if(Nw(a))return Dx(r,i,s)?P(new Mf):Pi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Ex(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Pi(i):Pi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Vf(n,i,s);if(!a)return Pi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Tx&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(_e(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=mx(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(At(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(At(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new so(l,h,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Ax(r),qt(r),r.component??r._loadedComponent??null,r,Mx(r)),{segmentGroup:m,slicedSegments:_}=uw(n,l,d,c);if(_.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe(B(C=>C===null?null:new rt(p,C)));if(c.length===0&&_.length===0)return P(new rt(p,[]));let D=qt(r)===s;return this.processSegment(u,c,m,_,D?O:s,!0).pipe(B(C=>new rt(p,C instanceof rt?[C]:[])))}))):Pi(n)))}getChildConfig(e,n,r){return n.children?P({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?P({routes:n._loadedRoutes,injector:n._loadedInjector}):hx(e,n,r,this.urlSerializer).pipe(_e(i=>i?this.configLoader.loadChildren(e,n).pipe(Ie(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):gx(n))):P({routes:[],injector:e})}};function bx(t){t.sort((e,n)=>e.value.outlet===O?-1:n.value.outlet===O?1:e.value.outlet.localeCompare(n.value.outlet))}function Sx(t){let e=t.value.routeConfig;return e&&e.path===""}function Pw(t){let e=[],n=new Set;for(let r of t){if(!Sx(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Pw(r.children);e.push(new rt(r.value,i))}return e.filter(r=>!n.has(r))}function Ax(t){return t.data||{}}function Mx(t){return t.resolve||{}}function Rx(t,e,n,r,i,s){return _e(o=>Cx(t,e,n,r,o.extractedUrl,i,s).pipe(B(({state:a,tree:c})=>ee(I({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Nx(t,e){return _e(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return P(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Ow(c))o.add(u);let a=0;return de(o).pipe(hi(c=>s.has(c)?xx(c,r,t,e):(c.data=Pf(c,c.parent,t).resolve,P(void 0))),Ie(()=>a++),fi(1),_e(c=>a===o.size?P(n):tt))})}function Ow(t){let e=t.children.map(n=>Ow(n)).flat();return[t,...e]}function xx(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!bw(i)&&(s[co]=i.title),Px(s,t,e,r).pipe(B(o=>(t._resolvedData=o,t.data=Pf(t,t.parent,n).resolve,null)))}function Px(t,e,n,r){let i=of(t);if(i.length===0)return P({});let s={};return de(i).pipe(_e(o=>Ox(t[o],e,n,r).pipe(Ft(),Ie(a=>{s[o]=a}))),fi(1),sd(s),Sn(o=>Nw(o)?tt:li(o)))}function Ox(t,e,n,r){let i=uo(e)??r,s=ji(t,i),o=s.resolve?s.resolve(e,n):gr(i,()=>s(e,n));return Un(o)}function rf(t){return At(e=>{let n=t(e);return n?de(n).pipe(B(()=>e)):P(e)})}var kw=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===O);return i}getResolvedTitleForRoute(r){return r.data[co]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(kx),providedIn:"root"});let t=e;return t})(),kx=(()=>{let e=class e extends kw{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(F(iw))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uf=new S("",{providedIn:"root",factory:()=>({})}),jf=new S(""),Fx=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(qh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return P(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Un(r.loadComponent()).pipe(B(Fw),Ie(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Es(()=>{this.componentLoaders.delete(r)})),s=new oi(i,()=>new ke).pipe(si());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return P({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Lx(i,this.compiler,r,this.onLoadEndListener).pipe(Es(()=>{this.childrenLoaders.delete(i)})),a=new oi(o,()=>new ke).pipe(si());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lx(t,e,n,r){return Un(t.loadChildren()).pipe(B(Fw),_e(i=>i instanceof Ps||Array.isArray(i)?P(i):de(e.compileModuleAsync(i))),B(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(jf,[],{optional:!0,self:!0}).flat()),{routes:o.map(Lf),injector:s}}))}function Vx(t){return t&&typeof t=="object"&&"default"in t}function Fw(t){return Vx(t)?t.default:t}var Bf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(Ux),providedIn:"root"});let t=e;return t})(),Ux=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jx=new S("");var Bx=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ke,this.transitionAbortSubject=new ke,this.configLoader=w(Fx),this.environmentInjector=w(mt),this.urlSerializer=w(xf),this.rootContexts=w(Jc),this.location=w(qs),this.inputBindingEnabled=w(Ff,{optional:!0})!==null,this.titleStrategy=w(kw),this.options=w(Uf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(Bf),this.createViewTransition=w(jx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>P(void 0),this.rootComponentType=null;let r=s=>this.events.next(new gf(s)),i=s=>this.events.next(new mf(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ee(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ne({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(St(o=>o.id!==0),B(o=>ee(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),At(o=>{let a=!1,c=!1;return P(o).pipe(At(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),tt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ee(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new Sr(u.id,this.urlSerializer.serialize(u.rawUrl),h,lf.IgnoredSameUrlNavigation)),u.resolve(null),tt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return P(u).pipe(At(h=>{let p=this.transitions?.getValue();return this.events.next(new to(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?tt:Promise.resolve(h)}),Rx(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ie(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ee(I({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new zc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:_,extras:D}=u,C=new to(h,this.urlSerializer.serialize(p),m,_);this.events.next(C);let se=Cw(this.rootComponentType).snapshot;return this.currentTransition=o=ee(I({},u),{targetSnapshot:se,urlAfterRedirects:p,extras:ee(I({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,P(o)}else{let h="";return this.events.next(new Sr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,lf.IgnoredByUrlHandlingStrategy)),u.resolve(null),tt}}),Ie(u=>{let l=new df(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),B(u=>(this.currentTransition=o=ee(I({},u),{guards:KN(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),ix(this.environmentInjector,u=>this.events.next(u)),Ie(u=>{if(o.guardsResult=u.guardsResult,Vi(u.guardsResult))throw Aw(this.urlSerializer,u.guardsResult);let l=new hf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),St(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",it.GuardRejected),!1)),rf(u=>{if(u.guards.canActivateChecks.length)return P(u).pipe(Ie(l=>{let d=new ff(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),At(l=>{let d=!1;return P(l).pipe(Nx(this.paramsInheritanceStrategy,this.environmentInjector),Ie({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",it.NoDataFromResolver)}}))}),Ie(l=>{let d=new pf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),rf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ie(p=>{d.component=p}),B(()=>{})));for(let p of d.children)h.push(...l(p));return h};return Va(l(u.targetSnapshot.root)).pipe(An(null),nn(1))}),rf(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?de(d).pipe(B(()=>o)):P(o)}),B(u=>{let l=jN(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ee(I({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ie(()=>{this.events.next(new ro)}),WN(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),nn(1),Ie({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ln(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ud(this.transitionAbortSubject.pipe(Ie(u=>{throw u}))),Es(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Sn(u=>{if(c=!0,Rw(u))this.events.next(new Vn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),HN(u)?this.events.next(new io(u.url)):o.resolve(!1);else{this.events.next(new no(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return tt}))}))}cancelNavigationTransition(r,i,s){let o=new Vn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $x(t){return t!==Zs}var Hx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(qx),providedIn:"root"});let t=e;return t})(),Nf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},qx=(()=>{let e=class e extends Nf{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=js(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>w(zx),providedIn:"root"});let t=e;return t})(),zx=(()=>{let e=class e extends Lw{constructor(){super(...arguments),this.location=w(qs),this.urlSerializer=w(xf),this.options=w(Uf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(Bf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof to)this.stateMemento=this.createStateMemento();else if(r instanceof Sr)this.rawUrlTree=i.initialUrl;else if(r instanceof zc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ro?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Vn&&(r.code===it.GuardRejected||r.code===it.NoDataFromResolver)?this.restoreHistory(i):r instanceof no?this.restoreHistory(i,!0):r instanceof Ln&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=js(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ys=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ys||{});function Gx(t,e){t.events.pipe(St(n=>n instanceof Ln||n instanceof Vn||n instanceof no||n instanceof Sr),B(n=>n instanceof Ln||n instanceof Sr?Ys.COMPLETE:(n instanceof Vn?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?Ys.REDIRECTING:Ys.FAILED),St(n=>n!==Ys.REDIRECTING),nn(1)).subscribe(()=>{e()})}function Wx(t){throw t}var Kx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},st=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(xc),this.stateManager=w(Lw),this.options=w(Uf,{optional:!0})||{},this.pendingTasks=w(Rc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(Bx),this.urlSerializer=w(xf),this.location=w(qs),this.urlHandlingStrategy=w(Bf),this._events=new ke,this.errorHandler=this.options.errorHandler||Wx,this.navigated=!1,this.routeReuseStrategy=w(Hx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(jf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(Ff,{optional:!0}),this.eventsSubscription=new le,this.isNgZoneEnabled=w(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vn&&i.code!==it.Redirect&&i.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ln)this.navigated=!0;else if(i instanceof io){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||$x(s.source)};this.scheduleNavigation(a,Zs,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Jx(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=I({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Lf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=Iw(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return ww(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Vi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Zs,null,i)}navigate(r,i={skipLocationChange:!1}){return Yx(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=I({},Kx):i===!1?s=I({},Qx):s=i,Vi(r))return sw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return sw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return Gx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new b(4008,!1)}function Jx(t){return!(t instanceof ro)&&!(t instanceof io)}var Vw=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Ln&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Y_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(z(st),z(Ar),wh("tabindex"),z(vr),z(On),z(xi))},e.\u0275dir=$t({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&we("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Nc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ze.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Dr],skipLocationChange:[ze.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Dr],replaceUrl:[ze.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Dr],routerLink:"routerLink"},standalone:!0,features:[Lh,mr]});let t=e;return t})();var Zx=new S("");function Uw(t,...e){return vc([{provide:jf,multi:!0,useValue:t},[],{provide:Ar,useFactory:Xx,deps:[st]},{provide:Hh,multi:!0,useFactory:eP},e.map(n=>n.\u0275providers)])}function Xx(t){return t.routerState.root}function eP(){let t=w(wt);return e=>{let n=t.get(Hs);if(e!==n.components[0])return;let r=t.get(st),i=t.get(tP);t.get(nP)===1&&r.initialNavigation(),t.get(rP,null,k.Optional)?.setUpPreloading(),t.get(Zx,null,k.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var tP=new S("",{factory:()=>new ke}),nP=new S("",{providedIn:"root",factory:()=>1});var rP=new S("");var jw=(()=>{let e=class e{constructor(r){this.router=r,this.mensaje=""}ngOnInit(){let r=localStorage.getItem("Tp1UsuarioLogueado"),i=JSON.parse(r);(i==null||i==null)&&this.goTo("/login"),this.mensaje="Bienvenido "+i.mail}goTo(r){this.router.navigate([r])}cerrarSesion(){localStorage.removeItem("Tp1UsuarioLogueado"),this.goTo("/login")}};e.\u0275fac=function(i){return new(i||e)(z(st))},e.\u0275cmp=Je({type:e,selectors:[["app-home"]],standalone:!0,features:[Ze],decls:15,vars:1,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],["id","navbar",1,"navbar-menu"],[1,"navbar-start"],[1,"navbar-item",3,"click"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],[1,"button","is-primary",3,"click"],[1,"title","is-2","pt-5"]],template:function(i,s){i&1&&(L(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),we("click",function(){return s.goTo("/home")}),Z(4," Home "),V(),L(5,"a",3),we("click",function(){return s.goTo("/about")}),Z(6," Quien soy "),V()(),L(7,"div",4)(8,"div",5)(9,"div",6)(10,"a",7),we("click",function(){return s.cerrarSesion()}),L(11,"strong"),Z(12,"Cerrar Sesi\xF3n"),V()()()()()()(),L(13,"h1",8),Z(14),V()),i&2&&(Pt(14),Bh(s.mensaje))}});let t=e;return t})();var Kw=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(z(vr),z(On))},e.\u0275dir=$t({type:e});let t=e;return t})(),iP=(()=>{let e=class e extends Kw{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=js(e)))(s||e)}})(),e.\u0275dir=$t({type:e,features:[Mi]});let t=e;return t})(),Qw=new S("");var sP={provide:Qw,useExisting:Fs(()=>$i),multi:!0};function oP(){let t=dn()?dn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var aP=new S(""),$i=(()=>{let e=class e extends Kw{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!oP())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(z(vr),z(On),z(aP,8))},e.\u0275dir=$t({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&we("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[$h([sP]),Mi]});let t=e;return t})();var cP=new S(""),uP=new S("");function Yw(t){return t!=null}function Jw(t){return wr(t)?de(t):t}function Zw(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function Xw(t,e){return e.map(n=>n(t))}function lP(t){return!t.validate}function eE(t){return t.map(e=>lP(e)?e:n=>e.validate(n))}function dP(t){if(!t)return null;let e=t.filter(Yw);return e.length==0?null:function(n){return Zw(Xw(n,e))}}function tE(t){return t!=null?dP(eE(t)):null}function hP(t){if(!t)return null;let e=t.filter(Yw);return e.length==0?null:function(n){let r=Xw(n,e).map(Jw);return id(r).pipe(B(Zw))}}function nE(t){return t!=null?hP(eE(t)):null}function Bw(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fP(t){return t._rawValidators}function pP(t){return t._rawAsyncValidators}function $f(t){return t?Array.isArray(t)?t:[t]:[]}function eu(t,e){return Array.isArray(t)?t.includes(e):t===e}function $w(t,e){let n=$f(e);return $f(t).forEach(i=>{eu(n,i)||n.push(i)}),n}function Hw(t,e){return $f(e).filter(n=>!eu(t,n))}var tu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Hf=class extends tu{get formDirective(){return null}get path(){return null}},go=class extends tu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qf=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},gP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_4=ee(I({},gP),{"[class.ng-submitted]":"isSubmitted"}),nu=(()=>{let e=class e extends qf{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(z(go,2))},e.\u0275dir=$t({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&jh("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Mi]});let t=e;return t})();var fo="VALID",Xc="INVALID",Bi="PENDING",po="DISABLED";function mP(t){return(ru(t)?t.validators:t)||null}function yP(t){return Array.isArray(t)?tE(t):t||null}function vP(t,e){return(ru(e)?e.asyncValidators:t)||null}function _P(t){return Array.isArray(t)?nE(t):t||null}function ru(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var zf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fo}get invalid(){return this.status===Xc}get pending(){return this.status==Bi}get disabled(){return this.status===po}get enabled(){return this.status!==po}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($w(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($w(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Hw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Hw(e,this._rawAsyncValidators))}hasValidator(e){return eu(this._rawValidators,e)}hasAsyncValidator(e){return eu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=po,this.errors=null,this._forEachChild(r=>{r.disable(ee(I({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fo,this._forEachChild(r=>{r.enable(ee(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fo||this.status===Bi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?po:fo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bi,this._hasOwnPendingAsyncValidator=!0;let n=Jw(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?po:this.errors?Xc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bi)?Bi:this._anyControlsHaveStatus(Xc)?Xc:fo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ru(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=yP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_P(this._rawAsyncValidators)}};var rE=new S("CallSetDisabledState",{providedIn:"root",factory:()=>Gf}),Gf="always";function IP(t,e){return[...e.path,t]}function wP(t,e,n=Gf){DP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),CP(t,e),bP(t,e),TP(t,e),EP(t,e)}function qw(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function EP(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function DP(t,e){let n=fP(t);e.validator!==null?t.setValidators(Bw(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=pP(t);e.asyncValidator!==null?t.setAsyncValidators(Bw(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();qw(e._rawValidators,i),qw(e._rawAsyncValidators,i)}function CP(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&iE(t,e)})}function TP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&iE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function iE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function SP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function AP(t){return Object.getPrototypeOf(t.constructor)===iP}function MP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===$i?n=s:AP(s)?r=s:i=s}),i||r||n||null}function zw(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Gw(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var RP=class extends zf{constructor(e=null,n,r){super(mP(n),vP(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ru(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Gw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Gw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var NP={provide:go,useExisting:Fs(()=>mo)},Ww=Promise.resolve(),mo=(()=>{let e=class e extends go{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new RP,this._registered=!1,this.name="",this.update=new qe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=MP(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),SP(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wP(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Ww.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Dr(i);Ww.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?IP(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(z(Hf,9),z(cP,10),z(uP,10),z(Qw,10),z(Er,8),z(rE,8))},e.\u0275dir=$t({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ze.None,"disabled","isDisabled"],model:[ze.None,"ngModel","model"],options:[ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$h([NP]),Mi,mr]});let t=e;return t})();var xP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=yt({});let t=e;return t})();var iu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:rE,useValue:r.callSetDisabledState??Gf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=yt({imports:[xP]});let t=e;return t})();var aE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Kf;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Kf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},OP=function(t){let e=aE(t);return cE.encodeByteArray(e,!0)},yo=function(t){return OP(t).replace(/\./g,"")},Yf=function(t){try{return cE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var FP=()=>kP().__FIREBASE_DEFAULTS__,LP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Yf(t[1]);return e&&JSON.parse(e)},ou=()=>{try{return FP()||LP()||VP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jf=t=>{var e,n;return(n=(e=ou())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uE=t=>{let e=Jf(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zf=()=>{var t;return(t=ou())===null||t===void 0?void 0:t.config},Xf=t=>{var e;return(e=ou())===null||e===void 0?void 0:e[`_${t}`]};var su=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function lE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yo(JSON.stringify(n)),yo(JSON.stringify(o)),""].join(".")}function Ee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function UP(){var t;let e=(t=ou())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pE(){let t=Ee();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gE(){return!UP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ep(){try{return typeof indexedDB=="object"}catch{return!1}}function mE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var jP="FirebaseError",ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hn.prototype.create)}},hn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?BP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ot(i,a,r)}};function BP(t,e){return t.replace($P,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $P=/\{\$([^}]+)}/g;function yE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(oE(s)&&oE(o)){if(!Mr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oE(t){return t!==null&&typeof t=="object"}function vo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vE(t,e){let n=new Qf(t,e);return n.subscribe.bind(n)}var Qf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wf),i.error===void 0&&(i.error=Wf),i.complete===void 0&&(i.complete=Wf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function HP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wf(){}var E4=4*60*60*1e3;function at(t){return t&&t._delegate?t._delegate:t}var Ct=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Rr="[DEFAULT]";var tp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new su;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zP(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qP(t){return t===Rr?void 0:t}function zP(t){return t.instantiationMode==="EAGER"}var au=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new tp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var GP=[],$=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}($||{}),WP={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},KP=$.INFO,QP={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},YP=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=QP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jn=class{constructor(e){this.name=e,this._logLevel=KP,this._logHandler=YP,this._userLogHandler=null,GP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...e),this._logHandler(this,$.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...e),this._logHandler(this,$.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$.INFO,...e),this._logHandler(this,$.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$.WARN,...e),this._logHandler(this,$.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...e),this._logHandler(this,$.ERROR,...e)}};var JP=(t,e)=>e.some(n=>t instanceof n),_E,IE;function ZP(){return _E||(_E=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XP(){return IE||(IE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wE=new WeakMap,rp=new WeakMap,EE=new WeakMap,np=new WeakMap,sp=new WeakMap;function eO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(zt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wE.set(n,t)}).catch(()=>{}),sp.set(e,t),e}function tO(t){if(rp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rp.set(t,e)}var ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DE(t){ip=t(ip)}function nO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cu(this),e,...n);return EE.set(r,e.sort?e.sort():[e]),zt(r)}:XP().includes(t)?function(...e){return t.apply(cu(this),e),zt(wE.get(this))}:function(...e){return zt(t.apply(cu(this),e))}}function rO(t){return typeof t=="function"?nO(t):(t instanceof IDBTransaction&&tO(t),JP(t,ZP())?new Proxy(t,ip):t)}function zt(t){if(t instanceof IDBRequest)return eO(t);if(np.has(t))return np.get(t);let e=rO(t);return e!==t&&(np.set(t,e),sp.set(e,t)),e}var cu=t=>sp.get(t);function TE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=zt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(zt(o.result),c.oldVersion,c.newVersion,zt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var iO=["get","getKey","getAll","getAllKeys","count"],sO=["put","add","delete","clear"],op=new Map;function CE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(op.get(e))return op.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=sO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iO.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return op.set(e,s),s}DE(t=>ee(I({},t),{get:(e,n,r)=>CE(e,n)||t.get(e,n,r),has:(e,n)=>!!CE(e,n)||t.has(e,n)}));var cp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oO(t){let e=t.getComponent();return e?.type==="VERSION"}var up="@firebase/app",bE="0.10.2";var Nr=new jn("@firebase/app"),aO="@firebase/app-compat",cO="@firebase/analytics-compat",uO="@firebase/analytics",lO="@firebase/app-check-compat",dO="@firebase/app-check",hO="@firebase/auth",fO="@firebase/auth-compat",pO="@firebase/database",gO="@firebase/database-compat",mO="@firebase/functions",yO="@firebase/functions-compat",vO="@firebase/installations",_O="@firebase/installations-compat",IO="@firebase/messaging",wO="@firebase/messaging-compat",EO="@firebase/performance",DO="@firebase/performance-compat",CO="@firebase/remote-config",TO="@firebase/remote-config-compat",bO="@firebase/storage",SO="@firebase/storage-compat",AO="@firebase/firestore",MO="@firebase/firestore-compat",RO="firebase",NO="10.11.1";var lp="[DEFAULT]",xO={[up]:"fire-core",[aO]:"fire-core-compat",[uO]:"fire-analytics",[cO]:"fire-analytics-compat",[dO]:"fire-app-check",[lO]:"fire-app-check-compat",[hO]:"fire-auth",[fO]:"fire-auth-compat",[pO]:"fire-rtdb",[gO]:"fire-rtdb-compat",[mO]:"fire-fn",[yO]:"fire-fn-compat",[vO]:"fire-iid",[_O]:"fire-iid-compat",[IO]:"fire-fcm",[wO]:"fire-fcm-compat",[EO]:"fire-perf",[DO]:"fire-perf-compat",[CO]:"fire-rc",[TO]:"fire-rc-compat",[bO]:"fire-gcs",[SO]:"fire-gcs-compat",[AO]:"fire-fst",[MO]:"fire-fst-compat","fire-js":"fire-js",[RO]:"fire-js-all"};var _o=new Map,PO=new Map,dp=new Map;function SE(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $n(t){let e=t.name;if(dp.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,t);for(let n of _o.values())SE(n,t);for(let n of PO.values())SE(n,t);return!0}function wo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fn(t){return t.settings!==void 0}var OO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bn=new hn("app","Firebase",OO);var hp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ct("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bn.create("app-deleted",{appName:this._name})}};var Hn=NO;function gp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:lp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bn.create("bad-app-name",{appName:String(i)});if(n||(n=Zf()),!n)throw Bn.create("no-options");let s=_o.get(i);if(s){if(Mr(n,s.options)&&Mr(r,s.config))return s;throw Bn.create("duplicate-app",{appName:i})}let o=new au(i);for(let c of dp.values())o.addComponent(c);let a=new hp(n,r,o);return _o.set(i,a),a}function Hi(t=lp){let e=_o.get(t);if(!e&&t===lp&&Zf())return gp();if(!e)throw Bn.create("no-app",{appName:t});return e}function uu(){return Array.from(_o.values())}function De(t,e,n){var r;let i=(r=xO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(a.join(" "));return}$n(new Ct(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var kO="firebase-heartbeat-database",FO=1,Io="firebase-heartbeat-store",ap=null;function NE(){return ap||(ap=TE(kO,FO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Io)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bn.create("idb-open",{originalErrorMessage:t.message})})),ap}function LO(t){return f(this,null,function*(){try{let n=(yield NE()).transaction(Io),r=yield n.objectStore(Io).get(xE(t));return yield n.done,r}catch(e){if(e instanceof ot)Nr.warn(e.message);else{let n=Bn.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(n.message)}}})}function AE(t,e){return f(this,null,function*(){try{let r=(yield NE()).transaction(Io,"readwrite");yield r.objectStore(Io).put(e,xE(t)),yield r.done}catch(n){if(n instanceof ot)Nr.warn(n.message);else{let r=Bn.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(r.message)}}})}function xE(t){return`${t.name}!${t.options.appId}`}var VO=1024,UO=30*24*60*60*1e3,fp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new pp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ME();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=UO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ME(),{heartbeatsToSend:r,unsentEntries:i}=jO(this._heartbeatsCache.heartbeats),s=yo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function ME(){return new Date().toISOString().substring(0,10)}function jO(t,e=VO){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var pp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return ep()?mE().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield LO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return AE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RE(t){return yo(JSON.stringify({version:2,heartbeats:t})).length}function BO(t){$n(new Ct("platform-logger",e=>new cp(e),"PRIVATE")),$n(new Ct("heartbeat",e=>new fp(e),"PRIVATE")),De(up,bE,t),De(up,bE,"esm2017"),De("fire-js","")}BO("");var $O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kt={},v,Lp=Lp||{},M=$O||self;function Du(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ko(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function HO(t){return Object.prototype.hasOwnProperty.call(t,mp)&&t[mp]||(t[mp]=++qO)}var mp="closure_uid_"+(1e9*Math.random()>>>0),qO=0;function zO(t,e,n){return t.call.apply(t.bind,arguments)}function GO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ve(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ve=zO:Ve=GO,Ve.apply(null,arguments)}function lu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Se(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function qn(){this.s=this.s,this.o=this.o}var WO=0;qn.prototype.s=!1;qn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),WO!=0)&&HO(this)};qn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var zE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vp(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function PE(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Du(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ue(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var KO=function(){if(!M.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};M.addEventListener("test",n,e),M.removeEventListener("test",n,e)}catch{}return t}();function So(t){return/^[\s\xa0]*$/.test(t)}function Cu(){var t=M.navigator;return t&&(t=t.userAgent)?t:""}function Gt(t){return Cu().indexOf(t)!=-1}function Up(t){return Up[" "](t),t}Up[" "]=function(){};function QO(t,e){var n=Lk;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var YO=Gt("Opera"),Wi=Gt("Trident")||Gt("MSIE"),GE=Gt("Edge"),wp=GE||Wi,WE=Gt("Gecko")&&!(Cu().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),JO=Cu().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge");function KE(){var t=M.document;return t?t.documentMode:void 0}var Ep;e:{if(du="",hu=function(){var t=Cu();if(WE)return/rv:([^\);]+)(\)|;)/.exec(t);if(GE)return/Edge\/([\d\.]+)/.exec(t);if(Wi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(JO)return/WebKit\/(\S+)/.exec(t);if(YO)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),hu&&(du=hu?hu[1]:""),Wi&&(fu=KE(),fu!=null&&fu>parseFloat(du))){Ep=String(fu);break e}Ep=du}var du,hu,fu,Dp;M.document&&Wi?(yp=KE(),Dp=yp||parseInt(Ep,10)||void 0):Dp=void 0;var yp,ZO=Dp;function Ao(t,e){if(Ue.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(WE){e:{try{Up(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:XO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ao.$.h.call(this)}}Se(Ao,Ue);var XO={2:"touch",3:"pen",4:"mouse"};Ao.prototype.h=function(){Ao.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Fo="closure_listenable_"+(1e6*Math.random()|0),ek=0;function tk(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++ek,this.fa=this.ia=!1}function Tu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jp(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function nk(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function QE(t){let e={};for(let n in t)e[n]=t[n];return e}var OE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function YE(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<OE.length;s++)n=OE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bu(t){this.src=t,this.g={},this.h=0}bu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Tp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new tk(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Cp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=zE(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Tu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bp="closure_lm_"+(1e6*Math.random()|0),vp={};function JE(t,e,n,r,i){if(r&&r.once)return XE(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)JE(t,e[s],n,r,i);return null}return n=qp(n),t&&t[Fo]?t.O(e,n,ko(r)?!!r.capture:!!r,i):ZE(t,e,n,!1,r,i)}function ZE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ko(i)?!!i.capture:!!i,a=Hp(t);if(a||(t[Bp]=a=new bu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=rk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)KO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(tD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function rk(){function t(n){return e.call(t.src,t.listener,n)}let e=ik;return t}function XE(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)XE(t,e[s],n,r,i);return null}return n=qp(n),t&&t[Fo]?t.P(e,n,ko(r)?!!r.capture:!!r,i):ZE(t,e,n,!0,r,i)}function eD(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)eD(t,e[s],n,r,i);else r=ko(r)?!!r.capture:!!r,n=qp(n),t&&t[Fo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Tp(s,n,r,i),-1<n&&(Tu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tp(e,n,r,i)),(n=-1<t?e[t]:null)&&$p(n))}function $p(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Fo])Cp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(tD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hp(e))?(Cp(n,t),n.h==0&&(n.src=null,e[Bp]=null)):Tu(t)}}}function tD(t){return t in vp?vp[t]:vp[t]="on"+t}function ik(t,e){if(t.fa)t=!0;else{e=new Ao(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$p(t),t=n.call(r,e)}return t}function Hp(t){return t=t[Bp],t instanceof bu?t:null}var _p="__closure_events_fn_"+(1e9*Math.random()>>>0);function qp(t){return typeof t=="function"?t:(t[_p]||(t[_p]=function(e){return t.handleEvent(e)}),t[_p])}function be(){qn.call(this),this.i=new bu(this),this.S=this,this.J=null}Se(be,qn);be.prototype[Fo]=!0;be.prototype.removeEventListener=function(t,e,n,r){eD(this,t,e,n,r)};function Oe(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ue(e,t);else if(e instanceof Ue)e.target=e.target||t;else{var i=e;e=new Ue(r,t),YE(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=pu(o,r,!0,e)&&i}if(o=e.g=t,i=pu(o,r,!0,e)&&i,i=pu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=pu(o,r,!1,e)&&i}be.prototype.N=function(){if(be.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tu(n[r]);delete t.g[e],t.h--}}this.J=null};be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};be.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function pu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Cp(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var zp=M.JSON.stringify,bp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function sk(){var t=Gp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Sp=class{constructor(){this.h=this.g=null}add(e,n){let r=nD.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},nD=new bp(()=>new Ap,t=>t.reset()),Ap=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function ok(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function ak(t){M.setTimeout(()=>{throw t},0)}var Mo,Ro=!1,Gp=new Sp,rD=()=>{let t=M.Promise.resolve(void 0);Mo=()=>{t.then(ck)}},ck=()=>{for(var t;t=sk();){try{t.h.call(t.g)}catch(n){ak(n)}var e=nD;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ro=!1};function Su(t,e){be.call(this),this.h=t||1,this.g=e||M,this.j=Ve(this.qb,this),this.l=Date.now()}Se(Su,be);v=Su.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oe(this,"tick"),this.ga&&(Wp(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){Su.$.N.call(this),Wp(this),delete this.g};function Kp(t,e,n){if(typeof t=="function")n&&(t=Ve(t,n));else if(t&&typeof t.handleEvent=="function")t=Ve(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:M.setTimeout(t,e||0)}function iD(t){t.g=Kp(()=>{t.g=null,t.i&&(t.i=!1,iD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Mp=class extends qn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:iD(this)}N(){super.N(),this.g&&(M.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function No(t){qn.call(this),this.h=t,this.g={}}Se(No,qn);var kE=[];function sD(t,e,n,r){Array.isArray(n)||(n&&(kE[0]=n.toString()),n=kE);for(var i=0;i<n.length;i++){var s=JE(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function oD(t){jp(t.g,function(e,n){this.g.hasOwnProperty(n)&&$p(e)},t),t.g={}}No.prototype.N=function(){No.$.N.call(this),oD(this)};No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Au(){this.g=!0}Au.prototype.Ea=function(){this.g=!1};function uk(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function lk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function zi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+hk(t,n)+(r?" "+r:"")})}function dk(t,e){t.info(function(){return"TIMEOUT: "+e})}Au.prototype.info=function(){};function hk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return zp(n)}catch{return e}}var kr={},FE=null;function Mu(){return FE=FE||new be}kr.Ta="serverreachability";function aD(t){Ue.call(this,kr.Ta,t)}Se(aD,Ue);function xo(t){let e=Mu();Oe(e,new aD(e))}kr.STAT_EVENT="statevent";function cD(t,e){Ue.call(this,kr.STAT_EVENT,t),this.stat=e}Se(cD,Ue);function Ge(t){let e=Mu();Oe(e,new cD(e,t))}kr.Ua="timingevent";function uD(t,e){Ue.call(this,kr.Ua,t),this.size=e}Se(uD,Ue);function Lo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return M.setTimeout(function(){t()},e)}var Ru={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qp(){}Qp.prototype.h=null;function LE(t){return t.h||(t.h=t.i())}function dD(){}var Vo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yp(){Ue.call(this,"d")}Se(Yp,Ue);function Jp(){Ue.call(this,"c")}Se(Jp,Ue);var Rp;function Nu(){}Se(Nu,Qp);Nu.prototype.g=function(){return new XMLHttpRequest};Nu.prototype.i=function(){return{}};Rp=new Nu;function Uo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new No(this),this.P=fk,t=wp?125:void 0,this.V=new Su(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hD}function hD(){this.i=null,this.g="",this.h=!1}var fk=45e3,fD={},Np={};v=Uo.prototype;v.setTimeout=function(t){this.P=t};function xp(t,e,n){t.L=1,t.A=Pu(gn(e)),t.u=n,t.S=!0,pD(t,null)}function pD(t,e){t.G=Date.now(),jo(t),t.B=gn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),ED(n.i,"t",r),t.o=0,n=t.l.J,t.h=new hD,t.g=HD(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Mp(Ve(t.Pa,t,t.g),t.O)),sD(t.U,t.g,"readystatechange",t.nb),e=t.I?QE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),xo(),uk(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Wt(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Wt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||wp||this.g&&(this.h.h||this.g.ja()||BE(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?xo(3):xo(2)),xu(this);var n=this.g.da();this.ca=n;t:if(gD(this)){var r=BE(this.g);t="";var i=r.length,s=Wt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xr(this),bo(this);var o="";break t}this.h.i=new M.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,lk(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!So(a)){var u=a;break t}}u=null}if(n=u)zi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pp(this,n);else{this.i=!1,this.s=3,Ge(12),xr(this),bo(this);break e}}this.S?(mD(this,l,o),wp&&this.i&&l==3&&(sD(this.U,this.V,"tick",this.mb),this.V.start())):(zi(this.j,this.m,o,null),Pp(this,o)),l==4&&xr(this),this.i&&!this.J&&(l==4?UD(this.l,this):(this.i=!1,jo(this)))}else Ok(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),xr(this),bo(this)}}}catch{}finally{}};function gD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function mD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=pk(t,n),i==Np){e==4&&(t.s=4,Ge(14),r=!1),zi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==fD){t.s=4,Ge(15),zi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else zi(t.j,t.m,i,null),Pp(t,i);gD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ge(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),rg(e),e.M=!0,Ge(11))):(zi(t.j,t.m,n,"[Invalid Chunked Response]"),xr(t),bo(t))}v.mb=function(){if(this.g){var t=Wt(this.g),e=this.g.ja();this.o<e.length&&(xu(this),mD(this,t,e),this.i&&t!=4&&jo(this))}};function pk(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Np:(n=Number(e.substring(n,r)),isNaN(n)?fD:(r+=1,r+n>e.length?Np:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,xr(this)};function jo(t){t.Y=Date.now()+t.P,yD(t,t.P)}function yD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Lo(Ve(t.lb,t),e)}function xu(t){t.C&&(M.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(dk(this.j,this.B),this.L!=2&&(xo(),Ge(17)),xr(this),this.s=2,bo(this)):yD(this,this.Y-t)};function bo(t){t.l.H==0||t.J||UD(t.l,t)}function xr(t){xu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wp(t.V),oD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Op(n.i,t))){if(!t.K&&Op(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_u(n),Fu(n);else break e;ng(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Lo(Ve(n.ib,n),6e3));if(1>=TD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Pr(n,11)}else if((t.K||n.g==t)&&_u(n),!So(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Zp(s,s.h),s.h=null))}if(r.F){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,oe(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=$D(r,r.J?r.pa:null,r.Y),o.K){bD(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(xu(a),jo(a)),r.g=o}else LD(r);0<n.j.length&&Lu(n)}else u[0]!="stop"&&u[0]!="close"||Pr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Pr(n,7):tg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}xo(4)}catch{}}function gk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Du(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function mk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Du(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function vD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Du(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=mk(t),r=gk(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var _D=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Or(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Or){this.h=t.h,yu(this,t.j),this.s=t.s,this.g=t.g,vu(this,t.m),this.l=t.l;var e=t.i,n=new Po;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VE(this,n),this.o=t.o}else t&&(e=String(t).match(_D))?(this.h=!1,yu(this,e[1]||"",!0),this.s=Co(e[2]||""),this.g=Co(e[3]||"",!0),vu(this,e[4]),this.l=Co(e[5]||"",!0),VE(this,e[6]||"",!0),this.o=Co(e[7]||"")):(this.h=!1,this.i=new Po(null,this.h))}Or.prototype.toString=function(){var t=[],e=this.j;e&&t.push(To(e,UE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(To(e,UE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(To(n,n.charAt(0)=="/"?Ik:_k,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",To(n,Ek)),t.join("")};function gn(t){return new Or(t)}function yu(t,e,n){t.j=n?Co(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function vu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VE(t,e,n){e instanceof Po?(t.i=e,Dk(t.i,t.h)):(n||(e=To(e,wk)),t.i=new Po(e,t.h))}function oe(t,e,n){t.i.set(e,n)}function Pu(t){return oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Co(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function To(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,vk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function vk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var UE=/[#\/\?@]/g,_k=/[#\?:]/g,Ik=/[#\?]/g,wk=/[#\?@]/g,Ek=/#/g;function Po(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zn(t){t.g||(t.g=new Map,t.h=0,t.i&&yk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=Po.prototype;v.add=function(t,e){zn(this),this.i=null,t=Ki(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ID(t,e){zn(t),e=Ki(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function wD(t,e){return zn(t),e=Ki(t,e),t.g.has(e)}v.forEach=function(t,e){zn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){zn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};v.Z=function(t){zn(this);let e=[];if(typeof t=="string")wD(this,t)&&(e=e.concat(this.g.get(Ki(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return zn(this),this.i=null,t=Ki(this,t),wD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ED(t,e,n){ID(t,e),0<n.length&&(t.i=null,t.g.set(Ki(t,e),Vp(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ki(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Dk(t,e){e&&!t.j&&(zn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(ID(this,r),ED(this,i,n))},t)),t.j=e}var Ck=class{constructor(t,e){this.g=t,this.map=e}};function DD(t){this.l=t||Tk,M.PerformanceNavigationTiming?(t=M.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(M.g&&M.g.Ka&&M.g.Ka()&&M.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tk=10;function CD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function TD(t){return t.h?1:t.g?t.g.size:0}function Op(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Zp(t,e){t.g?t.g.add(e):t.h=e}function bD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}DD.prototype.cancel=function(){if(this.i=SD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function SD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Vp(t.i)}var bk=class{stringify(t){return M.JSON.stringify(t,void 0)}parse(t){return M.JSON.parse(t,void 0)}};function Sk(){this.g=new bk}function Ak(t,e,n){let r=n||"";try{vD(t,function(i,s){let o=i;ko(i)&&(o=zp(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mk(t,e){let n=new Au;if(M.Image){let r=new Image;r.onload=lu(gu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lu(gu,n,r,"TestLoadImage: error",!1,e),r.onabort=lu(gu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lu(gu,n,r,"TestLoadImage: timeout",!1,e),M.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function gu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Bo(t){this.l=t.ec||null,this.j=t.ob||!1}Se(Bo,Qp);Bo.prototype.g=function(){return new Ou(this.l,this.j)};Bo.prototype.i=function(t){return function(){return t}}({});function Ou(t,e){be.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Se(Ou,be);var Xp=0;v=Ou.prototype;v.open=function(t,e){if(this.readyState!=Xp)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oo(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||M).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$o(this)),this.readyState=Xp};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof M.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function AD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$o(this):Oo(this),this.readyState==3&&AD(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,$o(this))};v.Ya=function(t){this.g&&(this.response=t,$o(this))};v.ka=function(){this.g&&$o(this)};function $o(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oo(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ou.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Rk=M.JSON.parse;function ue(t){be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=MD,this.L=this.M=!1}Se(ue,be);var MD="",Nk=/^https?$/i,xk=["POST","PUT"];v=ue.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rp.g(),this.C=this.u?LE(this.u):LE(Rp),this.g.onreadystatechange=Ve(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){jE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=M.FormData&&t instanceof M.FormData,!(0<=zE(xk,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xD(this),0<this.B&&((this.L=Pk(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.ua,this)):this.A=Kp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){jE(this,s)}};function Pk(t){return Wi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof Lp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))};function jE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,RD(t),ku(t)}function RD(t){t.F||(t.F=!0,Oe(t,"complete"),Oe(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Oe(this,"complete"),Oe(this,"abort"),ku(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ku(this,!0)),ue.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?ND(this):this.kb())};v.kb=function(){ND(this)};function ND(t){if(t.h&&typeof Lp<"u"&&(!t.C[1]||Wt(t)!=4||t.da()!=2)){if(t.v&&Wt(t)==4)Kp(t.La,0,t);else if(Oe(t,"readystatechange"),Wt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(_D)[1]||null;!i&&M.self&&M.self.location&&(i=M.self.location.protocol.slice(0,-1)),r=!Nk.test(i?i.toLowerCase():"")}n=r}if(n)Oe(t,"complete"),Oe(t,"success");else{t.m=6;try{var s=2<Wt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",RD(t)}}finally{ku(t)}}}}function ku(t,e){if(t.g){xD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Oe(t,"ready");try{n.onreadystatechange=r}catch{}}}function xD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(M.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Wt(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Wt(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Rk(e)}};function BE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case MD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Ok(t){let e={};t=(t.g&&2<=Wt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(So(t[r]))continue;var n=ok(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}nk(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PD(t){let e="";return jp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function eg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):oe(t,e,n))}function Eo(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function OD(t){this.Ga=0,this.j=[],this.l=new Au,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Eo("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Eo("baseRetryDelayMs",5e3,t),this.hb=Eo("retryDelaySeedMs",1e4,t),this.eb=Eo("forwardChannelMaxRetries",2,t),this.xa=Eo("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new DD(t&&t.concurrentRequestLimit),this.Ja=new Sk,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=OD.prototype;v.ra=8;v.H=1;function tg(t){if(kD(t),t.H==3){var e=t.W++,n=gn(t.I);if(oe(n,"SID",t.K),oe(n,"RID",e),oe(n,"TYPE","terminate"),Ho(t,n),e=new Uo(t,t.l,e),e.L=2,e.A=Pu(gn(n)),n=!1,M.navigator&&M.navigator.sendBeacon)try{n=M.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&M.Image&&(new Image().src=e.A,n=!0),n||(e.g=HD(e.l,null),e.g.ha(e.A)),e.G=Date.now(),jo(e)}BD(t)}function Fu(t){t.g&&(rg(t),t.g.cancel(),t.g=null)}function kD(t){Fu(t),t.u&&(M.clearTimeout(t.u),t.u=null),_u(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&M.clearTimeout(t.m),t.m=null)}function Lu(t){if(!CD(t.i)&&!t.m){t.m=!0;var e=t.Na;Mo||rD(),Ro||(Mo(),Ro=!0),Gp.add(e,t),t.C=0}}function kk(t,e){return TD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Lo(Ve(t.Na,t,e),jD(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Uo(this,this.l,t),s=this.s;if(this.U&&(s?(s=QE(s),YE(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=FD(this,i,e),n=gn(this.I),oe(n,"RID",t),oe(n,"CVER",22),this.F&&oe(n,"X-HTTP-Session-Id",this.F),Ho(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(PD(s)))+"&"+e:this.o&&eg(n,this.o,s)),Zp(this.i,i),this.bb&&oe(n,"TYPE","init"),this.P?(oe(n,"$req",e),oe(n,"SID","null"),i.aa=!0,xp(i,n,null)):xp(i,n,e),this.H=2}}else this.H==3&&(t?$E(this,t):this.j.length==0||CD(this.i)||$E(this))};function $E(t,e){var n;e?n=e.m:n=t.W++;let r=gn(t.I);oe(r,"SID",t.K),oe(r,"RID",n),oe(r,"AID",t.V),Ho(t,r),t.o&&t.s&&eg(r,t.o,t.s),n=new Uo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=FD(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Zp(t.i,n),xp(n,r,e)}function Ho(t,e){t.na&&jp(t.na,function(n,r){oe(e,r,n)}),t.h&&vD({},function(n,r){oe(e,r,n)})}function FD(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ve(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{Ak(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function LD(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Mo||rD(),Ro||(Mo(),Ro=!0),Gp.add(e,t),t.A=0}}function ng(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Lo(Ve(t.Ma,t),jD(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,VD(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Lo(Ve(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),Fu(this),VD(this))};function rg(t){t.B!=null&&(M.clearTimeout(t.B),t.B=null)}function VD(t){t.g=new Uo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=gn(t.wa);oe(e,"RID","rpc"),oe(e,"SID",t.K),oe(e,"AID",t.V),oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&oe(e,"TO",t.qa),oe(e,"TYPE","xmlhttp"),Ho(t,e),t.o&&t.s&&eg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pu(gn(e)),n.u=null,n.S=!0,pD(n,t)}v.ib=function(){this.v!=null&&(this.v=null,Fu(this),ng(this),Ge(19))};function _u(t){t.v!=null&&(M.clearTimeout(t.v),t.v=null)}function UD(t,e){var n=null;if(t.g==e){_u(t),rg(t),t.g=null;var r=2}else if(Op(t.i,e))n=e.F,bD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Mu(),Oe(r,new uD(r,n)),Lu(t)}else LD(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&kk(t,e)||r==2&&ng(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Pr(t,5);break;case 4:Pr(t,10);break;case 3:Pr(t,6);break;default:Pr(t,2)}}}function jD(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Pr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ve(t.pb,t);n||(n=new Or("//www.google.com/images/cleardot.gif"),M.location&&M.location.protocol=="http"||yu(n,"https"),Pu(n)),Mk(n.toString(),r)}else Ge(2);t.H=0,t.h&&t.h.za(e),BD(t),kD(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))};function BD(t){if(t.H=0,t.ma=[],t.h){let e=SD(t.i);(e.length!=0||t.j.length!=0)&&(PE(t.ma,e),PE(t.ma,t.j),t.i.i.length=0,Vp(t.j),t.j.length=0),t.h.ya()}}function $D(t,e,n){var r=n instanceof Or?gn(n):new Or(n);if(r.g!="")e&&(r.g=e+"."+r.g),vu(r,r.m);else{var i=M.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Or(null);r&&yu(s,r),e&&(s.g=e),i&&vu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&oe(r,n,e),oe(r,"VER",t.ra),Ho(t,r),r}function HD(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ue(new Bo({ob:n})):new ue(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function qD(){}v=qD.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function Iu(){if(Wi&&!(10<=Number(ZO)))throw Error("Environmental error: no available transport.")}Iu.prototype.g=function(t,e){return new ct(t,e)};function ct(t,e){be.call(this),this.g=new OD(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!So(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!So(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Qi(this)}Se(ct,be);ct.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ge(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=$D(t,null,t.Y),Lu(t)};ct.prototype.close=function(){tg(this.g)};ct.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zp(t),t=n);e.j.push(new Ck(e.fb++,t)),e.H==3&&Lu(e)};ct.prototype.N=function(){this.g.h=null,delete this.j,tg(this.g),delete this.g,ct.$.N.call(this)};function zD(t){Yp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Se(zD,Yp);function GD(){Jp.call(this),this.status=1}Se(GD,Jp);function Qi(t){this.g=t}Se(Qi,qD);Qi.prototype.Ba=function(){Oe(this.g,"a")};Qi.prototype.Aa=function(t){Oe(this.g,new zD(t))};Qi.prototype.za=function(t){Oe(this.g,new GD)};Qi.prototype.ya=function(){Oe(this.g,"b")};function Fk(){this.blockSize=-1}function Ot(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Se(Ot,Fk);Ot.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ip(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ot.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Ip(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Ip(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Ip(this,r),i=0;break}}this.h=i,this.i+=e};Ot.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function X(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Lk={};function ig(t){return-128<=t&&128>t?QO(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function Kt(t){if(isNaN(t)||!isFinite(t))return Gi;if(0>t)return Pe(Kt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kp;return new X(e,0)}function WD(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Pe(WD(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Kt(Math.pow(e,8)),r=Gi,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Kt(Math.pow(e,s)),r=r.R(s).add(Kt(o))):(r=r.R(n),r=r.add(Kt(o)))}return r}var kp=4294967296,Gi=ig(0),Fp=ig(1),HE=ig(16777216);v=X.prototype;v.ea=function(){if(Tt(this))return-Pe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kp+r)*e,e*=kp}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pn(this))return"0";if(Tt(this))return"-"+Pe(this).toString(t);for(var e=Kt(Math.pow(t,6)),n=this,r="";;){var i=Eu(n,e).g;n=wu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,pn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Tt(t){return t.h==-1}v.X=function(t){return t=wu(this,t),Tt(t)?-1:pn(t)?0:1};function Pe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new X(n,~t.h).add(Fp)}v.abs=function(){return Tt(this)?Pe(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new X(n,n[n.length-1]&-2147483648?-1:0)};function wu(t,e){return t.add(Pe(e))}v.R=function(t){if(pn(this)||pn(t))return Gi;if(Tt(this))return Tt(t)?Pe(this).R(Pe(t)):Pe(Pe(this).R(t));if(Tt(t))return Pe(this.R(Pe(t)));if(0>this.X(HE)&&0>t.X(HE))return Kt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,mu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,mu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,mu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,mu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new X(n,0)};function mu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Do(t,e){this.g=t,this.h=e}function Eu(t,e){if(pn(e))throw Error("division by zero");if(pn(t))return new Do(Gi,Gi);if(Tt(t))return e=Eu(Pe(t),e),new Do(Pe(e.g),Pe(e.h));if(Tt(e))return e=Eu(t,Pe(e)),new Do(Pe(e.g),e.h);if(30<t.g.length){if(Tt(t)||Tt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Fp,r=e;0>=r.X(t);)n=qE(n),r=qE(r);var i=qi(n,1),s=qi(r,1);for(r=qi(r,2),n=qi(n,2);!pn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=qi(r,1),n=qi(n,1)}return e=wu(t,i.R(e)),new Do(i,e)}for(i=Gi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Kt(n),o=s.R(e);Tt(o)||0<o.X(t);)n-=r,s=Kt(n),o=s.R(e);pn(s)&&(s=Fp),i=i.add(s),t=wu(t,o)}return new Do(i,t)}v.gb=function(t){return Eu(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new X(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new X(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new X(n,this.h^t.h)};function qE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new X(n,t.h)}function qi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new X(i,t.h)}Iu.prototype.createWebChannel=Iu.prototype.g;ct.prototype.send=ct.prototype.u;ct.prototype.open=ct.prototype.m;ct.prototype.close=ct.prototype.close;Ru.NO_ERROR=0;Ru.TIMEOUT=8;Ru.HTTP_ERROR=6;lD.COMPLETE="complete";dD.EventType=Vo;Vo.OPEN="a";Vo.CLOSE="b";Vo.ERROR="c";Vo.MESSAGE="d";be.prototype.listen=be.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;Ot.prototype.digest=Ot.prototype.l;Ot.prototype.reset=Ot.prototype.reset;Ot.prototype.update=Ot.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=Kt;X.fromString=WD;var KD=kt.createWebChannelTransport=function(){return new Iu},QD=kt.getStatEventTarget=function(){return Mu()},Vu=kt.ErrorCode=Ru,YD=kt.EventType=lD,JD=kt.Event=kr,sg=kt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZD=kt.FetchXmlHttpFactory=Bo,qo=kt.WebChannel=dD,XD=kt.XhrIo=ue,Vk=kt.Md5=Ot,eC=kt.Integer=X;var tC="@firebase/firestore";var Ae=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");var fs="10.11.1";var Ur=new jn("@firebase/firestore");function zo(){return Ur.logLevel}function E(t,...e){if(Ur.logLevel<=$.DEBUG){let n=e.map(bm);Ur.debug(`Firestore (${fs}): ${t}`,...n)}}function jr(t,...e){if(Ur.logLevel<=$.ERROR){let n=e.map(bm);Ur.error(`Firestore (${fs}): ${t}`,...n)}}function qu(t,...e){if(Ur.logLevel<=$.WARN){let n=e.map(bm);Ur.warn(`Firestore (${fs}): ${t}`,...n)}}function bm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function H(t="Unexpected state"){let e=`FIRESTORE (${fs}) INTERNAL ASSERTION FAILED: `+t;throw jr(e),new Error(e)}function Re(t,e){t||H()}function ae(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},T=class extends ot{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zu=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ug=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ae.UNAUTHENTICATED))}shutdown(){}},lg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},dg=class{constructor(e){this.t=e,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new zu(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Ae(e)}},hg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new pg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Uk(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Gu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Uk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function Xi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $e=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var he=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $e(0,0))}static max(){return new t(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wu=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ye=class t extends Wu{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new T(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=class t extends Wu{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return jk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new T(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new T(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new T(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(ye.fromString(e))}static fromName(e){return new t(ye.fromString(e).popFirst(5))}static empty(){return new t(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ye(e.slice()))}};var mg=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};mg.UNKNOWN_ID=-1;function Bk(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Br(i,U.empty(),e)}function $k(t){return new Br(t.readTime,t.key,-1)}var Br=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(he.min(),U.empty(),-1)}static max(){return new t(he.max(),U.empty(),-1)}};function Hk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var qk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function wC(t){return f(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==qk)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function zk(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function dl(t){return t.name==="IndexedDbTransactionError"}var Gk=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Sm(t){return t==null}function Jo(t){return t===0&&1/t==-1/0}function Wk(t){return typeof t=="number"&&Number.isInteger(t)&&!Jo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Kk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Z4=[...Kk,"documentOverlays"],Qk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yk=Qk,X4=[...Yk,"indexConfiguration","indexState","indexEntries"];function nC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ta(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var lt=class t{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ji(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ji(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ji(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ji(this.root,e,this.comparator,!0)}},Ji=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zt=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();let e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}};Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class t{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ku(this.data.getIterator())}getIteratorFrom(e){return new Ku(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ku=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jt=class t{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new t([])}unionWith(e){let n=new We(ut.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var vg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Wn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Wn.EMPTY_BYTE_STRING=new Wn("");var Jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kn(t){if(Re(!!t),typeof t=="string"){let e=0,n=Jk.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?Wn.fromBase64String(t):Wn.fromUint8Array(t)}function Am(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DC(t){let e=t.mapValue.fields.__previous_value__;return Am(e)?DC(e):e}function Qu(t){let e=Kn(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}var _g=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ig=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Uu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Am(t)?4:CC(t)?9007199254740991:10:H()}function Xt(t,e){if(t===e)return!0;let n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qu(t).isEqual(Qu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Kn(i.timestampValue),a=Kn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return es(i.bytesValue).isEqual(es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ce(i.geoPointValue.latitude)===Ce(s.geoPointValue.latitude)&&Ce(i.geoPointValue.longitude)===Ce(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ce(i.integerValue)===Ce(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ce(i.doubleValue),a=Ce(s.doubleValue);return o===a?Jo(o)===Jo(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xi(t.arrayValue.values||[],e.arrayValue.values||[],Xt);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(nC(o)!==nC(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Xt(o[c],a[c])))return!1;return!0}(t,e);default:return H()}}function Zo(t,e){return(t.values||[]).find(n=>Xt(n,e))!==void 0}function ns(t,e){if(t===e)return 0;let n=ts(t),r=ts(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ce(s.integerValue||s.doubleValue),c=Ce(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return rC(t.timestampValue,e.timestampValue);case 4:return rC(Qu(t),Qu(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){let a=es(s),c=es(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ie(a[u],c[u]);if(l!==0)return l}return ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ie(Ce(s.latitude),Ce(o.latitude));return a!==0?a:ie(Ce(s.longitude),Ce(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=ns(a[u],c[u]);if(l)return l}return ie(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Uu.mapValue&&o===Uu.mapValue)return 0;if(s===Uu.mapValue)return 1;if(o===Uu.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ie(c[d],l[d]);if(h!==0)return h;let p=ns(a[c[d]],u[l[d]]);if(p!==0)return p}return ie(c.length,l.length)}(t.mapValue,e.mapValue);default:throw H()}}function rC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=Kn(t),r=Kn(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function rs(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Kn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=wg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${wg(n.fields[o])}`;return i+"}"}(t.mapValue):H()}function Eg(t){return!!t&&"integerValue"in t}function Mm(t){return!!t&&"arrayValue"in t}function $u(t){return!!t&&"mapValue"in t}function Wo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ta(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wo(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Yt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wo(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());$u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$u(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ta(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Wo(this.value))}};function TC(t){let e=[];return ta(t.fields,(n,r)=>{let i=new ut([n]);if($u(r)){let s=TC(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Jt(e)}var is=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,he.min(),he.min(),he.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,he.min(),he.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,he.min(),he.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ss=class{constructor(e,n){this.position=e,this.inclusive=n}};function iC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=ns(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xt(t.position[n],e.position[n]))return!1;return!0}var os=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Zk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Yu=class{},Me=class t extends Yu{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cg(e,n,r):n==="array-contains"?new Sg(e,r):n==="in"?new Ag(e,r):n==="not-in"?new Mg(e,r):n==="array-contains-any"?new Rg(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Tg(e,r):new bg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ns(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class t extends Yu{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return bC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function bC(t){return t.op==="and"}function SC(t){return Xk(t)&&bC(t)}function Xk(t){for(let e of t.filters)if(e instanceof Qn)return!1;return!0}function Dg(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+rs(t.value);if(SC(t))return t.filters.map(e=>Dg(e)).join(",");{let e=t.filters.map(n=>Dg(n)).join(",");return`${t.op}(${e})`}}function AC(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Xt(r.value,i.value)}(t,e):t instanceof Qn?function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&AC(o,i.filters[a]),!0):!1}(t,e):void H()}function MC(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${rs(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(MC).join(" ,")+"}"}(t):"Filter"}var Cg=class extends Me{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},Tg=class extends Me{constructor(e,n){super(e,"in",n),this.keys=RC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},bg=class extends Me{constructor(e,n){super(e,"not-in",n),this.keys=RC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function RC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var Sg=class extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Mm(n)&&Zo(n.arrayValue,this.value)}},Ag=class extends Me{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Zo(this.value.arrayValue,n)}},Mg=class extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Zo(this.value.arrayValue,n)}},Rg=class extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Mm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zo(this.value.arrayValue,r))}};var Ng=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function oC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Ng(t,e,n,r,i,s,o)}function Rm(t){let e=ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rs(r)).join(",")),e.ue=n}return e.ue}function Nm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sC(t.startAt,e.startAt)&&sC(t.endAt,e.endAt)}var as=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function e1(t,e,n,r,i,s,o,a){return new as(t,e,n,r,i,s,o,a)}function t1(t){return new as(t)}function aC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n1(t){return t.collectionGroup!==null}function Ko(t){let e=ae(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new We(ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new os(s,r))}),n.has(ut.keyField().canonicalString())||e.ce.push(new os(ut.keyField(),r))}return e.ce}function Lr(t){let e=ae(t);return e.le||(e.le=r1(e,Ko(t))),e.le}function r1(t,e){if(t.limitType==="F")return oC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new os(i.field,s)});let n=t.endAt?new ss(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ss(t.startAt.position,t.startAt.inclusive):null;return oC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xg(t,e,n){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function NC(t,e){return Nm(Lr(t),Lr(e))&&t.limitType===e.limitType}function xC(t){return`${Rm(Lr(t))}|lt:${t.limitType}`}function Go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>MC(i)).join(", ")}]`),Sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rs(i)).join(",")),`Target(${r})`}(Lr(t))}; limitType=${t.limitType})`}function xm(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Ko(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=iC(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Ko(r),i)||r.endAt&&!function(o,a,c){let u=iC(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Ko(r),i))}(t,e)}function i1(t){return(e,n)=>{let r=!1;for(let i of Ko(t)){let s=s1(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function s1(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?ns(c,u):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}var Yn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}};var o1=new lt(U.comparator);function Ju(){return o1}var PC=new lt(U.comparator);function ju(...t){let e=PC;for(let n of t)e=e.insert(n.key,n);return e}function OC(t){let e=PC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fr(){return Qo()}function kC(){return Qo()}function Qo(){return new Yn(t=>t.toString(),(t,e)=>t.isEqual(e))}var a1=new lt(U.comparator),c1=new We(U.comparator);function Be(...t){let e=c1;for(let n of t)e=e.add(n);return e}var u1=new We(ie);function l1(){return u1}function FC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function LC(t){return{integerValue:""+t}}function d1(t,e){return Wk(e)?LC(e):FC(t,e)}var cs=class{constructor(){this._=void 0}};function h1(t,e,n){return t instanceof us?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Am(s)&&(s=DC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $r?UC(t,e):t instanceof Hr?jC(t,e):function(i,s){let o=VC(i,s),a=cC(o)+cC(i.Pe);return Eg(o)&&Eg(i.Pe)?LC(a):FC(i.serializer,a)}(t,e)}function f1(t,e,n){return t instanceof $r?UC(t,e):t instanceof Hr?jC(t,e):n}function VC(t,e){return t instanceof ls?function(r){return Eg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var us=class extends cs{},$r=class extends cs{constructor(e){super(),this.elements=e}};function UC(t,e){let n=BC(e);for(let r of t.elements)n.some(i=>Xt(i,r))||n.push(r);return{arrayValue:{values:n}}}var Hr=class extends cs{constructor(e){super(),this.elements=e}};function jC(t,e){let n=BC(e);for(let r of t.elements)n=n.filter(i=>!Xt(i,r));return{arrayValue:{values:n}}}var ls=class extends cs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function cC(t){return Ce(t.integerValue||t.doubleValue)}function BC(t){return Mm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function p1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $r&&i instanceof $r||r instanceof Hr&&i instanceof Hr?Xi(r.elements,i.elements,Xt):r instanceof ls&&i instanceof ls?Xt(r.Pe,i.Pe):r instanceof us&&i instanceof us}(t.transform,e.transform)}var Pg=class{constructor(e,n){this.version=e,this.transformResults=n}},Vr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Hu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ds=class{};function $C(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zu(t.key,Vr.none()):new qr(t.key,t.data,Vr.none());{let n=t.data,r=Yt.empty(),i=new We(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new vn(t.key,r,new Jt(i.toArray()),Vr.none())}}function g1(t,e,n){t instanceof qr?function(i,s,o){let a=i.value.clone(),c=lC(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vn?function(i,s,o){if(!Hu(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=lC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(HC(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Yo(t,e,n,r){return t instanceof qr?function(s,o,a,c){if(!Hu(s.precondition,o))return a;let u=s.value.clone(),l=dC(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof vn?function(s,o,a,c){if(!Hu(s.precondition,o))return a;let u=dC(s.fieldTransforms,c,o),l=o.data;return l.setAll(HC(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Hu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function m1(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=VC(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function uC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xi(r,i,(s,o)=>p1(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var qr=class extends ds{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},vn=class extends ds{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function HC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function lC(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,f1(o,a,n[i]))}return r}function dC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,h1(s,o,e))}return r}var Zu=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Og=class extends ds{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var kg=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&g1(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yo(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Yo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=$C(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&Xi(this.mutations,e.mutations,(n,r)=>uC(n,r))&&Xi(this.baseMutations,e.baseMutations,(n,r)=>uC(n,r))}},Fg=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return a1}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Lg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ge,K;function y1(t){switch(t){default:return H();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function v1(t){if(t===void 0)return jr("GRPC error has no .code"),g.UNKNOWN;switch(t){case ge.OK:return g.OK;case ge.CANCELLED:return g.CANCELLED;case ge.UNKNOWN:return g.UNKNOWN;case ge.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case ge.INTERNAL:return g.INTERNAL;case ge.UNAVAILABLE:return g.UNAVAILABLE;case ge.UNAUTHENTICATED:return g.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case ge.NOT_FOUND:return g.NOT_FOUND;case ge.ALREADY_EXISTS:return g.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return g.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case ge.ABORTED:return g.ABORTED;case ge.OUT_OF_RANGE:return g.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return g.UNIMPLEMENTED;case ge.DATA_LOSS:return g.DATA_LOSS;default:return H()}}(K=ge||(ge={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var tG=new eC([4294967295,4294967295],0);var Vg=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ug(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function I1(t,e){return Ug(t,e.toTimestamp())}function Zi(t){return Re(!!t),he.fromTimestamp(function(n){let r=Kn(n);return new $e(r.seconds,r.nanos)}(t))}function qC(t,e){return jg(t,e).canonicalString()}function jg(t,e){let n=function(i){return new ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function w1(t){let e=ye.fromString(t);return Re(M1(e)),e}function Bg(t,e){return qC(t.databaseId,e.path)}function E1(t){let e=w1(t);return e.length===4?ye.emptyPath():C1(e)}function D1(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function C1(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hC(t,e,n){return{name:Bg(t,e),fields:n.value.mapValue.fields}}function T1(t,e){let n;if(e instanceof qr)n={update:hC(t,e.key,e.value)};else if(e instanceof Zu)n={delete:Bg(t,e.key)};else if(e instanceof vn)n={update:hC(t,e.key,e.data),updateMask:A1(e.fieldMask)};else{if(!(e instanceof Og))return H();n={verify:Bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof us)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $r)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ls)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:I1(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:H()}(t,e.precondition)),n}function b1(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Zi(i.updateTime):Zi(s);return o.isEqual(he.min())&&(o=Zi(s)),new Pg(o,i.transformResults||[])}(n,e))):[]}function S1(t){let e=E1(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=zC(d);return h instanceof Qn&&SC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new os(Yi(m.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Sm(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new ss(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new ss(p,h)}(n.endAt)),e1(e,i,o,s,a,"F",c,u)}function zC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Yi(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Yi(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Yi(n.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Yi(n.unaryFilter.field);return Me.create(o,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(Yi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>zC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return H()}}(n.compositeFilter.op))}(t):H()}function Yi(t){return ut.fromServerFormat(t.fieldPath)}function A1(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function M1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $g=class{constructor(e){this.ut=e}};function R1(t){let e=S1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xg(e,e.limit,"L"):e}var Xu=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),Jo(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Kn(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(es(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?CC(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):H()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),U.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};Xu.St=new Xu;var Hg=class{constructor(){this.on=new qg}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Br.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},qg=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(ye.comparator)).toArray()}};var nG=new Uint8Array(0);var Qt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);var Xo=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var zg=class{constructor(){this.changes=new Yn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,is.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Gg=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Wg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Yo(r.mutation,i,Jt.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){let i=Fr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ju();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Fr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ju(),o=Qo(),a=function(){return Qo()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof vn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Yo(l.mutation,u,l.mutation.getFieldMask(),$e.now())):o.set(u.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new Gg(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Qo(),i=new lt((o,a)=>o-a),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Jt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=kC();l.forEach(h=>{if(!s.has(h)){let p=$C(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Fr()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Be())).next(l=>({batchId:a,changes:OC(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ju();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new as(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,is.newInvalidDocument(l)))});let a=ju();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Yo(l.mutation,u,Jt.empty(),$e.now()),xm(n,u)&&(a=a.insert(c,u))}),a})}};var Kg=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zi(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:R1(i.bundledQuery),readTime:Zi(i.readTime)}}(n)),y.resolve()}};var Qg=class{constructor(){this.overlays=new lt(U.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Fr();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Fr(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new lt((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Fr(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Fr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Lg(n,r));let s=this.lr.get(n);s===void 0&&(s=Be(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var ea=class{constructor(){this.hr=new We(me.Pr),this.Ir=new We(me.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new me(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new me(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new U(new ye([])),r=new me(n,e),i=new me(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new U(new ye([])),r=new me(n,e),i=new me(n,e+1),s=Be();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new me(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},me=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return U.comparator(e.key,n.key)||ie(e.gr,n.gr)}static Tr(e,n){return ie(e.gr,n.gr)||U.comparator(e.key,n.key)}};var Yg=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new We(me.Pr)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new kg(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new me(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new me(n,0),i=new me(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ie);return n.forEach(i=>{let s=new me(i,0),o=new me(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;U.isDocumentKey(s)||(s=s.child(""));let o=new me(new U(s),0),a=new We(ie);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),y.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{let s=new me(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new me(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Jg=class{constructor(e){this.Cr=e,this.docs=function(){return new lt(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():is.newInvalidDocument(n))}getEntries(e,n){let r=Ju();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():is.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ju(),o=n.path,a=new U(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Hk($k(l),r)<=0||(i.has(l.key)||xm(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){H()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zg(this)}getSize(e){return y.resolve(this.size)}},Zg=class extends zg{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Xg=class{constructor(e){this.persistence=e,this.Fr=new Yn(n=>Rm(n),Nm),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ea,this.targetCount=0,this.Nr=Xo.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}};var em=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Gk(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Xg(this),this.indexManager=new Hg,this.remoteDocumentCache=function(i){return new Jg(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new $g(n),this.Kr=new Kg(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qg,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Yg(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new tm(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},tm=class extends yg{constructor(e){super(),this.currentSequenceNumber=e}},nm=class t{constructor(e){this.persistence=e,this.Gr=new ea,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw H()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{let i=U.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,he.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var rm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Be(),i=Be();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var im=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var sm=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return gE()?8:zk(Ee())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new im;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(zo()<=$.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",Go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(zo()<=$.DEBUG&&E("QueryEngine","Query:",Go(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(zo()<=$.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",Go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Lr(n))):y.resolve())}zi(e,n){if(aC(n))return y.resolve(null);let r=Lr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xg(n,null,"F"),r=Lr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Be(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,xg(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return aC(n)||i.isEqual(he.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?y.resolve(null):(zo()<=$.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Go(n)),this.Xi(e,o,n,Bk(i,-1)).next(a=>a))})}Yi(e,n){let r=new We(i1(e));return n.forEach((i,s)=>{xm(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return zo()<=$.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",Go(n)),this.Gi.getDocumentsMatchingQuery(e,n,Br.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var om=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new lt(ie),this.ns=new Yn(s=>Rm(s),Nm),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wg(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function N1(t,e,n,r){return new om(t,e,n,r)}function GC(t,e){return f(this,null,function*(){let n=ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Be();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function x1(t,e){let n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(_=>{let D=u.docVersions.get(m);Re(D!==null),_.version.compareTo(D)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function P1(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function O1(t,e){let n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var el=class{constructor(){this.activeTargetIds=l1()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var am=class{constructor(){this.eo=new el,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new el,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cm=class{ro(e){}shutdown(){}};var tl=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bu=null;function og(){return Bu===null?Bu=function(){return 268435456+Math.round(2147483648*Math.random())}():Bu++,"0x"+Bu.toString(16)}var k1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var um=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var je="WebChannelConnection",lm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=og(),c=this.Co(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw qu("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=k1[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=og();return new Promise((o,a)=>{let c=new XD;c.setWithCredentials(!0),c.listenOnce(YD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vu.NO_ERROR:let l=c.getResponseJson();E(je,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Vu.TIMEOUT:E(je,`RPC '${e}' ${s} timed out`),a(new T(g.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:let d=c.getStatus();if(E(je,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let m=function(D){let C=D.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(C)>=0?C:g.UNKNOWN}(p.status);a(new T(m,p.message))}else a(new T(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new T(g.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{E(je,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(je,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=og(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=KD(),a=QD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new ZD({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(je,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,m=new um({co:D=>{p?E(je,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(h||(E(je,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(je,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},lo:()=>d.close()}),_=(D,C,se)=>{D.listen(C,ne=>{try{se(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return _(d,qo.EventType.OPEN,()=>{p||(E(je,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),_(d,qo.EventType.CLOSE,()=>{p||(p=!0,E(je,`RPC '${e}' stream ${i} transport closed`),m.fo())}),_(d,qo.EventType.ERROR,D=>{p||(p=!0,qu(je,`RPC '${e}' stream ${i} transport errored:`,D),m.fo(new T(g.UNAVAILABLE,"The operation could not be completed")))}),_(d,qo.EventType.MESSAGE,D=>{var C;if(!p){let se=D.data[0];Re(!!se);let ne=se,fe=ne.error||((C=ne[0])===null||C===void 0?void 0:C.error);if(fe){E(je,`RPC '${e}' stream ${i} received error:`,fe);let dt=fe.status,ve=function(tr){let Xr=ge[tr];if(Xr!==void 0)return v1(Xr)}(dt),ht=fe.message;ve===void 0&&(ve=g.INTERNAL,ht="Unknown error status: "+dt+" with message "+fe.message),p=!0,m.fo(new T(ve,ht)),d.close()}else E(je,`RPC '${e}' stream ${i} received:`,se),m.po(se)}}),_(a,JD.STAT_EVENT,D=>{D.stat===sg.PROXY?E(je,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===sg.NOPROXY&&E(je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}};function ag(){return typeof document<"u"?document:null}function hl(t){return new Vg(t,!0)}var nl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var dm=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new nl(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return f(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return f(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return f(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new T(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>f(this,null,function*(){this.state=0,this.start()}))}u_(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var hm=class extends dm{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=b1(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.d_(r,n)}return Re(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=D1(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>T1(this.serializer,r))};this.r_(n)}};var fm=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new T(g.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,jg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(g.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,jg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new T(g.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var pm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(jr(n),this.y_=!1):E("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var gm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>f(this,null,function*(){ra(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=ae(c);u.M_.add(4),yield na(u),u.N_.set("Unknown"),u.M_.delete(4),yield fl(u)})}(this))}))}),this.N_=new pm(r,i)}};function fl(t){return f(this,null,function*(){if(ra(t))for(let e of t.x_)yield e(!0)})}function na(t){return f(this,null,function*(){for(let e of t.x_)yield e(!1)})}function ra(t){return ae(t).M_.size===0}function WC(t,e,n){return f(this,null,function*(){if(!dl(e))throw e;t.M_.add(1),yield na(t),t.N_.set("Offline"),n||(n=()=>P1(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield fl(t)}))})}function KC(t,e){return e().catch(n=>WC(t,n,e))}function pl(t){return f(this,null,function*(){let e=ae(t),n=Jn(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;F1(e);)try{let i=yield O1(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,L1(e,i)}catch(i){yield WC(e,i)}QC(e)&&YC(e)})}function F1(t){return ra(t)&&t.v_.length<10}function L1(t,e){t.v_.push(e);let n=Jn(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function QC(t){return ra(t)&&!Jn(t).Yo()&&t.v_.length>0}function YC(t){Jn(t).start()}function V1(t){return f(this,null,function*(){Jn(t).R_()})}function U1(t){return f(this,null,function*(){let e=Jn(t);for(let n of t.v_)e.E_(n.mutations)})}function j1(t,e,n){return f(this,null,function*(){let r=t.v_.shift(),i=Fg.from(r,e,n);yield KC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield pl(t)})}function B1(t,e){return f(this,null,function*(){e&&Jn(t).T_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return y1(o)&&o!==g.ABORTED}(i.code)){let s=r.v_.shift();Jn(r).e_(),yield KC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield pl(r)}})}(t,e)),QC(t)&&YC(t)})}function fC(t,e){return f(this,null,function*(){let n=ae(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=ra(n);n.M_.add(3),yield na(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield fl(n)})}function $1(t,e){return f(this,null,function*(){let n=ae(t);e?(n.M_.delete(2),yield fl(n)):e||(n.M_.add(2),yield na(n),n.N_.set("Unknown"))})}function Jn(t){return t.k_||(t.k_=function(n,r,i){let s=ae(n);return s.m_(),new hm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:V1.bind(null,t),Eo:B1.bind(null,t),A_:U1.bind(null,t),d_:j1.bind(null,t)}),t.x_.push(e=>f(this,null,function*(){e?(t.k_.e_(),yield pl(t)):(yield t.k_.stop(),t.v_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var mm=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new T(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function JC(t,e){if(jr("AsyncQueue",`${e}: ${t}`),dl(t))return new T(g.UNAVAILABLE,`${e}: ${t}`);throw t}var ym=class{constructor(){this.queries=new Yn(e=>xC(e),NC),this.onlineState="Unknown",this.z_=new Set}};function H1(t){t.z_.forEach(e=>{e.next()})}var pC,gC;(gC=pC||(pC={})).J_="default",gC.Cache="cache";var vm=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Yn(a=>xC(a),NC),this.Da=new Map,this.Ca=new Set,this.va=new lt(U.comparator),this.Fa=new Map,this.Ma=new ea,this.xa={},this.Oa=new Map,this.Na=Xo.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function q1(t,e,n){return f(this,null,function*(){let r=K1(t);try{let i=yield function(o,a){let c=ae(o),u=$e.now(),l=a.reduce((p,m)=>p.add(m.key),Be()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ju(),_=Be();return c.ss.getEntries(p,l).next(D=>{m=D,m.forEach((C,se)=>{se.isValidDocument()||(_=_.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(D=>{d=D;let C=[];for(let se of a){let ne=m1(se,d.get(se.key).overlayedDocument);ne!=null&&C.push(new vn(se.key,ne,TC(ne.value.mapValue),Vr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,C,a)}).next(D=>{h=D;let C=D.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(p,D.batchId,C)})}).then(()=>({batchId:h.batchId,changes:OC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new lt(ie)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield gl(r,i.changes),yield pl(r.remoteStore)}catch(i){let s=JC(i,"Failed to persist write");n.reject(s)}})}function mC(t,e,n){let r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ae(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&H1(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function z1(t,e){return f(this,null,function*(){let n=ae(t),r=e.batch.batchId;try{let i=yield x1(n.localStore,e);XC(n,r,null),ZC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield gl(n,i)}catch(i){yield wC(i)}})}function G1(t,e,n){return f(this,null,function*(){let r=ae(t);try{let i=yield function(o,a){let c=ae(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Re(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);XC(r,e,n),ZC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield gl(r,i)}catch(i){yield wC(i)}})}function ZC(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function XC(t,e,n){let r=ae(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function gl(t,e,n){return f(this,null,function*(){let r=ae(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=rm.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return f(this,null,function*(){let l=ae(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.ki,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!dl(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ts.get(h),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);l.ts=l.ts.insert(h,_)}}})}(r.localStore,s))})}function W1(t,e){return f(this,null,function*(){let n=ae(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield GC(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new T(g.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gl(n,r._s)}})}function K1(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G1.bind(null,e),e}var rl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=hl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return N1(this.persistence,new sm,e.initialUser,this.serializer)}createPersistence(e){return new em(nm.jr,this.serializer)}createSharedClientState(e){return new am}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var _m=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W1.bind(null,this.syncEngine),yield $1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new ym}()}createDatastore(e){let n=hl(e.databaseInfo.databaseId),r=function(s){return new lm(s)}(e.databaseInfo);return function(s,o,a,c){return new fm(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new gm(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mC(this.syncEngine,n,0),function(){return tl.D()?new tl:new cm}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new vm(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=ae(r);E("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield na(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Im=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ae.UNAUTHENTICATED,this.clientId=Gu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=JC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function cg(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield GC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function yC(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Y1(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fC(e.remoteStore,i)),t._onlineComponents=e})}function Q1(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Y1(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cg(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Q1(n))throw n;qu("Error using user provided cache. Falling back to memory cache: "+n),yield cg(t,new rl)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield cg(t,new rl);return t._offlineComponents})}function J1(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield yC(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield yC(t,new _m))),t._onlineComponents})}function Z1(t){return J1(t).then(e=>e.syncEngine)}function eT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var vC=new Map;function tT(t,e,n){if(!n)throw new T(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function X1(t,e,n,r){if(e===!0&&r===!0)throw new T(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _C(t){if(!U.isDocumentKey(t))throw new T(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IC(t){if(U.isDocumentKey(t))throw new T(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function nT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Pm(t);throw new T(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var il=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new T(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new T(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new T(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new T(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new T(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},hs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new il({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new T(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new il(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ug;switch(r.type){case"firstParty":return new fg(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new T(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=vC.get(n);r&&(E("ComponentProvider","Removing Datastore"),vC.delete(n),r.terminate())}(this),Promise.resolve()}};function rT(t,e,n,r={}){var i;let s=(t=nT(t,hs))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&qu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ae.MOCK_USER;else{a=lE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ae(u)}t._authCredentials=new lg(new zu(a,c))}}var wm=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},yn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Gn=class t extends wm{constructor(e,n,r){super(e,n,t1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ia(t,e,...n){if(t=at(t),tT("collection","path",e),t instanceof hs){let r=ye.fromString(e,...n);return IC(r),new Gn(t,null,r)}{if(!(t instanceof yn||t instanceof Gn))throw new T(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return IC(r),new Gn(t.firestore,null,r)}}function iT(t,e,...n){if(t=at(t),arguments.length===1&&(e=Gu.newId()),tT("doc","path",e),t instanceof hs){let r=ye.fromString(e,...n);return _C(r),new yn(t,null,new U(r))}{if(!(t instanceof yn||t instanceof Gn))throw new T(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ye.fromString(e,...n));return _C(r),new yn(t.firestore,t instanceof Gn?t.converter:null,new U(r))}}var Em=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new nl(this,"async_queue_retry"),this.hu=()=>{let n=ag();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=ag();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new mn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return f(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!dl(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw jr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=mm.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&H()}verifyOperationInProgress(){}du(){return f(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var sl=class extends hs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Em}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||oT(this),this._firestoreClient.terminate()}};function sT(t,e){let n=typeof t=="object"?t:Hi(),r=typeof t=="string"?t:e||"(default)",i=wo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=uE("firestore");s&&rT(i,...s)}return i}function eF(t){return t._firestoreClient||oT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oT(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new _g(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,eT(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Im(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ol=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Wn.fromBase64String(e))}catch(n){throw new T(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var al=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new T(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var cl=class{constructor(e){this._methodName=e}};var ul=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var tF=/^__.*__$/,Dm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vn(e,this.data,this.fieldMask,n,this.fieldTransforms):new qr(e,this.data,n,this.fieldTransforms)}};function aT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}var Cm=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ll(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(aT(this.fu)&&tF.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Tm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hl(e)}Fu(e,n,r,i=!1){return new Cm({fu:e,methodName:n,vu:r,path:ut.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nF(t){let e=t._freezeSettings(),n=hl(t._databaseId);return new Tm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rF(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);dT("Data must be an object, but it was:",o,r);let a=uT(r,o),c,u;if(s.merge)c=new Jt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=iF(e,d,n);if(!o.contains(h))throw new T(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);aF(l,h)||l.push(h)}c=new Jt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Dm(new Yt(a),c,u)}function cT(t,e){if(lT(t=at(t)))return dT("Unsupported field value:",e,t),uT(t,e);if(t instanceof cl)return function(r,i){if(!aT(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=cT(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=$e.fromDate(r);return{timestampValue:Ug(i.serializer,s)}}if(r instanceof $e){let s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ug(i.serializer,s)}}if(r instanceof ul)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ol)return{bytesValue:_1(i.serializer,r._byteString)};if(r instanceof yn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qC(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Pm(r)}`)}(t,e)}function uT(t,e){let n={};return EC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(t,(r,i)=>{let s=cT(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof ul||t instanceof ol||t instanceof yn||t instanceof cl)}function dT(t,e,n){if(!lT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Pm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function iF(t,e,n){if((e=at(e))instanceof al)return e._internalPath;if(typeof e=="string")return oF(t,e);throw ll("Field path arguments must be of type string or ",t,!1,void 0,n)}var sF=new RegExp("[~\\*/\\[\\]]");function oF(t,e,n){if(e.search(sF)>=0)throw ll(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new al(...e.split("."))._internalPath}catch{throw ll(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ll(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new T(g.INVALID_ARGUMENT,a+t+c)}function aF(t,e){return t.some(n=>n.isEqual(e))}function cF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function sa(t,e){let n=nT(t.firestore,sl),r=iT(t),i=cF(t.converter,e);return uF(n,[rF(nF(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}function uF(t,e){return function(r,i){let s=new mn;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return q1(yield Z1(r),i,s)})),s.promise}(eF(t),e)}(function(e,n=!0){(function(i){fs=i})(Hn),$n(new Ct("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new sl(new dg(r.getProvider("auth-internal")),new gg(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ig(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),De(tC,"4.6.1",e),De(tC,"4.6.1","esm2017")})();var lF="firebase",dF="10.11.1";De(lF,dF,"app");var Gr=new cn("ANGULARFIRE2_VERSION");function yl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var oa=(t,e)=>{let n=e?[e]:uu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},gs=class{constructor(){return oa(hF)}},hF="app-check";function ps(){}var ml=class{zone;delegate;constructor(e,n=ed){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Om=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)),n.pipe(Ie({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ms=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=n.run(()=>new ml(Zone.current,Xl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(F(te))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function fF(t){return vl().ngZone.runOutsideAngular(()=>t())}function zr(t){return vl().ngZone.run(()=>t())}function pF(t){return gF(vl())(t)}function gF(t){return function(n){return n=n.lift(new Om(t.ngZone)),n.pipe(bn(t.outsideAngular),Tn(t.insideAngular))}}var mF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),zr(()=>t.apply(void 0,r))},ys=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=zr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps))),r[s]=mF(r[s],n));let i=fF(()=>t.apply(this,r));if(!e)if(i instanceof G){let s=vl();return i.pipe(bn(s.outsideAngular),Tn(s.insideAngular))}else return zr(()=>i);return i instanceof G?i.pipe(pF):i instanceof Promise?zr(()=>new Promise((s,o)=>i.then(a=>zr(()=>s(a)),a=>zr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:zr(()=>i)};var _n=class{constructor(e){return e}},Wr=class{constructor(){return uu()}};function yF(t){return t&&t.length===1?t[0]:new _n(Hi())}var km=new S("angularfire2._apps"),vF={provide:_n,useFactory:yF,deps:[[new Ye,km]]},_F={provide:Wr,deps:[[new Ye,km]]};function IF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _n(r)}}var wF=(()=>{class t{constructor(n){De("angularfire",Gr.full,"core"),De("angularfire",Gr.full,"app"),De("angular",OI.full,n.toString())}static \u0275fac=function(r){return new(r||t)(F(kn))};static \u0275mod=vt({type:t});static \u0275inj=yt({providers:[vF,_F]})}return t})();function hT(t,...e){return{ngModule:wF,providers:[{provide:km,useFactory:IF(t),multi:!0,deps:[te,wt,ms,...e]}]}}var fT=ys(gp,!0);function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var MT=AT,RT=new hn("auth","Firebase",AT());var Cl=new jn("@firebase/auth");function EF(t,...e){Cl.logLevel<=$.WARN&&Cl.warn(`Auth (${Hn}): ${t}`,...e)}function Il(t,...e){Cl.logLevel<=$.ERROR&&Cl.error(`Auth (${Hn}): ${t}`,...e)}function Xn(t,...e){throw ty(t,...e)}function Qr(t,...e){return ty(t,...e)}function NT(t,e,n){let r=Object.assign(Object.assign({},MT()),{[e]:n});return new hn("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return NT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ty(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RT.create(t,...e)}function R(t,e,...n){if(!t)throw ty(e,...n)}function In(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Il(e),new Error(e)}function er(t,e){t||In(e)}function Um(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DF(){return pT()==="http:"||pT()==="https:"}function pT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DF()||hE()||"connection"in navigator)?navigator.onLine:!0}function TF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Yr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=dE()||fE()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ny(t,e){er(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Tl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var SF=new Yr(3e4,6e4);function ry(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function _s(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return xT(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=vo(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Tl.fetch()(PT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function xT(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},bF),e);try{let i=new jm(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw _l(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw _l(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw NT(t,l,u);Xn(t,l)}}catch(i){if(i instanceof ot)throw i;Xn(t,"network-request-failed",{message:String(i)})}})}function AF(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield _s(t,e,n,r,i);return"mfaPendingCredential"in u&&Xn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function PT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ny(t.config,i):`${t.config.apiScheme}://${i}`}var jm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),SF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _l(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Qr(t,e,r);return i.customData._tokenResponse=n,i}function MF(t,e){return f(this,null,function*(){return _s(t,"POST","/v1/accounts:delete",e)})}function OT(t,e){return f(this,null,function*(){return _s(t,"POST","/v1/accounts:lookup",e)})}function aa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iy(t,e=!1){return f(this,null,function*(){let n=at(t),r=yield n.getIdToken(e),i=sy(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:aa(Fm(i.auth_time)),issuedAtTime:aa(Fm(i.iat)),expirationTime:aa(Fm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Fm(t){return Number(t)*1e3}function sy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Il("JWT malformed, contained fewer than 3 sections"),null;try{let i=Yf(n);return i?JSON.parse(i):(Il("Failed to decode base64 JWT payload"),null)}catch(i){return Il("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gT(t){let e=sy(t);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ua(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof ot&&RF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function RF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Bm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var la=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=aa(this.lastLoginAt),this.creationTime=aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function bl(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ua(t,OT(n,{idToken:r}));R(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?kT(s.providerUserInfo):[],a=NF(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new la(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function oy(t){return f(this,null,function*(){let e=at(t);yield bl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function NF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kT(t){return t.map(e=>{var{providerId:n}=e,r=td(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function xF(t,e){return f(this,null,function*(){let n=yield xT(t,{},()=>f(this,null,function*(){let r=vo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function PF(t,e){return f(this,null,function*(){return _s(t,"POST","/v2/accounts:revokeToken",ry(t,e))})}var ca=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){R(e.length!==0,"internal-error");let n=gT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(R(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield xF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(R(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(R(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(R(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return In("not implemented")}};function Zn(t,e){R(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var vs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=td(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new la(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield ua(this,this.stsTokenManager.getToken(this.auth,e));return R(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return iy(this,e)}reload(){return oy(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield bl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(fn(this.auth.app))return Promise.reject(Kr(this.auth));let e=yield this.getIdToken();return yield ua(this,MF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,se=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ne,emailVerified:fe,isAnonymous:dt,providerData:ve,stsTokenManager:ht}=n;R(ne&&ht,e,"internal-error");let Zr=ca.fromJSON(this.name,ht);R(typeof ne=="string",e,"internal-error"),Zn(d,e.name),Zn(h,e.name),R(typeof fe=="boolean",e,"internal-error"),R(typeof dt=="boolean",e,"internal-error"),Zn(p,e.name),Zn(m,e.name),Zn(_,e.name),Zn(D,e.name),Zn(C,e.name),Zn(se,e.name);let tr=new t({uid:ne,auth:e,email:h,emailVerified:fe,displayName:d,isAnonymous:dt,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:Zr,createdAt:C,lastLoginAt:se});return ve&&Array.isArray(ve)&&(tr.providerData=ve.map(Xr=>Object.assign({},Xr))),D&&(tr._redirectEventId=D),tr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new ca;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield bl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];R(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?kT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ca;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new la(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var mT=new Map;function wn(t){er(t instanceof Function,"Expected a class definition");let e=mT.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mT.set(t,e),e)}var OF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),$m=OF;function wl(t,e,n){return`firebase:${t}:${e}:${n}`}var Sl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=wl(this.userKey,i.apiKey,s),this.fullPersistenceKey=wl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(wn($m),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||wn($m),o=wl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=vs._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function yT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jT(e))return"Blackberry";if(BT(e))return"Webos";if(ay(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(UT(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function FT(t=Ee()){return/firefox\//i.test(t)}function ay(t=Ee()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(t=Ee()){return/crios\//i.test(t)}function VT(t=Ee()){return/iemobile/i.test(t)}function UT(t=Ee()){return/android/i.test(t)}function jT(t=Ee()){return/blackberry/i.test(t)}function BT(t=Ee()){return/webos/i.test(t)}function kl(t=Ee()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kF(t=Ee()){var e;return kl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FF(){return pE()&&document.documentMode===10}function $T(t=Ee()){return kl(t)||UT(t)||BT(t)||jT(t)||/windows phone/i.test(t)||VT(t)}function LF(){try{return!!(window&&window!==window.top)}catch{return!1}}function HT(t,e=[]){let n;switch(t){case"Browser":n=yT(Ee());break;case"Worker":n=`${yT(Ee())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hn}/${r}`}var Hm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function VF(n){return f(this,arguments,function*(t,e={}){return _s(t,"GET","/v2/passwordPolicy",ry(t,e))})}var UF=6,qm=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:UF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var zm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Al(this),this.idTokenSubscription=new Al(this),this.beforeStateQueue=new Hm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield OT(this,{idToken:e}),r=yield vs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(fn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return R(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield bl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=TF()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(fn(this.app))return Promise.reject(Kr(this));let n=e?at(e):null;return n&&R(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&R(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return fn(this.app)?Promise.reject(Kr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fn(this.app)?Promise.reject(Kr(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(wn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield VF(this),n=new qm(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield PF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&wn(e)||this._popupRedirectResolver;R(n,this,"argument-error"),this.redirectPersistenceManager=yield Sl.create(this,[wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&EF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function cy(t){return at(t)}var Al=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vE(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var uy={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jF(t){uy=t}function BF(t){return uy.loadJS(t)}function $F(){return uy.gapiScript}function qT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function ly(t,e){let n=wo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Mr(s,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function HF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(wn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function dy(t,e,n){let r=cy(t);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=zT(e),{host:o,port:a}=qF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||zF()}function zT(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qF(t){let e=zT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:vT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:vT(o)}}}function vT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function zF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ml=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return In("not implemented")}_getIdTokenResponse(e){return In("not implemented")}_linkToIdToken(e,n){return In("not implemented")}_getReauthenticationResolver(e){return In("not implemented")}};function Lm(t,e){return f(this,null,function*(){return AF(t,"POST","/v1/accounts:signInWithIdp",ry(t,e))})}var Rl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gm=class extends Rl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var da=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield vs._fromIdTokenResponse(e,r,i),o=_T(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=_T(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function _T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Wm=class t extends ot{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function GT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wm._fromErrorAndOperation(t,s,e,r):s})}function GF(t,e,n=!1){return f(this,null,function*(){let r=yield ua(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return da._forOperation(t,"link",r)})}function WF(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(fn(r.app))return Promise.reject(Kr(r));let i="reauthenticate";try{let s=yield ua(t,GT(r,i,e,t),n);R(s.idToken,r,"internal-error");let o=sy(s.idToken);R(o,r,"internal-error");let{sub:a}=o;return R(t.uid===a,r,"user-mismatch"),da._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Xn(r,"user-mismatch"),s}})}function KF(t,e,n=!1){return f(this,null,function*(){if(fn(t.app))return Promise.reject(Kr(t));let r="signIn",i=yield GT(t,r,e),s=yield da._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function hy(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function fy(t,e,n){return at(t).beforeAuthStateChanged(e,n)}var Nl="__sak";var xl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function QF(){let t=Ee();return ay(t)||kl(t)}var YF=1e3,JF=10,ZF=(()=>{class t extends xl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QF()&&LF(),this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);FF()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,JF):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},YF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Dn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Dn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Dn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),WT=ZF;var XF=(()=>{class t extends xl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),py=XF;function eL(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var tL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield eL(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function KT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Km=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=KT("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function en(){return window}function nL(t){en().location.href=t}function QT(){return typeof en().WorkerGlobalScope<"u"&&typeof en().importScripts=="function"}function rL(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function iL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sL(){return QT()?self:null}var YT="firebaseLocalStorageDb",oL=1,Pl="firebaseLocalStorage",JT="fbase_key",Jr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Fl(t,e){return t.transaction([Pl],e?"readwrite":"readonly").objectStore(Pl)}function aL(){let t=indexedDB.deleteDatabase(YT);return new Jr(t).toPromise()}function Qm(){let t=indexedDB.open(YT,oL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pl,{keyPath:JT})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Pl)?e(r):(r.close(),yield aL(),e(yield Qm()))}))})}function IT(t,e,n){return f(this,null,function*(){let r=Fl(t,!0).put({[JT]:e,value:n});return new Jr(r).toPromise()})}function cL(t,e){return f(this,null,function*(){let n=Fl(t,!1).get(e),r=yield new Jr(n).toPromise();return r===void 0?null:r.value})}function wT(t,e){let n=Fl(t,!0).delete(e);return new Jr(n).toPromise()}var uL=800,lL=3,dL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield Qm(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>lL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return QT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=tL._getInstance(sL()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield rL(),!this.activeServiceWorker)return;this.sender=new Km(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||iL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Qm();return yield IT(n,Nl,"1"),yield wT(n,Nl),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>IT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>cL(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>wT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=Fl(s,!1).getAll();return new Jr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),uL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ZT=dL;var kG=qT("rcb"),FG=new Yr(3e4,6e4);function hL(t,e){return e?wn(e):(R(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ha=class extends Ml{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Lm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Lm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function fL(t){return KF(t.auth,new ha(t),t.bypassAuthState)}function pL(t){let{auth:e,user:n}=t;return R(n,e,"internal-error"),WF(n,new ha(t),t.bypassAuthState)}function gL(t){return f(this,null,function*(){let{auth:e,user:n}=t;return R(n,e,"internal-error"),GF(n,new ha(t),t.bypassAuthState)})}var Ym=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fL;case"linkViaPopup":case"linkViaRedirect":return gL;case"reauthViaPopup":case"reauthViaRedirect":return pL;default:Xn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var LG=new Yr(2e3,1e4);var mL="pendingRedirect",El=new Map,Jm=class t extends Ym{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=El.get(this.auth._key());if(!e){try{let r=(yield yL(this.resolver,this.auth))?yield Dn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}El.set(this.auth._key(),e)}return this.bypassAuthState||El.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Dn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Dn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function yL(t,e){return f(this,null,function*(){let n=IL(e),r=_L(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function vL(t,e){El.set(t._key(),e)}function _L(t){return wn(t._redirectPersistence)}function IL(t){return wl(mL,t.config.apiKey,t.name)}function wL(t,e,n=!1){return f(this,null,function*(){if(fn(t.app))return Promise.reject(Kr(t));let r=cy(t),i=hL(r,e),o=yield new Jm(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var EL=10*60*1e3,Zm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XT(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EL&&this.cachedEventUids.clear(),this.cachedEventUids.has(ET(e))}saveEventToCache(e){this.cachedEventUids.add(ET(e)),this.lastProcessedEventTime=Date.now()}};function ET(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XT({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function DL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XT(t);default:return!1}}function CL(n){return f(this,arguments,function*(t,e={}){return _s(t,"GET","/v1/projects",e)})}var TL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bL=/^https?/;function SL(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield CL(t);for(let n of e)try{if(AL(n))return}catch{}Xn(t,"unauthorized-domain")})}function AL(t){let e=Um(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bL.test(n))return!1;if(TL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var ML=new Yr(3e4,6e4);function DT(){let t=en().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RL(t){return new Promise((e,n)=>{var r,i,s;function o(){DT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{DT(),n(Qr(t,"network-request-failed"))},timeout:ML.get()})}if(!((i=(r=en().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=en().gapi)===null||s===void 0)&&s.load)o();else{let a=qT("iframefcb");return en()[a]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},BF(`${$F()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Dl=null,e})}var Dl=null;function NL(t){return Dl=Dl||RL(t),Dl}var xL=new Yr(5e3,15e3),PL="__/auth/iframe",OL="emulator/auth/iframe",kL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LL(t){let e=t.config;R(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ny(e,OL):`https://${t.config.authDomain}/${PL}`,r={apiKey:e.apiKey,appName:t.name,v:Hn},i=FL.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vo(r).slice(1)}`}function VL(t){return f(this,null,function*(){let e=yield NL(t),n=en().gapi;return R(n,t,"internal-error"),e.open({where:document.body,url:LL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kL,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Qr(t,"network-request-failed"),a=en().setTimeout(()=>{s(o)},xL.get());function c(){en().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var UL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jL=500,BL=600,$L="_blank",HL="http://localhost",Ol=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qL(t,e,n,r=jL,i=BL){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},UL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ee().toLowerCase();n&&(a=LT(u)?$L:n),FT(u)&&(e=e||HL,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(kF(u)&&a!=="_self")return zL(e||"",a),new Ol(null);let d=window.open(e||"",a,l);R(d,t,"popup-blocked");try{d.focus()}catch{}return new Ol(d)}function zL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var GL="__/auth/handler",WL="emulator/auth/handler",KL=encodeURIComponent("fac");function CT(t,e,n,r,i,s){return f(this,null,function*(){R(t.config.authDomain,t,"auth-domain-config-required"),R(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hn,eventId:i};if(e instanceof Rl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof Gm){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${KL}=${encodeURIComponent(c)}`:"";return`${QL(t)}?${vo(a).slice(1)}${u}`})}function QL({config:t}){return t.emulator?ny(t,WL):`https://${t.authDomain}/${GL}`}var Vm="webStorageSupport",Xm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=py,this._completeRedirectFn=wL,this._overrideRedirectResult=vL}_openPopup(e,n,r,i){return f(this,null,function*(){var s;er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield CT(e,n,r,Um(),i);return qL(e,o,KT())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield CT(e,n,r,Um(),i);return nL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(er(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield VL(e),r=new Zm(e);return n.register("authEvent",i=>(R(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Vm];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $T()||ay()||kl()}},e0=Xm;var TT="@firebase/auth",bT="1.7.2";var ey=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JL(t){$n(new Ct("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HT(t)},u=new zm(r,i,s,c);return HF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$n(new Ct("auth-internal",e=>{let n=cy(e.getProvider("auth").getImmediate());return(r=>new ey(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),De(TT,bT,YL(t)),De(TT,bT,"esm2017")}var ZL=5*60,XL=Xf("authIdTokenMaxAge")||ZL,ST=null,eV=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XL)return;let i=n?.token;ST!==i&&(ST=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function gy(t=Hi()){let e=wo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ly(t,{popupRedirectResolver:e0,persistence:[ZT,WT,py]}),r=Xf("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=eV(s.toString());fy(n,o,()=>o(n.currentUser)),hy(n,a=>o(a))}}let i=Jf("auth");return i&&dy(n,`http://${i}`),n}function tV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Qr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JL("Browser");var t0="auth",fa=class{constructor(e){return e}},pa=class{constructor(){return oa(t0)}};var my=new S("angularfire2.auth-instances");function QV(t,e){let n=yl(t0,t,e);return n&&new fa(n)}function YV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fa(r)}}var JV={provide:pa,deps:[[new Ye,my]]},ZV={provide:fa,useFactory:QV,deps:[[new Ye,my],_n]},XV=(()=>{class t{constructor(){De("angularfire",Gr.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vt({type:t});static \u0275inj=yt({providers:[ZV,JV]})}return t})();function n0(t,...e){return{ngModule:XV,providers:[{provide:my,useFactory:YV(t),multi:!0,deps:[te,wt,ms,Wr,[new Ye,gs],...e]}]}}var r0=ys(gy,!0);var En=class{constructor(e){return e}},i0="firestore",yy=class{constructor(){return oa(i0)}};var vy=new S("angularfire2.firestore-instances");function eU(t,e){let n=yl(i0,t,e);return n&&new En(n)}function tU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new En(r)}}var nU={provide:yy,deps:[[new Ye,vy]]},rU={provide:En,useFactory:eU,deps:[[new Ye,vy],_n]},iU=(()=>{class t{constructor(){De("angularfire",Gr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=vt({type:t});static \u0275inj=yt({providers:[rU,nU]})}return t})();function s0(t,...e){return{ngModule:iU,providers:[{provide:vy,useFactory:tU(t),multi:!0,deps:[te,wt,ms,Wr,[new Ye,pa],[new Ye,gs],...e]}]}}var o0=ys(sT,!0);var sU=()=>["/registrar"],c0=(()=>{let e=class e{constructor(r,i){this.router=r,this.firestore=i,this.mail="",this.contrasenia="",this.notificacion=""}loguear(){if(this.mail!=""&&this.contrasenia!=""){let r=localStorage.getItem("Tp1Usuarios"),i=JSON.parse(r);if(i==null||i==null)this.mostrarNotificacion("Usuario no registrado. Registrese.");else{for(let s of i)if(s.mail==this.mail){s.clave==this.contrasenia?(this.guardarUsuarioLogueado(s),this.goToHome()):this.mostrarNotificacion("Contrase\xF1a incorrecta.");return}this.mostrarNotificacion("Usuario no registrado. Registrese.")}}else this.mostrarNotificacion("Complete ambos campos")}guardarUsuarioLogueado(r){let i=JSON.stringify(r);localStorage.setItem("Tp1UsuarioLogueado",i);let s=ia(this.firestore,"logins");sa(s,{fecha:new Date,user:r.mail})}mostrarNotificacion(r){this.notificacion=r;let i=document.querySelector(".notification");i.style.visibility="visible"}esconderNotificacion(){this.notificacion="";let r=document.querySelector(".notification");r.style.visibility="hidden"}goToHome(){this.router.navigate(["/home"])}};e.\u0275fac=function(i){return new(i||e)(z(st),z(En))},e.\u0275cmp=Je({type:e,selectors:[["app-login"]],standalone:!0,features:[Ze],decls:22,vars:5,consts:[["href",bc`https://fonts.googleapis.com/css?family=Ubuntu:500`,"rel","stylesheet","type","text/css"],[1,"login"],[1,"login-form"],[1,"login-header"],["type","email","placeholder","Mail",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],[1,"button","is-link",3,"click"],[1,"button","is-link","is-outlined","mt-2",3,"routerLink"],[1,"notification","is-danger","is-light",2,"visibility","hidden"],[1,"delete",3,"click"]],template:function(i,s){i&1&&(Le(0,"link",0),L(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),Z(5,"Login"),V()(),L(6,"h3"),Z(7,"Mail:"),V(),L(8,"input",4),Ir("ngModelChange",function(a){return Ni(s.mail,a)||(s.mail=a),a}),V(),Le(9,"br"),L(10,"h3"),Z(11,"Contrase\xF1a"),V(),L(12,"input",5),Ir("ngModelChange",function(a){return Ni(s.contrasenia,a)||(s.contrasenia=a),a}),V(),Le(13,"br"),L(14,"button",6),we("click",function(){return s.loguear()}),Z(15,"Login"),V(),Le(16,"br"),L(17,"button",7),Z(18,"Registrate!"),V()(),L(19,"div",8)(20,"button",9),we("click",function(){return s.esconderNotificacion()}),V(),Z(21),V()()),i&2&&(Pt(8),_r("ngModel",s.mail),Pt(4),_r("ngModel",s.contrasenia),Pt(5),Uh("routerLink",PI(4,sU)),Pt(4),Ri(" ",s.notificacion," "))},dependencies:[Vw,iu,$i,nu,mo],styles:["[_nghost-%COMP%]{margin:0;font-family:Ubuntu,sans-serif;background-size:100% 110%;width:10vw}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:0;padding:0}.login[_ngcontent-%COMP%]{margin:0 auto;max-width:500px}.login-header[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:300%}.login-form[_ngcontent-%COMP%]{border:.5px solid #fff;background:#4facff;border-radius:10px;box-shadow:0 0 10px #000}.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;margin-left:40px;color:#fff}.login-form[_ngcontent-%COMP%]{box-sizing:border-box;padding-top:15px;padding-bottom:10%;margin:5% auto;text-align:center}.login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{max-width:400px;width:80%;line-height:3em;font-family:Ubuntu,sans-serif;margin:1em 2em;border-radius:5px;border:2px solid #f2f2f2;outline:none;padding-left:10px}.login-form[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{height:30px;width:100px;background:#fff;border:1px solid #f2f2f2;border-radius:20px;color:#708090;text-transform:uppercase;font-family:Ubuntu,sans-serif;cursor:pointer}.no-access[_ngcontent-%COMP%]{color:#e86850;margin:20px 0 20px -57%;text-decoration:underline;cursor:pointer}.try-again[_ngcontent-%COMP%]{color:#f2f2f2;text-decoration:underline;cursor:pointer}@media only screen and (min-width: 150px) and (max-width: 530px){.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:0}.sign-up[_ngcontent-%COMP%], .no-access[_ngcontent-%COMP%]{margin:10px 0}.login-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]});let t=e;return t})();var u0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-error"]],standalone:!0,features:[Ze],decls:5,vars:0,consts:[[1,"container"],[1,"title","is-1"],[1,"title","is-5"]],template:function(i,s){i&1&&(L(0,"div",0)(1,"h1",1),Z(2,"404 NOT FOUND"),V(),L(3,"h5",2),Z(4,"P\xE1gina no encontrada"),V()())}});let t=e;return t})();var Ll=class{constructor(e,n){this.mail=e,this.clave=n}};var l0=(()=>{let e=class e{constructor(r,i){this.router=r,this.firestore=i,this.mail="",this.contrasenia="",this.notificacion=""}registrar(){if(this.mail!=""&&this.contrasenia!=""){let r=new Ll(this.mail,this.contrasenia),i=localStorage.getItem("Tp1Usuarios");if(this.usuarios=JSON.parse(i),this.usuarios==null||this.usuarios==null)this.usuarios=[r],this.guardarUsuarios(),this.guardarUsuarioLogueado(r),this.goToHome();else{for(let s of this.usuarios)if(s.mail==r.mail){this.mostrarNotificacion("Este mail ya est\xE1 registrado. Pruebe iniciando sesi\xF3n.");return}this.usuarios.push(r),this.guardarUsuarios(),this.guardarUsuarioLogueado(r),this.goToHome()}}else this.mostrarNotificacion("Complete ambos campos")}guardarUsuarios(){let r=JSON.stringify(this.usuarios);localStorage.setItem("Tp1Usuarios",r)}guardarUsuarioLogueado(r){let i=JSON.stringify(r);localStorage.setItem("Tp1UsuarioLogueado",i);let s=ia(this.firestore,"logins");sa(s,{fecha:new Date,user:r.mail})}goToHome(){this.router.navigate(["/home"])}mostrarNotificacion(r){this.notificacion=r;let i=document.querySelector(".notification");i.style.visibility="visible"}esconderNotificacion(){this.notificacion="";let r=document.querySelector(".notification");r.style.visibility="hidden"}};e.\u0275fac=function(i){return new(i||e)(z(st),z(En))},e.\u0275cmp=Je({type:e,selectors:[["app-registrar"]],standalone:!0,features:[Ze],decls:19,vars:3,consts:[["href",bc`https://fonts.googleapis.com/css?family=Ubuntu:500`,"rel","stylesheet","type","text/css"],[1,"login"],[1,"login-form"],[1,"login-header"],["type","email","placeholder","Mail",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],[1,"button","is-link",3,"click"],[1,"notification","is-danger","is-light",2,"visibility","hidden"],[1,"delete",3,"click"]],template:function(i,s){i&1&&(Le(0,"link",0),L(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),Z(5,"Registrate"),V()(),L(6,"h3"),Z(7,"Mail:"),V(),L(8,"input",4),Ir("ngModelChange",function(a){return Ni(s.mail,a)||(s.mail=a),a}),V(),Le(9,"br"),L(10,"h3"),Z(11,"Contrase\xF1a:"),V(),L(12,"input",5),Ir("ngModelChange",function(a){return Ni(s.contrasenia,a)||(s.contrasenia=a),a}),V(),Le(13,"br"),L(14,"button",6),we("click",function(){return s.registrar()}),Z(15,"Registrar"),V()(),L(16,"div",7)(17,"button",8),we("click",function(){return s.esconderNotificacion()}),V(),Z(18),V()()),i&2&&(Pt(8),_r("ngModel",s.mail),Pt(4),_r("ngModel",s.contrasenia),Pt(6),Ri(" ",s.notificacion," "))},dependencies:[iu,$i,nu,mo],styles:["[_nghost-%COMP%]{margin:0;font-family:Ubuntu,sans-serif;background-size:100% 110%;width:10vw}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:0;padding:0}.login[_ngcontent-%COMP%]{margin:0 auto;max-width:500px}.login-header[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:300%}.login-form[_ngcontent-%COMP%]{border:.5px solid #fff;background:#4facff;border-radius:10px;box-shadow:0 0 10px #000}.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;margin-left:40px;color:#fff}.login-form[_ngcontent-%COMP%]{box-sizing:border-box;padding-top:15px;padding-bottom:10%;margin:5% auto;text-align:center}.login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{max-width:400px;width:80%;line-height:3em;font-family:Ubuntu,sans-serif;margin:1em 2em;border-radius:5px;border:2px solid #f2f2f2;outline:none;padding-left:10px}.login-form[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{height:30px;width:100px;background:#fff;border:1px solid #f2f2f2;border-radius:20px;color:#708090;text-transform:uppercase;font-family:Ubuntu,sans-serif;cursor:pointer}.no-access[_ngcontent-%COMP%]{color:#e86850;margin:20px 0 20px -57%;text-decoration:underline;cursor:pointer}.try-again[_ngcontent-%COMP%]{color:#f2f2f2;text-decoration:underline;cursor:pointer}@media only screen and (min-width: 150px) and (max-width: 530px){.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:0}.sign-up[_ngcontent-%COMP%], .no-access[_ngcontent-%COMP%]{margin:10px 0}.login-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]});let t=e;return t})();var d0=(()=>{let e=class e{constructor(r){this.router=r}goTo(r){this.router.navigate([r])}cerrarSesion(){localStorage.removeItem("Tp1UsuarioLogueado"),this.goTo("/login")}};e.\u0275fac=function(i){return new(i||e)(z(st))},e.\u0275cmp=Je({type:e,selectors:[["app-about"]],standalone:!0,features:[Ze],decls:32,vars:0,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],["id","navbar",1,"navbar-menu"],[1,"navbar-start"],[1,"navbar-item",3,"click"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],[1,"button","is-primary",3,"click"],[1,"section"],[1,"container"],[1,"title","is-2"],[1,"columns"],[1,"column","is-3"],["src","../../../assets/Foto-perfil.png","alt","Tu foto"],[1,"column","is-4"],[1,"box"],[1,"title","is-4"],[1,"column","is-7"]],template:function(i,s){i&1&&(L(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),we("click",function(){return s.goTo("/home")}),Z(4," Home "),V(),L(5,"a",3),we("click",function(){return s.goTo("/about")}),Z(6," Quien soy "),V()(),L(7,"div",4)(8,"div",5)(9,"div",6)(10,"a",7),we("click",function(){return s.cerrarSesion()}),L(11,"strong"),Z(12,"Cerrar Sesi\xF3n"),V()()()()()()(),L(13,"div",8)(14,"div",9)(15,"h2",10),Z(16,"Sobre m\xED"),V(),L(17,"div",11)(18,"div",12)(19,"figure"),Le(20,"img",13),V()(),L(21,"div",14)(22,"p"),Z(23," Hola, soy Nahuel P\xE9rez Novoa. Soy desarrollador mobile con 2 a\xF1os de experiencia laboral, pero realmente me cuesta bastante web. A\xFAn asi, aca estamos, poniendole onda! "),V()()()()(),L(24,"div",15)(25,"div",9)(26,"h2",16),Z(27,"Mi juego"),V(),L(28,"div",11)(29,"div",17)(30,"p"),Z(31," Esta es la descripcion de mi juego, todavia no se cual voy a hacer, pero lo estar\xE9 subiendo proximamente. "),V()()()()())},styles:[".section[_ngcontent-%COMP%]{padding:50px 0}.title[_ngcontent-%COMP%], .image[_ngcontent-%COMP%]{margin-bottom:20px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-right:10px}img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:100px}"]});let t=e;return t})();var h0=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"home",component:jw},{path:"about",component:d0},{path:"login",component:c0},{path:"registrar",component:l0},{path:"**",component:u0}];var f0={projectId:"laboiv-nahuelpereznovoa",appId:"1:830217150345:web:c12f4b3c995122573fcb58",storageBucket:"laboiv-nahuelpereznovoa.appspot.com",apiKey:"AIzaSyAAAdUxp0-2YtmfL3ejWsmwEfY8KmUdouE",authDomain:"laboiv-nahuelpereznovoa.firebaseapp.com",messagingSenderId:"830217150345"};var p0={providers:[Uw(h0),Vs(hT(()=>fT(f0))),Vs(n0(()=>r0())),Vs(s0(()=>o0()))]};var g0=(()=>{let e=class e{constructor(r){this.router=r,this.title="TP1"}goTo(r){this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(z(st))},e.\u0275cmp=Je({type:e,selectors:[["app-root"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(i,s){i&1&&Le(0,"router-outlet")},dependencies:[kf]});let t=e;return t})();rw(g0,p0).catch(t=>console.error(t));

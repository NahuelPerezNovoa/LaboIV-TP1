import{a as B}from"./chunk-DTVGBC6O.js";import"./chunk-56GVRW4M.js";import"./chunk-J6IPJUCK.js";import{Ca as l,Da as f,Oa as y,Qa as b,Sa as m,Ua as k,Va as v,Wa as _,Xa as C,Ya as s,Za as r,_a as x,ab as c,ba as g,bb as T,db as o,eb as P,fb as E,kb as M,ya as h}from"./chunk-TBGVEFEO.js";function O(e,a){if(e&1&&x(0,"img",2),e&2){let d=a.$implicit;b("src",d,h)}}function j(e,a){if(e&1&&(s(0,"p",6),o(1),r()),e&2){let d=T();l(),E("Total: ",d.sumaTotal,"")}}var N=(()=>{let a=class a{constructor(i){this.cardService=i,this.points=0,this.isPlaying=!1,this.startImage="../../../assets/blackjack.jpg",this.images=[this.startImage],this.sumaTotal=0,this.restartHand=!1,this.deck=null}ngOnInit(){this.toggleMode(this.isPlaying)}play(i){this.cardService.getCard(this.deck).subscribe(n=>{this.deck==null&&(this.deck=n.deck_id);let t=n.cards[0];switch(i){case u.Nuevo:this.isPlaying=!0,this.restartHand||(this.points=0),this.sumaTotal=0,this.sumaTotal+=+this.getNumberValue(t.value),this.images=[];break;case u.Otra:this.sumaTotal+=+this.getNumberValue(t.value),this.sumaTotal>21&&(this.restartHand=!1,this.isPlaying=!1,this.deck=null);break;case u.Fuera:this.sumaTotal+=+this.getNumberValue(t.value),this.sumaTotal>21?(this.restartHand=!0,this.points++,this.isPlaying=!1,this.deck=null):(this.restartHand=!1,this.isPlaying=!1,this.deck=null);break}console.log("sumaTotal: "+this.sumaTotal),this.toggleMode(this.isPlaying),this.images.push(t.image)})}toggleMode(i){let n=document.getElementById("play-buttons"),t=document.getElementById("start-button");i?(n.style.visibility="visible",t.style.visibility="hidden"):(t.style.visibility="visible",n.style.visibility="hidden")}getNumberValue(i){switch(i){case"ACE":return"1";case"JACK":return"11";case"QUEEN":return"12";case"KING":return"13";default:return i}}getBoardColor(){return this.isPlaying?"color : cornflowerblue":this.restartHand?"color : green":"color : red"}};a.\u0275fac=function(n){return new(n||a)(f(B))},a.\u0275cmp=g({type:a,selectors:[["app-blackjack"]],standalone:!0,features:[M],decls:17,vars:6,consts:[[1,"card-container","pt-6"],[1,"hand-container"],["alt","Imagen",1,"card-image","m-2",3,"src"],["id","play-buttons",1,"button-group"],[1,"button","is-primary",3,"click"],[1,"button","is-danger",3,"click"],[1,"title","is-5","pt-6"],["id","start-button",1,"button","is-link",3,"click"],[1,"box"],[1,"title","is-4"],[1,"title","is-2"]],template:function(n,t){n&1&&(s(0,"div",0)(1,"div",1),_(2,O,1,1,"img",2,v),r(),s(4,"div",3)(5,"button",4),c("click",function(){return t.play("Otra")}),o(6,"OTRA CARTA"),r(),s(7,"button",5),c("click",function(){return t.play("Fuera")}),o(8,"ESTOY FUERA"),r()(),y(9,j,2,1,"p",6),s(10,"button",7),c("click",function(){return t.play("Nuevo")}),o(11,"COMENZAR"),r(),s(12,"div",8)(13,"p",9),o(14,"Puntos"),r(),s(15,"p",10),o(16),r()()()),n&2&&(l(2),C(t.images),l(7),k(9,t.sumaTotal!=0?9:-1),l(4),m(t.getBoardColor()),l(2),m(t.getBoardColor()),l(),P(t.points))},styles:[".card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.hand-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%}.card-image[_ngcontent-%COMP%]{width:auto;height:300px}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.button[_ngcontent-%COMP%]{margin:0 10px;padding:10px 20px;cursor:pointer}.start[_ngcontent-%COMP%]{margin-top:20px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:20px;width:30%;height:auto}"]});let e=a;return e})(),u=function(e){return e.Otra="Otra",e.Fuera="Fuera",e.Nuevo="Nuevo",e}(u||{});export{N as BlackjackComponent};

import{a as _}from"./chunk-56GVRW4M.js";import"./chunk-J6IPJUCK.js";import{Ca as a,Da as v,Qa as C,Sa as u,T as g,Ya as s,Z as f,Za as r,_a as P,ab as c,ba as y,db as l,eb as p,kb as I,w as h,ya as b}from"./chunk-TBGVEFEO.js";var M=(()=>{let n=class n{constructor(){this.http=f(_)}getPaises(){return this.http.get("https://restcountries.com/v3.1/all").pipe(h(e=>e.sort((i,t)=>i.name.common<t.name.common?-1:i.name.common>t.name.common?1:0)))}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"});let o=n;return o})();var j=(()=>{let n=class n{constructor(e){this.service=e,this.paises=[],this.startImage="../../../assets/pregutados.jpg",this.image=this.startImage,this.dataIsLoaded=!1,this.isPlaying=!1,this.points=0,this.opciones=[],this.opcionCorrecta=-1}ngOnInit(){this.toggleMode(this.isPlaying),this.service.getPaises().subscribe(e=>{this.paises=e,this.dataIsLoaded=!0})}play(e){if(this.dataIsLoaded){switch(e){case m.Nuevo:this.isPlaying=!0,this.points=0;break;case m.A:this.opcionCorrecta==0?this.points++:(this.isPlaying=!1,this.image=this.startImage);break;case m.B:this.opcionCorrecta==1?this.points++:(this.isPlaying=!1,this.image=this.startImage);break;case m.C:this.opcionCorrecta==2?this.points++:(this.isPlaying=!1,this.image=this.startImage);break}this.isPlaying&&this.setRound(),this.toggleMode(this.isPlaying),this.image=this.opciones[this.opcionCorrecta].flags.png}}setRound(){let e=[...this.paises];for(let i=0;i<3;i++){let t=Math.floor(Math.random()*e.length);this.opciones[i]=e[t],e.splice(t,1)}this.opcionCorrecta=Math.floor(Math.random()*this.opciones.length)}toggleMode(e){let i=document.getElementById("play-buttons"),t=document.getElementById("start-button");e?(i.style.visibility="visible",t.style.visibility="hidden"):(t.style.visibility="visible",i.style.visibility="hidden")}};n.\u0275fac=function(i){return new(i||n)(v(M))},n.\u0275cmp=y({type:n,selectors:[["app-preguntados"]],standalone:!0,features:[I],decls:18,vars:9,consts:[[1,"card-container","pt-6"],["alt","Imagen",1,"card-image",3,"src"],[1,"title","is-4","pt-6"],["id","play-buttons",1,"button-group"],[1,"button","is-primary",3,"click"],["id","start-button",1,"button","is-link",3,"click"],[1,"box"],[1,"title","is-4"],[1,"title","is-2"]],template:function(i,t){i&1&&(s(0,"div",0),P(1,"img",1),s(2,"h1",2),l(3,"\xBFDe que pais es la bandera?"),r(),s(4,"div",3)(5,"button",4),c("click",function(){return t.play("A")}),l(6),r(),s(7,"button",4),c("click",function(){return t.play("B")}),l(8),r(),s(9,"button",4),c("click",function(){return t.play("C")}),l(10),r()(),s(11,"button",5),c("click",function(){return t.play("Nuevo")}),l(12,"COMENZAR"),r(),s(13,"div",6)(14,"p",7),l(15,"Puntos"),r(),s(16,"p",8),l(17),r()()()),i&2&&(a(),C("src",t.image,b),a(5),p(t.opciones[0].translations.spa.common),a(2),p(t.opciones[1].translations.spa.common),a(2),p(t.opciones[2].translations.spa.common),a(4),u(t.isPlaying?"color : cornflowerblue":"color : red"),a(2),u(t.isPlaying?"color : cornflowerblue":"color : red"),a(),p(t.points))},styles:[".card-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}.card-image[_ngcontent-%COMP%]{width:30%;height:auto}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}.button[_ngcontent-%COMP%]{margin:0 10px;padding:10px 20px;cursor:pointer}.start[_ngcontent-%COMP%]{margin-top:20px}.box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:20px;width:30%;height:auto}"]});let o=n;return o})(),m=function(o){return o.A="A",o.B="B",o.C="C",o.Nuevo="Nuevo",o}(m||{});export{j as PreguntadosComponent};

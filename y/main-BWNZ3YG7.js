var $0=Object.defineProperty,H0=Object.defineProperties;var q0=Object.getOwnPropertyDescriptors;var zy=Object.getOwnPropertySymbols,z0=Object.getPrototypeOf,G0=Object.prototype.hasOwnProperty,W0=Object.prototype.propertyIsEnumerable,K0=Reflect.get;var Gy=(t,e,n)=>e in t?$0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})G0.call(e,n)&&Gy(t,n,e[n]);if(zy)for(var n of zy(e))W0.call(e,n)&&Gy(t,n,e[n]);return t},ee=(t,e)=>H0(t,q0(e));var Sn=(t,e,n)=>K0(z0(t),n,e);var f=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var Wy=null;var rd=1,id=Symbol("SIGNAL");function J(t){let e=Wy;return Wy=t,e}var Ky={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Q0(t){if(!(ad(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===rd)){if(!t.producerMustRecompute(t)&&!sd(t)){t.dirty=!1,t.lastCleanEpoch=rd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=rd}}function Qy(t){return t&&(t.nextProducerIndex=0),J(t)}function Yy(t,e){if(J(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ad(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)od(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sd(t){Aa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Q0(n),r!==n.version))return!0}return!1}function Jy(t){if(Aa(t),ad(t))for(let e=0;e<t.producerNode.length;e++)od(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function od(t,e){if(Y0(t),Aa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)od(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Aa(i),i.producerIndexOfThis[r]=e}}function ad(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Aa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Y0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function J0(){throw new Error}var Z0=J0;function Zy(t){Z0=t}function O(t){return typeof t=="function"}function oi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ma=oi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ar(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof Ma?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Xy(s)}catch(o){e=e??[],o instanceof Ma?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ma(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Xy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ar(n,e)}remove(e){let{_finalizers:n}=this;n&&ar(n,e),e instanceof t&&e._removeParent(this)}};le.EMPTY=(()=>{let t=new le;return t.closed=!0,t})();var cd=le.EMPTY;function Ra(t){return t instanceof le||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function Xy(t){O(t)?t():t.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ai={setTimeout(t,e,...n){let{delegate:r}=ai;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ai;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Na(t){ai.setTimeout(()=>{let{onUnhandledError:e}=At;if(e)e(t);else throw t})}function Rs(){}var ev=ud("C",void 0,void 0);function tv(t){return ud("E",void 0,t)}function nv(t){return ud("N",t,void 0)}function ud(t,e,n){return{kind:t,value:e,error:n}}var cr=null;function ci(t){if(At.useDeprecatedSynchronousErrorHandling){let e=!cr;if(e&&(cr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=cr;if(cr=null,n)throw r}}else t()}function rv(t){At.useDeprecatedSynchronousErrorHandling&&cr&&(cr.errorThrown=!0,cr.error=t)}var ur=class extends le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ra(e)&&e.add(this)):this.destination=tb}static create(e,n,r){return new ui(e,n,r)}next(e){this.isStopped?dd(nv(e),this):this._next(e)}error(e){this.isStopped?dd(tv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?dd(ev,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},X0=Function.prototype.bind;function ld(t,e){return X0.call(t,e)}var hd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xa(r)}else xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xa(n)}}},ui=class extends ur{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&At.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ld(e.next,s),error:e.error&&ld(e.error,s),complete:e.complete&&ld(e.complete,s)}):i=e}this.destination=new hd(i)}};function xa(t){At.useDeprecatedSynchronousErrorHandling?rv(t):Na(t)}function eb(t){throw t}function dd(t,e){let{onStoppedNotification:n}=At;n&&ai.setTimeout(()=>n(t,e))}var tb={closed:!0,next:Rs,error:eb,complete:Rs};var li=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(t){return t}function fd(...t){return pd(t)}function pd(t){return t.length===0?tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var W=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=rb(n)?n:new ui(n,r,i);return ci(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=iv(r),new r((i,s)=>{let o=new ui({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[li](){return this}pipe(...n){return pd(n)(this)}toPromise(n){return n=iv(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function iv(t){var e;return(e=t??At.Promise)!==null&&e!==void 0?e:Promise}function nb(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function rb(t){return t&&t instanceof ur||nb(t)&&Ra(t)}function gd(t){return O(t?.lift)}function K(t){return e=>{if(gd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new md(t,e,n,r,i)}var md=class extends ur{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function di(){return K((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hi=class extends W{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new le;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=le.EMPTY)}return e}refCount(){return di()(this)}};var sv=oi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class t extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new sv}next(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?cd:(this.currentObservers=null,s.push(n),new le(()=>{this.currentObservers=null,ar(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new W;return n.source=this,n}}return t.create=(e,n)=>new Pa(e,n),t})(),Pa=class extends Fe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:cd}};var xe=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var yd={now(){return(yd.delegate||Date).now()},delegate:void 0};var Oa=class extends le{constructor(e,n){super()}schedule(e,n=0){return this}};var Ns={setInterval(t,e,...n){let{delegate:r}=Ns;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ns;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fi=class extends Oa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ns.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ns.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ar(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var pi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};pi.now=yd.now;var gi=class extends pi{constructor(e,n=pi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var vd=new gi(fi);var ka=class extends fi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Fa=class extends gi{};var _d=new Fa(ka);var nt=new W(t=>t.complete());function ov(t){return t&&O(t.schedule)}function av(t){return t[t.length-1]}function La(t){return O(av(t))?t.pop():void 0}function An(t){return ov(av(t))?t.pop():void 0}function Id(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function cv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lr(t){return this instanceof lr?(this.v=t,this):new lr(t)}function lv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(m,_){s.push([h,p,m,_])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof lr?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function dv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cv=="function"?cv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Va=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ua(t){return O(t?.then)}function ja(t){return O(t[li])}function Ba(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function $a(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ib(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ha=ib();function qa(t){return O(t?.[Ha])}function za(t){return lv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield lr(n.read());if(i)return yield lr(void 0);yield yield lr(r)}}finally{n.releaseLock()}})}function Ga(t){return O(t?.getReader)}function ge(t){if(t instanceof W)return t;if(t!=null){if(ja(t))return sb(t);if(Va(t))return ob(t);if(Ua(t))return ab(t);if(Ba(t))return hv(t);if(qa(t))return cb(t);if(Ga(t))return ub(t)}throw $a(t)}function sb(t){return new W(e=>{let n=t[li]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ob(t){return new W(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ab(t){return new W(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Na)})}function cb(t){return new W(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hv(t){return new W(e=>{lb(t,e).catch(n=>e.error(n))})}function ub(t){return hv(za(t))}function lb(t,e){var n,r,i,s;return uv(this,void 0,void 0,function*(){try{for(n=dv(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ke(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Mn(t,e=0){return K((n,r)=>{n.subscribe(B(r,i=>Ke(r,t,()=>r.next(i),e),()=>Ke(r,t,()=>r.complete(),e),i=>Ke(r,t,()=>r.error(i),e)))})}function Rn(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function fv(t,e){return ge(t).pipe(Rn(e),Mn(e))}function pv(t,e){return ge(t).pipe(Rn(e),Mn(e))}function gv(t,e){return new W(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function mv(t,e){return new W(n=>{let r;return Ke(n,e,()=>{r=t[Ha](),Ke(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function Wa(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(n=>{Ke(n,e,()=>{let r=t[Symbol.asyncIterator]();Ke(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function yv(t,e){return Wa(za(t),e)}function vv(t,e){if(t!=null){if(ja(t))return fv(t,e);if(Va(t))return gv(t,e);if(Ua(t))return pv(t,e);if(Ba(t))return Wa(t,e);if(qa(t))return mv(t,e);if(Ga(t))return yv(t,e)}throw $a(t)}function de(t,e){return e?vv(t,e):ge(t)}function k(...t){let e=An(t);return de(t,e)}function mi(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new W(e?i=>e.schedule(r,0,i):r)}function wd(t){return!!t&&(t instanceof W||O(t.lift)&&O(t.subscribe))}var an=oi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $(t,e){return K((n,r)=>{let i=0;n.subscribe(B(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:db}=Array;function hb(t,e){return db(e)?t(...e):t(e)}function Ka(t){return $(e=>hb(t,e))}var{isArray:fb}=Array,{getPrototypeOf:pb,prototype:gb,keys:mb}=Object;function Qa(t){if(t.length===1){let e=t[0];if(fb(e))return{args:e,keys:null};if(yb(e)){let n=mb(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function yb(t){return t&&typeof t=="object"&&pb(t)===gb}function Ya(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ja(...t){let e=An(t),n=La(t),{args:r,keys:i}=Qa(t);if(r.length===0)return de([],e);let s=new W(vb(r,e,i?o=>Ya(i,o):tt));return n?s.pipe(Ka(n)):s}function vb(t,e,n=tt){return r=>{_v(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)_v(e,()=>{let u=de(t[c],e),l=!1;u.subscribe(B(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function _v(t,e,n){t?Ke(n,t,e):e()}function Iv(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=_=>u<r?m(_):c.push(_),m=_=>{s&&e.next(_),u++;let D=!1;ge(n(_,l++)).subscribe(B(e,C=>{i?.(C),s?p(C):e.next(C)},()=>{D=!0},void 0,()=>{if(D)try{for(u--;c.length&&u<r;){let C=c.shift();o?Ke(e,o,()=>m(C)):m(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(B(e,p,()=>{d=!0,h()})),()=>{a?.()}}function we(t,e,n=1/0){return O(e)?we((r,i)=>$((s,o)=>e(r,s,i,o))(ge(t(r,i))),n):(typeof e=="number"&&(n=e),K((r,i)=>Iv(r,i,t,n)))}function Ed(t=1/0){return we(tt,t)}function wv(){return Ed(1)}function yi(...t){return wv()(de(t,An(t)))}function Za(t){return new W(e=>{ge(t()).subscribe(e)})}function Dd(...t){let e=La(t),{args:n,keys:r}=Qa(t),i=new W(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;ge(n[l]).subscribe(B(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Ya(r,a):a),s.complete())}))}});return e?i.pipe(Ka(e)):i}function Mt(t,e){return K((n,r)=>{let i=0;n.subscribe(B(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Nn(t){return K((e,n)=>{let r=null,i=!1,s;r=e.subscribe(B(n,void 0,void 0,o=>{s=ge(t(o,Nn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ev(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(B(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function vi(t,e){return O(e)?we(t,e,1):we(t,1)}function xn(t){return K((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function cn(t){return t<=0?()=>nt:K((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Cd(t){return $(()=>t)}function Xa(t=_b){return K((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function _b(){return new an}function xs(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ut(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,s)=>t(i,s,r)):tt,cn(1),n?xn(e):Xa(()=>new an))}function _i(t){return t<=0?()=>nt:K((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Td(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Mt((i,s)=>t(i,s,r)):tt,_i(1),n?xn(e):Xa(()=>new an))}function bd(t,e){return K(Ev(t,e,arguments.length>=2,!0))}function Sd(...t){let e=An(t);return K((n,r)=>{(e?yi(t,n,e):yi(t,n)).subscribe(r)})}function Rt(t,e){return K((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let u=0,l=s++;ge(t(c,l)).subscribe(i=B(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ad(t){return K((e,n)=>{ge(t).subscribe(B(n,()=>n.complete(),Rs)),!n.closed&&e.subscribe(n)})}function Ee(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(B(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):tt}var r_="https://g.co/ng/security#xss",A=class extends Error{constructor(e,n){super(Sh(e,n)),this.code=e}};function Sh(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function zs(t){return{toString:t}.toString()}var ec="__parameters__";function Ib(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function wb(t,e,n){return zs(()=>{let r=Ib(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(ec)?c[ec]:Object.defineProperty(c,ec,{value:[]})[ec];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var un=globalThis;function re(t){for(let e in t)if(t[e]===re)return e;throw Error("Could not find renamed property on target object.")}function Eb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Qe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Dv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Db=re({__forward_ref__:re});function Gs(t){return t.__forward_ref__=Gs,t.toString=function(){return Qe(this())},t}function He(t){return i_(t)?t():t}function i_(t){return typeof t=="function"&&t.hasOwnProperty(Db)&&t.__forward_ref__===Gs}function P(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rc(t){return Cv(t,o_)||Cv(t,a_)}function s_(t){return Rc(t)!==null}function Cv(t,e){return t.hasOwnProperty(e)?t[e]:null}function Cb(t){let e=t&&(t[o_]||t[a_]);return e||null}function Tv(t){return t&&(t.hasOwnProperty(bv)||t.hasOwnProperty(Tb))?t[bv]:null}var o_=re({\u0275prov:re}),bv=re({\u0275inj:re}),a_=re({ngInjectableDef:re}),Tb=re({ngInjectorDef:re}),N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function c_(t){return t&&!!t.\u0275providers}var bb=re({\u0275cmp:re}),Sb=re({\u0275dir:re}),Ab=re({\u0275pipe:re}),Mb=re({\u0275mod:re}),lc=re({\u0275fac:re}),Ps=re({__NG_ELEMENT_ID__:re}),Sv=re({__NG_ENV_ID__:re});function Nc(t){return typeof t=="string"?t:t==null?"":String(t)}function Rb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nc(t)}function Nb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new A(-200,t)}function Ah(t,e){throw new A(-201,!1)}var L=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(L||{}),qd;function u_(){return qd}function mt(t){let e=qd;return qd=t,e}function l_(t,e,n){let r=Rc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&L.Optional)return null;if(e!==void 0)return e;Ah(t,"Injector")}var xb={},Os=xb,zd="__NG_DI_FLAG__",dc="ngTempTokenPath",Pb="ngTokenPath",Ob=/\n/gm,kb="\u0275",Av="__source",Di;function Fb(){return Di}function Pn(t){let e=Di;return Di=t,e}function Lb(t,e=L.Default){if(Di===void 0)throw new A(-203,!1);return Di===null?l_(t,void 0,e):Di.get(t,e&L.Optional?null:void 0,e)}function V(t,e=L.Default){return(u_()||Lb)(He(t),e)}function w(t,e=L.Default){return V(t,xc(e))}function xc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Gd(t){let e=[];for(let n=0;n<t.length;n++){let r=He(t[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,s=L.Default;for(let o=0;o<r.length;o++){let a=r[o],c=Ub(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(V(i,s))}else e.push(V(r))}return e}function Vb(t,e){return t[zd]=e,t.prototype[zd]=e,t}function Ub(t){return t[zd]}function jb(t,e,n,r){let i=t[dc];throw e[Av]&&i.unshift(e[Av]),t.message=Bb(`
`+t.message,i,n,r),t[Pb]=i,t[dc]=null,t}function Bb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==kb?t.slice(2):t;let i=Qe(e);if(Array.isArray(e))i=e.map(Qe).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Qe(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ob,`
  `)}`}var Ye=Vb(wb("Optional"),8);function Ti(t,e){let n=t.hasOwnProperty(lc);return n?t[lc]:null}function Mh(t,e){t.forEach(n=>Array.isArray(n)?Mh(n,e):e(n))}function d_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $b(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Hb(t,e,n){let r=Ws(t,e);return r>=0?t[r|1]=n:(r=~r,$b(t,r,e,n)),r}function Md(t,e){let n=Ws(t,e);if(n>=0)return t[n|1]}function Ws(t,e){return qb(t,e,1)}function qb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var bi={},yt=[],Si=new N(""),h_=new N("",-1),f_=new N(""),fc=class{get(e,n=Os){if(n===Os){let r=new Error(`NullInjectorError: No provider for ${Qe(e)}!`);throw r.name="NullInjectorError",r}return n}},p_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(p_||{}),$t=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($t||{}),ze=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ze||{});function zb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Wd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Gb(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function g_(t){return t===3||t===4||t===6}function Gb(t){return t.charCodeAt(0)===64}function ks(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Mv(t,n,i,null,e[++r]):Mv(t,n,i,null,null))}}return t}function Mv(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var m_="ng-template";function Wb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&zb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Rh(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Rh(t){return t.type===4&&t.value!==m_}function Kb(t,e,n){let r=t.type===4&&!n?m_:t.value;return e===r}function Qb(t,e,n){let r=4,i=t.attrs,s=i!==null?Zb(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Nt(r)&&!Nt(c))return!1;if(o&&Nt(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Kb(t,c,n)||c===""&&e.length===1){if(Nt(r))return!1;o=!0}}else if(r&8){if(i===null||!Wb(t,i,c,n)){if(Nt(r))return!1;o=!0}}else{let u=e[++a],l=Yb(c,i,Rh(t),n);if(l===-1){if(Nt(r))return!1;o=!0;continue}if(u!==""){let d;if(l>s?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(Nt(r))return!1;o=!0}}}}return Nt(r)||o}function Nt(t){return(t&1)===0}function Yb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Xb(e,t)}function Jb(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qb(t,e[r],n))return!0;return!1}function Zb(t){for(let e=0;e<t.length;e++){let n=t[e];if(g_(n))return e}return t.length}function Xb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Rv(t,e){return t?":not("+e.trim()+")":e}function eS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Nt(o)&&(e+=Rv(s,i),i=""),r=o,s=s||!Nt(r);n++}return i!==""&&(e+=Rv(s,i)),e}function tS(t){return t.map(eS).join(",")}function nS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Nt(i))break;i=s}r++}return{attrs:e,classes:n}}function Je(t){return zs(()=>{let e=w_(t),n=ee(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===p_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$t.Emulated,styles:t.styles||yt,_:null,schemas:t.schemas||null,tView:null,id:""});E_(n);let r=t.dependencies;return n.directiveDefs=xv(r,!1),n.pipeDefs=xv(r,!0),n.id=sS(n),n})}function rS(t){return fr(t)||y_(t)}function iS(t){return t!==null}function It(t){return zs(()=>({type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Nv(t,e){if(t==null)return bi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ze.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ze.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Gt(t){return zs(()=>{let e=w_(t);return E_(e),e})}function fr(t){return t[bb]||null}function y_(t){return t[Sb]||null}function v_(t){return t[Ab]||null}function __(t){let e=fr(t)||y_(t)||v_(t);return e!==null?e.standalone:!1}function I_(t,e){let n=t[Mb]||null;if(!n&&e===!0)throw new Error(`Type ${Qe(t)} does not have '\u0275mod' property.`);return n}function w_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||bi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Nv(t.inputs,e),outputs:Nv(t.outputs),debugInfo:null}}function E_(t){t.features?.forEach(e=>e(t))}function xv(t,e){if(!t)return null;let n=e?v_:rS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(iS)}function sS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Pc(t){return{\u0275providers:t}}function Ks(...t){return{\u0275providers:D_(!0,t),\u0275fromNgModule:!0}}function D_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Mh(e,o=>{let a=o;Kd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&C_(i,s),n}function C_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Nh(i,s=>{e(s,r)})}}function Kd(t,e,n,r){if(t=He(t),!t)return!1;let i=null,s=Tv(t),o=!s&&fr(t);if(!s&&!o){let c=t.ngModule;if(s=Tv(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Kd(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Mh(s.imports,l=>{Kd(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&C_(u,e)}if(!a){let u=Ti(i)||(()=>new i);e({provide:i,useFactory:u,deps:yt},i),e({provide:f_,useValue:i,multi:!0},i),e({provide:Si,useValue:()=>V(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Nh(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Nh(t,e){for(let n of t)c_(n)&&(n=n.\u0275providers),Array.isArray(n)?Nh(n,e):e(n)}var oS=re({provide:String,useValue:re});function T_(t){return t!==null&&typeof t=="object"&&oS in t}function aS(t){return!!(t&&t.useExisting)}function cS(t){return!!(t&&t.useFactory)}function Ai(t){return typeof t=="function"}function uS(t){return!!t.useClass}var Oc=new N(""),sc={},lS={},Rd;function xh(){return Rd===void 0&&(Rd=new fc),Rd}var vt=class{},Fs=class extends vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yd(e,o=>this.processProvider(o)),this.records.set(h_,Ii(void 0,this)),i.has("environment")&&this.records.set(vt,Ii(void 0,this));let s=this.records.get(Oc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(f_,yt,L.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=J(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),J(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Pn(this),r=mt(void 0),i;try{return e()}finally{Pn(n),mt(r)}}get(e,n=Os,r=L.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Sv))return e[Sv](this);r=xc(r);let i,s=Pn(this),o=mt(void 0);try{if(!(r&L.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=gS(e)&&Rc(e);u&&this.injectableDefInScope(u)?c=Ii(Qd(e),sc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&L.Self?xh():this.parent;return n=r&L.Optional&&n===Os?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[dc]=a[dc]||[]).unshift(Qe(e)),s)throw a;return jb(a,e,"R3InjectorError",this.source)}else throw a}finally{mt(o),Pn(s)}}resolveInjectorInitializers(){let e=J(null),n=Pn(this),r=mt(void 0),i;try{let s=this.get(Si,yt,L.Self);for(let o of s)o()}finally{Pn(n),mt(r),J(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new A(205,!1)}processProvider(e){e=He(e);let n=Ai(e)?e:He(e&&e.provide),r=hS(e);if(!Ai(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ii(void 0,sc,!0),i.factory=()=>Gd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=J(null);try{return n.value===sc&&(n.value=lS,n.value=n.factory()),typeof n.value=="object"&&n.value&&pS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{J(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=He(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qd(t){let e=Rc(t),n=e!==null?e.factory:Ti(t);if(n!==null)return n;if(t instanceof N)throw new A(204,!1);if(t instanceof Function)return dS(t);throw new A(204,!1)}function dS(t){if(t.length>0)throw new A(204,!1);let n=Cb(t);return n!==null?()=>n.factory(t):()=>new t}function hS(t){if(T_(t))return Ii(void 0,t.useValue);{let e=b_(t);return Ii(e,sc)}}function b_(t,e,n){let r;if(Ai(t)){let i=He(t);return Ti(i)||Qd(i)}else if(T_(t))r=()=>He(t.useValue);else if(cS(t))r=()=>t.useFactory(...Gd(t.deps||[]));else if(aS(t))r=()=>V(He(t.useExisting));else{let i=He(t&&(t.useClass||t.provide));if(fS(t))r=()=>new i(...Gd(t.deps));else return Ti(i)||Qd(i)}return r}function Ii(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fS(t){return!!t.deps}function pS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function gS(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function Yd(t,e){for(let n of t)Array.isArray(n)?Yd(n,e):n&&c_(n)?Yd(n.\u0275providers,e):e(n)}function Ir(t,e){t instanceof Fs&&t.assertNotDestroyed();let n,r=Pn(t),i=mt(void 0);try{return e()}finally{Pn(r),mt(i)}}function mS(){return u_()!==void 0||Fb()!=null}function yS(t){return typeof t=="function"}var fn=0,j=1,R=2,Le=3,xt=4,kt=5,pc=6,Ls=7,Pt=8,Mi=9,Ot=10,De=11,Vs=12,Pv=13,Oi=14,Ht=15,kc=16,wi=17,Ri=18,Fc=19,S_=20,On=21,Nd=22,pr=23,qt=25,A_=1;var gr=7,gc=8,mc=9,rt=10,Ph=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ph||{});function dr(t){return Array.isArray(t)&&typeof t[A_]=="object"}function pn(t){return Array.isArray(t)&&t[A_]===!0}function M_(t){return(t.flags&4)!==0}function Lc(t){return t.componentOffset>-1}function Oh(t){return(t.flags&1)===1}function kn(t){return!!t.template}function vS(t){return(t[R]&512)!==0}var Jd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function R_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function wr(){return N_}function N_(t){return t.type.prototype.ngOnChanges&&(t.setInput=IS),_S}wr.ngInherit=!0;function _S(){let t=P_(this),e=t?.current;if(e){let n=t.previous;if(n===bi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function IS(t,e,n,r,i){let s=this.declaredInputs[r],o=P_(t)||wS(t,{previous:bi,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Jd(u&&u.currentValue,n,c===bi),R_(t,e,i,n)}var x_="__ngSimpleChanges__";function P_(t){return t[x_]||null}function wS(t,e){return t[x_]=e}var Ov=null;var jt=function(t,e,n){Ov?.(t,e,n)},ES="svg",DS="math",CS=!1;function TS(){return CS}function zt(t){for(;Array.isArray(t);)t=t[fn];return t}function O_(t,e){return zt(e[t])}function wt(t,e){return zt(e[t.index])}function kh(t,e){return t.data[e]}function Ln(t,e){let n=e[t];return dr(n)?n:n[fn]}function Fh(t){return(t[R]&128)===128}function bS(t){return pn(t[Le])}function yc(t,e){return e==null?null:t[e]}function k_(t){t[wi]=0}function SS(t){t[R]&1024||(t[R]|=1024,Fh(t)&&Us(t))}function AS(t,e){for(;t>0;)e=e[Oi],t--;return e}function Lh(t){return!!(t[R]&9216||t[pr]?.dirty)}function Zd(t){t[Ot].changeDetectionScheduler?.notify(1),Lh(t)?Us(t):t[R]&64&&(TS()?(t[R]|=1024,Us(t)):t[Ot].changeDetectionScheduler?.notify())}function Us(t){t[Ot].changeDetectionScheduler?.notify();let e=js(t);for(;e!==null&&!(e[R]&8192||(e[R]|=8192,!Fh(e)));)e=js(e)}function F_(t,e){if((t[R]&256)===256)throw new A(911,!1);t[On]===null&&(t[On]=[]),t[On].push(e)}function MS(t,e){if(t[On]===null)return;let n=t[On].indexOf(e);n!==-1&&t[On].splice(n,1)}function js(t){let e=t[Le];return pn(e)?e[Le]:e}var z={lFrame:H_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function RS(){return z.lFrame.elementDepthCount}function NS(){z.lFrame.elementDepthCount++}function xS(){z.lFrame.elementDepthCount--}function L_(){return z.bindingsEnabled}function PS(){return z.skipHydrationRootTNode!==null}function OS(t){return z.skipHydrationRootTNode===t}function kS(){z.skipHydrationRootTNode=null}function oe(){return z.lFrame.lView}function it(){return z.lFrame.tView}function st(){let t=V_();for(;t!==null&&t.type===64;)t=t.parent;return t}function V_(){return z.lFrame.currentTNode}function FS(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qs(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function U_(){return z.lFrame.isParent}function LS(){z.lFrame.isParent=!1}function VS(){let t=z.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function US(t){return z.lFrame.bindingIndex=t}function Ys(){return z.lFrame.bindingIndex++}function jS(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BS(){return z.lFrame.inI18n}function $S(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xd(e)}function HS(){return z.lFrame.currentDirectiveIndex}function Xd(t){z.lFrame.currentDirectiveIndex=t}function qS(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function j_(t){z.lFrame.currentQueryIndex=t}function zS(t){let e=t[j];return e.type===2?e.declTNode:e.type===1?t[kt]:null}function B_(t,e,n){if(n&L.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&L.Host);)if(i=zS(s),i===null||(s=s[Oi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=z.lFrame=$_();return r.currentTNode=e,r.lView=t,!0}function Vh(t){let e=$_(),n=t[j];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $_(){let t=z.lFrame,e=t===null?null:t.child;return e===null?H_(t):e}function H_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function q_(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var z_=q_;function Uh(){let t=q_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function GS(t){return(z.lFrame.contextLView=AS(t,z.lFrame.contextLView))[Pt]}function ki(){return z.lFrame.selectedIndex}function mr(t){z.lFrame.selectedIndex=t}function jh(){let t=z.lFrame;return kh(t.tView,t.selectedIndex)}function WS(){return z.lFrame.currentNamespace}var G_=!0;function Bh(){return G_}function $h(t){G_=t}function KS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=N_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Hh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function oc(t,e,n){W_(t,e,3,n)}function ac(t,e,n,r){(t[R]&3)===n&&W_(t,e,n,r)}function xd(t,e){let n=t[R];(n&3)===e&&(n&=16383,n+=1,t[R]=n)}function W_(t,e,n,r){let i=r!==void 0?t[wi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wi]+=65536),(a<s||s==-1)&&(QS(t,n,e,c),t[wi]=(t[wi]&4294901760)+c+2),c++}function kv(t,e){jt(4,t,e);let n=J(null);try{e.call(t)}finally{J(n),jt(5,t,e)}}function QS(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[R]>>14<t[wi]>>16&&(t[R]&3)===e&&(t[R]+=16384,kv(a,s)):kv(a,s)}var Ci=-1,yr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function YS(t){return t instanceof yr}function JS(t){return(t.flags&8)!==0}function ZS(t){return(t.flags&16)!==0}function K_(t){return t!==Ci}function vc(t){return t&32767}function XS(t){return t>>16}function _c(t,e){let n=XS(t),r=e;for(;n>0;)r=r[Oi],n--;return r}var eh=!0;function Fv(t){let e=eh;return eh=t,e}var eA=256,Q_=eA-1,Y_=5,tA=0,Bt={};function nA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ps)&&(r=n[Ps]),r==null&&(r=n[Ps]=tA++);let i=r&Q_,s=1<<i;e.data[t+(i>>Y_)]|=s}function Ic(t,e){let n=J_(t,e);if(n!==-1)return n;let r=e[j];r.firstCreatePass&&(t.injectorIndex=e.length,Pd(r.data,t),Pd(e,null),Pd(r.blueprint,null));let i=qh(t,e),s=t.injectorIndex;if(K_(i)){let o=vc(i),a=_c(i,e),c=a[j].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Pd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function J_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=nI(i),r===null)return Ci;if(n++,i=i[Oi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ci}function th(t,e,n){nA(t,e,n)}function rA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(g_(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Z_(t,e,n){if(n&L.Optional||t!==void 0)return t;Ah(e,"NodeInjector")}function X_(t,e,n,r){if(n&L.Optional&&r===void 0&&(r=null),!(n&(L.Self|L.Host))){let i=t[Mi],s=mt(void 0);try{return i?i.get(e,r,n&L.Optional):l_(e,r,n&L.Optional)}finally{mt(s)}}return Z_(r,e,n)}function eI(t,e,n,r=L.Default,i){if(t!==null){if(e[R]&2048&&!(r&L.Self)){let o=cA(t,e,n,r,Bt);if(o!==Bt)return o}let s=tI(t,e,n,r,Bt);if(s!==Bt)return s}return X_(e,n,r,i)}function tI(t,e,n,r,i){let s=oA(n);if(typeof s=="function"){if(!B_(e,t,r))return r&L.Host?Z_(i,n,r):X_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&L.Optional))Ah(n);else return o}finally{z_()}}else if(typeof s=="number"){let o=null,a=J_(t,e),c=Ci,u=r&L.Host?e[Ht][kt]:null;for((a===-1||r&L.SkipSelf)&&(c=a===-1?qh(t,e):e[a+8],c===Ci||!Vv(r,!1)?a=-1:(o=e[j],a=vc(c),e=_c(c,e)));a!==-1;){let l=e[j];if(Lv(s,a,l.data)){let d=iA(a,e,n,o,r,u);if(d!==Bt)return d}c=e[a+8],c!==Ci&&Vv(r,e[j].data[a+8]===u)&&Lv(s,a,e)?(o=l,a=vc(c),e=_c(c,e)):a=-1}}return i}function iA(t,e,n,r,i,s){let o=e[j],a=o.data[t+8],c=r==null?Lc(a)&&eh:r!=o&&(a.type&3)!==0,u=i&L.Host&&s===a,l=sA(a,o,n,c,u);return l!==null?Ni(e,o,l,a):Bt}function sA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let m=o[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=o[c];if(p&&kn(p)&&p.type===n)return c}return null}function Ni(t,e,n,r){let i=t[n],s=e.data;if(YS(i)){let o=i;o.resolving&&Nb(Rb(s[n]));let a=Fv(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?mt(o.injectImpl):null,l=B_(t,r,L.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&KS(n,s[n],e)}finally{u!==null&&mt(u),Fv(a),o.resolving=!1,z_()}}return i}function oA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ps)?t[Ps]:void 0;return typeof e=="number"?e>=0?e&Q_:aA:e}function Lv(t,e,n){let r=1<<t;return!!(n[e+(t>>Y_)]&r)}function Vv(t,e){return!(t&L.Self)&&!(t&L.Host&&e)}var hr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return eI(this._tNode,this._lView,e,xc(r),n)}};function aA(){return new hr(st(),oe())}function Js(t){return zs(()=>{let e=t.prototype.constructor,n=e[lc]||nh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[lc]||nh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function nh(t){return i_(t)?()=>{let e=nh(He(t));return e&&e()}:Ti(t)}function cA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[R]&2048&&!(o[R]&512);){let a=tI(s,o,n,r|L.Self,Bt);if(a!==Bt)return a;let c=s.parent;if(!c){let u=o[S_];if(u){let l=u.get(n,Bt,r);if(l!==Bt)return l}c=nI(o),o=o[Oi]}s=c}return i}function nI(t){let e=t[j],n=e.type;return n===2?e.declTNode:n===1?t[kt]:null}function zh(t){return rA(st(),t)}function Uv(t,e=null,n=null,r){let i=rI(t,e,n,r);return i.resolveInjectorInitializers(),i}function rI(t,e=null,n=null,r,i=new Set){let s=[n||yt,Ks(t)];return r=r||(typeof t=="object"?void 0:Qe(t)),new Fs(s,e||xh(),r||null,i)}var Et=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Uv({name:""},i,r,"");{let s=r.name??"";return Uv({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Os,e.NULL=new fc,e.\u0275prov=P({token:e,providedIn:"any",factory:()=>V(h_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var uA="ngOriginalError";function Od(t){return t[uA]}var ln=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Od(e);for(;n&&Od(n);)n=Od(n);return n||null}},iI=new N("",{providedIn:"root",factory:()=>w(ln).handleError.bind(void 0)}),sI=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lA,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),rh=class extends sI{constructor(e){super(),this._lView=e}onDestroy(e){return F_(this._lView,e),()=>MS(this._lView,e)}};function lA(){return new rh(oe())}function dA(){return Gh(st(),oe())}function Gh(t,e){return new Vn(wt(t,e))}var Vn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=dA;let t=e;return t})();var ih=class extends Fe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,mS()&&(this.destroyRef=w(sI,{optional:!0})??void 0)}emit(e){let n=J(null);try{super.next(e)}finally{J(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=kd(s),i&&(i=kd(i)),o&&(o=kd(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof le&&e.add(a),a}};function kd(t){return e=>{setTimeout(t,void 0,e)}}var qe=ih;function oI(t){return(t.flags&128)===128}var aI=new Map,hA=0;function fA(){return hA++}function pA(t){aI.set(t[Fc],t)}function gA(t){aI.delete(t[Fc])}var jv="__ngContext__";function vr(t,e){dr(e)?(t[jv]=e[Fc],pA(e)):t[jv]=e}function cI(t){return lI(t[Vs])}function uI(t){return lI(t[xt])}function lI(t){for(;t!==null&&!pn(t);)t=t[xt];return t}var sh;function dI(t){sh=t}function mA(){if(sh!==void 0)return sh;if(typeof document<"u")return document;throw new A(210,!1)}var Wh=new N("",{providedIn:"root",factory:()=>yA}),yA="ng",Kh=new N(""),Un=new N("",{providedIn:"platform",factory:()=>"unknown"});var Qh=new N("",{providedIn:"root",factory:()=>mA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vA="h",_A="b";var IA=()=>null;function Yh(t,e,n=!1){return IA(t,e,n)}var hI=!1,wA=new N("",{providedIn:"root",factory:()=>hI});var tc;function EA(){if(tc===void 0&&(tc=null,un.trustedTypes))try{tc=un.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tc}function DA(t){return EA()?.createScriptURL(t)||t}var nc;function CA(){if(nc===void 0&&(nc=null,un.trustedTypes))try{nc=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return nc}function Bv(t){return CA()?.createScriptURL(t)||t}var wc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${r_})`}};function Zs(t){return t instanceof wc?t.changingThisBreaksApplicationSecurity:t}function Jh(t,e){let n=TA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${r_})`)}return n===e}function TA(t){return t instanceof wc&&t.getTypeName()||null}var bA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fI(t){return t=String(t),t.match(bA)?t:"unsafe:"+t}var Vc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Vc||{});function SA(t){let e=gI();return e?e.sanitize(Vc.URL,t)||"":Jh(t,"URL")?Zs(t):fI(Nc(t))}function AA(t){let e=gI();if(e)return Bv(e.sanitize(Vc.RESOURCE_URL,t)||"");if(Jh(t,"ResourceURL"))return Bv(Zs(t));throw new A(904,!1)}function Uc(t){return DA(t[0])}function MA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?AA:SA}function pI(t,e,n){return MA(e,n)(t)}function gI(){let t=oe();return t&&t[Ot].sanitizer}function mI(t){return t instanceof Function?t():t}var dn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(dn||{}),RA;function Zh(t,e){return RA(t,e)}function Ei(t,e,n,r,i){if(r!=null){let s,o=!1;pn(r)?s=r:dr(r)&&(o=!0,r=r[fn]);let a=zt(r);t===0&&n!==null?i==null?II(e,n,a):Dc(e,n,a,i||null,!0):t===1&&n!==null?Dc(e,n,a,i||null,!0):t===2?WA(e,a,o):t===3&&e.destroyNode(a),s!=null&&QA(e,t,s,n,i)}}function NA(t,e){return t.createText(e)}function xA(t,e,n){t.setValue(e,n)}function yI(t,e,n){return t.createElement(e,n)}function PA(t,e){vI(t,e),e[fn]=null,e[kt]=null}function OA(t,e,n,r,i,s){r[fn]=i,r[kt]=e,jc(t,r,n,1,i,s)}function vI(t,e){e[Ot].changeDetectionScheduler?.notify(1),jc(t,e,e[De],2,null,null)}function kA(t){let e=t[Vs];if(!e)return Fd(t[j],t);for(;e;){let n=null;if(dr(e))n=e[Vs];else{let r=e[rt];r&&(n=r)}if(!n){for(;e&&!e[xt]&&e!==t;)dr(e)&&Fd(e[j],e),e=e[Le];e===null&&(e=t),dr(e)&&Fd(e[j],e),n=e&&e[xt]}e=n}}function FA(t,e,n,r){let i=rt+r,s=n.length;r>0&&(n[i-1][xt]=e),r<s-rt?(e[xt]=n[i],d_(n,rt+r,e)):(n.push(e),e[xt]=null),e[Le]=n;let o=e[kc];o!==null&&n!==o&&LA(o,e);let a=e[Ri];a!==null&&a.insertView(t),Zd(e),e[R]|=128}function LA(t,e){let n=t[mc],i=e[Le][Le][Ht];e[Ht]!==i&&(t[R]|=Ph.HasTransplantedViews),n===null?t[mc]=[e]:n.push(e)}function _I(t,e){let n=t[mc],r=n.indexOf(e);n.splice(r,1)}function Ec(t,e){if(t.length<=rt)return;let n=rt+e,r=t[n];if(r){let i=r[kc];i!==null&&i!==t&&_I(i,r),e>0&&(t[n-1][xt]=r[xt]);let s=hc(t,rt+e);PA(r[j],r);let o=s[Ri];o!==null&&o.detachView(s[j]),r[Le]=null,r[xt]=null,r[R]&=-129}return r}function Xh(t,e){if(!(e[R]&256)){let n=e[De];n.destroyNode&&jc(t,e,n,3,null,null),kA(e)}}function Fd(t,e){if(e[R]&256)return;let n=J(null);try{e[R]&=-129,e[R]|=256,e[pr]&&Jy(e[pr]),UA(t,e),VA(t,e),e[j].type===1&&e[De].destroy();let r=e[kc];if(r!==null&&pn(e[Le])){r!==e[Le]&&_I(r,e);let i=e[Ri];i!==null&&i.detachView(t)}gA(e)}finally{J(n)}}function VA(t,e){let n=t.cleanup,r=e[Ls];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ls]=null);let i=e[On];if(i!==null){e[On]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function UA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof yr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];jt(4,a,c);try{c.call(a)}finally{jt(5,a,c)}}else{jt(4,i,s);try{s.call(i)}finally{jt(5,i,s)}}}}}function jA(t,e,n){return BA(t,e.parent,n)}function BA(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[fn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===$t.None||s===$t.Emulated)return null}return wt(r,n)}}function Dc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function II(t,e,n){t.appendChild(e,n)}function $v(t,e,n,r,i){r!==null?Dc(t,e,n,r,i):II(t,e,n)}function $A(t,e,n,r){t.removeChild(e,n,r)}function ef(t,e){return t.parentNode(e)}function HA(t,e){return t.nextSibling(e)}function qA(t,e,n){return GA(t,e,n)}function zA(t,e,n){return t.type&40?wt(t,n):null}var GA=zA,Hv;function tf(t,e,n,r){let i=jA(t,r,e),s=e[De],o=r.parent||e[kt],a=qA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$v(s,i,n[c],a,!1);else $v(s,i,n,a,!1);Hv!==void 0&&Hv(s,r,e,n,i)}function cc(t,e){if(e!==null){let n=e.type;if(n&3)return wt(e,t);if(n&4)return oh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cc(t,r);{let i=t[e.index];return pn(i)?oh(-1,i):zt(i)}}else{if(n&32)return Zh(e,t)()||zt(t[e.index]);{let r=wI(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=js(t[Ht]);return cc(i,r)}else return cc(t,e.next)}}}return null}function wI(t,e){if(e!==null){let r=t[Ht][kt],i=e.projection;return r.projection[i]}return null}function oh(t,e){let n=rt+t+1;if(n<e.length){let r=e[n],i=r[j].firstChild;if(i!==null)return cc(r,i)}return e[gr]}function WA(t,e,n){let r=ef(t,e);r&&$A(t,r,e,n)}function nf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&vr(zt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)nf(t,e,n.child,r,i,s,!1),Ei(e,t,i,a,s);else if(c&32){let u=Zh(n,r),l;for(;l=u();)Ei(e,t,i,l,s);Ei(e,t,i,a,s)}else c&16?KA(t,e,r,n,i,s):Ei(e,t,i,a,s);n=o?n.projectionNext:n.next}}function jc(t,e,n,r,i,s){nf(n,r,t.firstChild,e,i,s,!1)}function KA(t,e,n,r,i,s){let o=n[Ht],c=o[kt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Ei(e,t,i,l,s)}else{let u=c,l=o[Le];oI(r)&&(u.flags|=128),nf(t,e,u,l,i,s,!0)}}function QA(t,e,n,r,i){let s=n[gr],o=zt(n);s!==o&&Ei(e,t,r,s,i);for(let a=rt;a<n.length;a++){let c=n[a];jc(c[j],c,t,e,r,s)}}function YA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:dn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=dn.Important),t.setStyle(n,r,i,s))}}function JA(t,e,n){t.setAttribute(e,"style",n)}function EI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function DI(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Wd(t,e,r),i!==null&&EI(t,e,i),s!==null&&JA(t,e,s)}var Er={};function ot(t=1){CI(it(),oe(),ki()+t,!1)}function CI(t,e,n,r){if(!r)if((e[R]&3)===3){let s=t.preOrderCheckHooks;s!==null&&oc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&ac(e,s,0,n)}mr(n)}function G(t,e=L.Default){let n=oe();if(n===null)return V(t,e);let r=st();return eI(r,n,He(t),e)}function TI(t,e,n,r,i,s){let o=J(null);try{let a=null;i&ze.SignalBased&&(a=e[r][id]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ze.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):R_(e,a,r,s)}finally{J(o)}}function ZA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mr(~i);else{let s=i,o=n[++r],a=n[++r];$S(o,s);let c=e[s];a(2,c)}}}finally{mr(-1)}}function Bc(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[fn]=i,d[R]=r|4|128|8|64,(u!==null||t&&t[R]&2048)&&(d[R]|=2048),k_(d),d[Le]=d[Oi]=t,d[Pt]=n,d[Ot]=o||t&&t[Ot],d[De]=a||t&&t[De],d[Mi]=c||t&&t[Mi]||null,d[kt]=s,d[Fc]=fA(),d[pc]=l,d[S_]=u,d[Ht]=e.type==2?t[Ht]:d,d}function $c(t,e,n,r,i){let s=t.data[e];if(s===null)s=XA(t,e,n,r,i),BS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=FS();s.injectorIndex=o===null?-1:o.injectorIndex}return Qs(s,!0),s}function XA(t,e,n,r,i){let s=V_(),o=U_(),a=o?s:s&&s.parent,c=t.data[e]=iM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function bI(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function SI(t,e,n,r,i){let s=ki(),o=r&2;try{mr(-1),o&&e.length>qt&&CI(t,e,qt,!1),jt(o?2:0,i),n(r,i)}finally{mr(s),jt(o?3:1,i)}}function AI(t,e,n){if(M_(e)){let r=J(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{J(r)}}}function MI(t,e,n){L_()&&(lM(t,e,n,wt(n,e)),(n.flags&64)===64&&kI(t,e,n))}function RI(t,e,n=wt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function NI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function rf(t,e,n,r,i,s,o,a,c,u,l){let d=qt+r,h=d+i,p=eM(d,h),m=typeof u=="function"?u():u;return p[j]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}function eM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Er);return n}function tM(t,e,n,r){let s=r.get(wA,hI)||n===$t.ShadowDom,o=t.selectRootElement(e,s);return nM(o),o}function nM(t){rM(t)}var rM=()=>null;function iM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return PS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qv(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ze.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?zv(r,n,u,a,c):zv(r,n,u,a)}return r}function zv(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function sM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,m=h?h.outputs:null;c=qv(0,d.inputs,l,c,p),u=qv(1,d.outputs,l,u,m);let _=c!==null&&o!==null&&!Rh(e)?wM(c,l,o):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function oM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function xI(t,e,n,r,i,s,o,a){let c=wt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(sf(t,n,l,r,i),Lc(e)&&aM(n,e.index)):e.type&3?(r=oM(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function aM(t,e){let n=Ln(e,t);n[R]&16||(n[R]|=64)}function PI(t,e,n,r){if(L_()){let i=r===null?null:{"":-1},s=hM(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&OI(t,e,n,o,i,a),i&&fM(n,r,i)}n.mergedAttrs=ks(n.mergedAttrs,n.attrs)}function OI(t,e,n,r,i,s){for(let u=0;u<r.length;u++)th(Ic(n,e),t,r[u].type);gM(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=bI(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=ks(n.mergedAttrs,l.hostAttrs),mM(t,n,e,c,l),pM(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}sM(t,n,s)}function cM(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;uM(o)!=a&&o.push(a),o.push(n,r,s)}}function uM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function lM(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Lc(n)&&yM(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ic(n,e),vr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Ni(e,t,a,n);if(vr(u,e),o!==null&&IM(e,a-i,u,c,n,o),kn(c)){let l=Ln(n.index,e);l[Pt]=Ni(e,t,a,n)}}}function kI(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=HS();try{mr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Xd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&dM(c,u)}}finally{mr(-1),Xd(o)}}function dM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hM(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Jb(e,o.selectors,!1))if(r||(r=[]),kn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;ah(t,e,c)}else r.unshift(o),ah(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function ah(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function fM(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new A(-301,!1);r.push(e[i],s)}}}function pM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kn(e)&&(n[""]=t)}}function gM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function mM(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ti(i.type,!0)),o=new yr(s,kn(i),G);t.blueprint[r]=o,n[r]=o,cM(t,e,r,bI(t,n,i.hostVars,Er),i)}function yM(t,e,n){let r=wt(e,t),i=NI(n),s=t[Ot].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Hc(t,Bc(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function vM(t,e,n,r,i,s){let o=wt(t,e);_M(e[De],o,s,t.value,n,r,i)}function _M(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Nc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function IM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];TI(r,n,c,u,l,d)}}function wM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function FI(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function LI(t,e){let n=t.contentQueries;if(n!==null){let r=J(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];j_(s),a.contentQueries(2,e[o],o)}}}finally{J(r)}}}function Hc(t,e){return t[Vs]?t[Pv][xt]=e:t[Vs]=e,t[Pv]=e,e}function ch(t,e,n){j_(0);let r=J(null);try{e(t,n)}finally{J(r)}}function EM(t){return t[Ls]||(t[Ls]=[])}function DM(t){return t.cleanup||(t.cleanup=[])}function VI(t,e){let n=t[Mi],r=n?n.get(ln,null):null;r&&r.handleError(e)}function sf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];TI(l,u,r,a,c,i)}}function CM(t,e,n){let r=O_(e,t);xA(t[De],r,n)}function TM(t,e){let n=Ln(e,t),r=n[j];bM(r,n);let i=n[fn];i!==null&&n[pc]===null&&(n[pc]=Yh(i,n[Mi])),of(r,n,n[Pt])}function bM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function of(t,e,n){Vh(e);try{let r=t.viewQuery;r!==null&&ch(1,r,n);let i=t.template;i!==null&&SI(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ri]?.finishViewCreation(t),t.staticContentQueries&&LI(t,e),t.staticViewQueries&&ch(2,t.viewQuery,n);let s=t.components;s!==null&&SM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[R]&=-5,Uh()}}function SM(t,e){for(let n=0;n<e.length;n++)TM(t,e[n])}function AM(t,e,n,r){let i=J(null);try{let s=e.tView,a=t[R]&4096?4096:16,c=Bc(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[kc]=u;let l=t[Ri];return l!==null&&(c[Ri]=l.createEmbeddedView(s)),of(s,c,n),c}finally{J(i)}}function MM(t,e){let n=rt+e;if(n<t.length)return t[n]}function uh(t,e){return!e||e.firstChild===null||oI(t)}function UI(t,e,n,r=!0){let i=e[j];if(FA(i,e,t,n),r){let o=oh(n,t),a=e[De],c=ef(a,t[gr]);c!==null&&OA(i,t[kt],a,e,c,o)}let s=e[pc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function RM(t,e){let n=Ec(t,e);return n!==void 0&&Xh(n[j],n),n}function Cc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(zt(s)),pn(s)&&NM(s,r);let o=n.type;if(o&8)Cc(t,e,n.child,r);else if(o&32){let a=Zh(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=wI(e,n);if(Array.isArray(a))r.push(...a);else{let c=js(e[Ht]);Cc(c[j],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function NM(t,e){for(let n=rt;n<t.length;n++){let r=t[n],i=r[j].firstChild;i!==null&&Cc(r[j],r,i,e)}t[gr]!==t[fn]&&e.push(t[gr])}var jI=[];function xM(t){return t[pr]??PM(t)}function PM(t){let e=jI.pop()??Object.create(kM);return e.lView=t,e}function OM(t){t.lView[pr]!==t&&(t.lView=null,jI.push(t))}var kM=ee(I({},Ky),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Us(t.lView)},consumerOnSignalRead(){this.lView[pr]=this}}),BI=100;function $I(t,e=!0,n=0){let r=t[Ot],i=r.rendererFactory,s=!1;s||i.begin?.();try{FM(t,n)}catch(o){throw e&&VI(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function FM(t,e){lh(t,e);let n=0;for(;Lh(t);){if(n===BI)throw new A(103,!1);n++,lh(t,1)}}function LM(t,e,n,r){let i=e[R];if((i&256)===256)return;let s=!1;!s&&e[Ot].inlineEffectRunner?.flush(),Vh(e);let o=null,a=null;!s&&VM(t)&&(a=xM(e),o=Qy(a));try{k_(e),US(t.bindingStartIndex),n!==null&&SI(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&oc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ac(e,d,0,null),xd(e,0)}if(UM(e),HI(e,0),t.contentQueries!==null&&LI(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&oc(e,d)}else{let d=t.contentHooks;d!==null&&ac(e,d,1),xd(e,1)}ZA(t,e);let u=t.components;u!==null&&zI(e,u,0);let l=t.viewQuery;if(l!==null&&ch(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&oc(e,d)}else{let d=t.viewHooks;d!==null&&ac(e,d,2),xd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nd]){for(let d of e[Nd])d();e[Nd]=null}s||(e[R]&=-73)}catch(c){throw Us(e),c}finally{a!==null&&(Yy(a,o),OM(a)),Uh()}}function VM(t){return t.type!==2}function HI(t,e){for(let n=cI(t);n!==null;n=uI(n))for(let r=rt;r<n.length;r++){let i=n[r];qI(i,e)}}function UM(t){for(let e=cI(t);e!==null;e=uI(e)){if(!(e[R]&Ph.HasTransplantedViews))continue;let n=e[mc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Le];SS(i)}}}function jM(t,e,n){let r=Ln(e,t);qI(r,n)}function qI(t,e){Fh(t)&&lh(t,e)}function lh(t,e){let r=t[j],i=t[R],s=t[pr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&sd(s)),s&&(s.dirty=!1),t[R]&=-9217,o)LM(r,t,r.template,t[Pt]);else if(i&8192){HI(t,1);let a=r.components;a!==null&&zI(t,a,1)}}function zI(t,e,n){for(let r=0;r<e.length;r++)jM(t,e[r],n)}function af(t){for(t[Ot].changeDetectionScheduler?.notify();t;){t[R]|=64;let e=js(t);if(vS(t)&&!e)return t;t=e}return null}var xi=class{get rootNodes(){let e=this._lView,n=e[j];return Cc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pt]}set context(e){this._lView[Pt]=e}get destroyed(){return(this._lView[R]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Le];if(pn(e)){let n=e[gc],r=n?n.indexOf(this):-1;r>-1&&(Ec(e,r),hc(n,r))}this._attachedToViewContainer=!1}Xh(this._lView[j],this._lView)}onDestroy(e){F_(this._lView,e)}markForCheck(){af(this._cdRefInjectingView||this._lView)}detach(){this._lView[R]&=-129}reattach(){Zd(this._lView),this._lView[R]|=128}detectChanges(){this._lView[R]|=1024,$I(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vI(this._lView[j],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=e,Zd(this._lView)}};var gz=new RegExp(`^(\\d+)*(${_A}|${vA})*(.*)`);var BM=()=>null;function dh(t,e){return BM(t,e)}var hh=class{},fh=class{},Tc=class{};function $M(t){let e=Error(`No component factory found for ${Qe(t)}.`);return e[HM]=t,e}var HM="ngComponent";var ph=class{resolveComponentFactory(e){throw $M(e)}},qc=(()=>{let e=class e{};e.NULL=new ph;let t=e;return t})(),Bs=class{},Dr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>qM();let t=e;return t})();function qM(){let t=oe(),e=st(),n=Ln(e.index,t);return(dr(n)?n:t)[De]}var zM=(()=>{let e=class e{};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ld={};var Gv=new Set;function cf(t){Gv.has(t)||(Gv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Wv(...t){}function GM(){let t=typeof un.requestAnimationFrame=="function",e=un[t?"requestAnimationFrame":"setTimeout"],n=un[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var te=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qe(!1),this.onMicrotaskEmpty=new qe(!1),this.onStable=new qe(!1),this.onError=new qe(!1),typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=GM().nativeRequestAnimationFrame,QM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new A(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,WM,Wv,Wv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},WM={};function uf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function KM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(un,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,gh(t),t.isCheckStableRunning=!0,uf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),gh(t))}function QM(t){let e=()=>{KM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(YM(a))return n.invokeTask(i,s,o,a);try{return Kv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Qv(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Kv(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,gh(t),uf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function gh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Kv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qv(t){t._nesting--,uf(t)}function YM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var GI=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function mh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Dv(i,a);else if(s==2){let c=a,u=e[++o];r=Dv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var bc=class extends qc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=fr(e);return new $s(n,this.ngModule)}};function Yv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function JM(t){let e=t.toLowerCase();return e==="svg"?ES:e==="math"?DS:null}var yh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xc(r);let i=this.injector.get(e,Ld,r);return i!==Ld||n===Ld?i:this.parentInjector.get(e,n,r)}},$s=class extends Tc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Yv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Yv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=tS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=J(null);try{i=i||this.ngModule;let o=i instanceof vt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new yh(e,o):e,c=a.get(Bs,null);if(c===null)throw new A(407,!1);let u=a.get(zM,null),l=a.get(GI,null),d=a.get(hh,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",_=r?tM(p,r,this.componentDef.encapsulation,a):yI(p,m,JM(m)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let C=null;_!==null&&(C=Yh(_,a,!0));let se=rf(0,null,null,1,0,null,null,null,null,null,null),ne=Bc(null,se,null,D,null,null,h,p,a,null,C);Vh(ne);let pe,pt;try{let Ie=this.componentDef,gt,ii=null;Ie.findHostDirectiveDefs?(gt=[],ii=new Map,Ie.findHostDirectiveDefs(Ie,gt,ii),gt.push(Ie)):gt=[Ie];let or=ZM(ne,_),si=XM(or,_,Ie,gt,ne,h,p);pt=kh(se,qt),_&&nR(p,Ie,_,r),n!==void 0&&rR(pt,this.ngContentSelectors,n),pe=tR(si,Ie,gt,ii,ne,[iR]),of(se,ne,null)}finally{Uh()}return new vh(this.componentType,pe,Gh(pt,ne),ne,pt)}finally{J(s)}}},vh=class extends fh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;sf(s[j],s,i,e,n),this.previousInputValues.set(e,n);let o=Ln(this._tNode.index,s);af(o)}}get injector(){return new hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZM(t,e){let n=t[j],r=qt;return t[r]=e,$c(n,r,2,"#host",null)}function XM(t,e,n,r,i,s,o){let a=i[j];eR(r,t,e,o);let c=null;e!==null&&(c=Yh(e,i[Mi]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Bc(i,NI(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&ah(a,t,r.length-1),Hc(i,d),i[t.index]=d}function eR(t,e,n,r){for(let i of t)e.mergedAttrs=ks(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(mh(e,e.mergedAttrs,!0),n!==null&&DI(r,n,e))}function tR(t,e,n,r,i,s){let o=st(),a=i[j],c=wt(o,i);OI(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Ni(i,a,d,o);vr(h,i)}kI(a,i,o),c&&vr(c,i);let u=Ni(i,a,o.directiveStart+o.componentOffset,o);if(t[Pt]=i[Pt]=u,s!==null)for(let l of s)l(u,e);return AI(a,o,i),u}function nR(t,e,n,r){if(r)Wd(t,n,["ng-version","17.3.5"]);else{let{attrs:i,classes:s}=nS(e.selectors[0]);i&&Wd(t,n,i),s&&s.length>0&&EI(t,n,s.join(" "))}}function rR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function iR(){let t=st();Hh(oe()[j],t)}var zc=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=sR;let t=e;return t})();function sR(){let t=st();return aR(t,oe())}var oR=zc,WI=class extends oR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Gh(this._hostTNode,this._hostLView)}get injector(){return new hr(this._hostTNode,this._hostLView)}get parentInjector(){let e=qh(this._hostTNode,this._hostLView);if(K_(e)){let n=_c(e,this._hostLView),r=vc(e),i=n[j].data[r+8];return new hr(i,n)}else return new hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Jv(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-rt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=dh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,uh(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!yS(e),a;if(o)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,s=m.environmentInjector||m.ngModuleRef}let c=o?e:new $s(fr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let _=(o?u:this.parentInjector).get(vt,null);_&&(s=_)}let l=fr(c.componentType??{}),d=dh(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,uh(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(bS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Le],u=new WI(c,c[kt],c[Le]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return UI(o,i,s,r),e.attachToViewContainerRef(),d_(Vd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Jv(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ec(this._lContainer,n);r&&(hc(Vd(this._lContainer),n),Xh(r[j],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ec(this._lContainer,n);return r&&hc(Vd(this._lContainer),n)!=null?new xi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Jv(t){return t[gc]}function Vd(t){return t[gc]||(t[gc]=[])}function aR(t,e){let n,r=e[t.index];return pn(r)?n=r:(n=FI(r,e,null,t),e[t.index]=n,Hc(e,n)),uR(n,e,t,r),new WI(n,t,e)}function cR(t,e){let n=t[De],r=n.createComment(""),i=wt(e,t),s=ef(n,i);return Dc(n,s,r,HA(n,i),!1),r}var uR=hR,lR=()=>!1;function dR(t,e,n){return lR(t,e,n)}function hR(t,e,n,r){if(t[gr])return;let i;n.type&8?i=zt(r):i=cR(e,n),t[gr]=i}function fR(t){return typeof t=="function"&&t[id]!==void 0}function KI(t){return fR(t)&&typeof t.set=="function"}function pR(t){return Object.getPrototypeOf(t.prototype).constructor}function Fi(t){let e=pR(t.type),n=!0,r=[t];for(;e;){let i;if(kn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new A(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=rc(t.inputs),o.inputTransforms=rc(t.inputTransforms),o.declaredInputs=rc(t.declaredInputs),o.outputs=rc(t.outputs);let a=i.hostBindings;a&&_R(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&yR(t,c),u&&vR(t,u),gR(t,i),Eb(t.outputs,i.outputs),kn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Fi&&(n=!1)}}e=Object.getPrototypeOf(e)}mR(r)}function gR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function mR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ks(i.hostAttrs,n=ks(n,i.hostAttrs))}}function rc(t){return t===bi?{}:t===yt?[]:t}function yR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function vR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function _R(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function lf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Fn=class{},Hs=class{};var _h=class extends Fn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bc(this);let i=I_(e);this._bootstrapComponents=mI(i.bootstrap),this._r3Injector=rI(e,n,[{provide:Fn,useValue:this},{provide:qc,useValue:this.componentFactoryResolver},...r],Qe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ih=class extends Hs{constructor(e){super(),this.moduleType=e}create(e){return new _h(this.moduleType,e,[])}};var Sc=class extends Fn{constructor(e){super(),this.componentFactoryResolver=new bc(this),this.instance=null;let n=new Fs([...e.providers,{provide:Fn,useValue:this},{provide:qc,useValue:this.componentFactoryResolver}],e.parent||xh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function df(t,e,n=null){return new Sc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Gc=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IR(t,e,n){return t[e]=n}function wR(t,e){return t[e]}function Li(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ER(t){return(t.flags&32)===32}function DR(t,e,n,r,i,s,o,a,c){let u=e.consts,l=$c(e,t,4,o||null,yc(u,a));PI(e,n,l,yc(u,c)),Hh(e,l);let d=l.tView=rf(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function hf(t,e,n,r,i,s,o,a){let c=oe(),u=it(),l=t+qt,d=u.firstCreatePass?DR(l,u,c,e,n,r,i,s,o):u.data[l];Qs(d,!1);let h=CR(u,c,d,t);Bh()&&tf(u,c,h,d),vr(h,c);let p=FI(h,c,h,d);return c[l]=p,Hc(c,p),dR(p,d,c),Oh(d)&&MI(u,c,d),o!=null&&RI(c,d,a),hf}var CR=TR;function TR(t,e,n,r){return $h(!0),e[De].createComment("")}function Wc(t,e,n,r){let i=oe(),s=Ys();if(Li(i,s,e)){let o=it(),a=jh();vM(a,i,t,e,n,r)}return Wc}function bR(t,e,n,r){return Li(t,Ys(),n)?e+Nc(n)+r:Er}function ic(t,e){return t<<17|e<<2}function _r(t){return t>>17&32767}function SR(t){return(t&2)==2}function AR(t,e){return t&131071|e<<17}function wh(t){return t|2}function Pi(t){return(t&131068)>>2}function Ud(t,e){return t&-131069|e<<2}function MR(t){return(t&1)===1}function Eh(t){return t|1}function RR(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_r(o),c=Pi(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ws(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=_r(t[a+1]);t[r+1]=ic(h,a),h!==0&&(t[h+1]=Ud(t[h+1],r)),t[a+1]=AR(t[a+1],r)}else t[r+1]=ic(a,0),a!==0&&(t[a+1]=Ud(t[a+1],r)),a=r;else t[r+1]=ic(c,0),a===0?a=r:t[c+1]=Ud(t[c+1],r),c=r;u&&(t[r+1]=wh(t[r+1])),Zv(t,l,r,!0),Zv(t,l,r,!1),NR(e,l,t,r,s),o=ic(a,c),s?e.classBindings=o:e.styleBindings=o}function NR(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ws(s,e)>=0&&(n[r+1]=Eh(n[r+1]))}function Zv(t,e,n,r){let i=t[n+1],s=e===null,o=r?_r(i):Pi(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];xR(c,e)&&(a=!0,t[o+1]=r?Eh(u):wh(u)),o=r?_r(u):Pi(u)}a&&(t[n+1]=r?wh(i):Eh(i))}function xR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ws(t,e)>=0:!1}function ff(t,e,n){let r=oe(),i=Ys();if(Li(r,i,e)){let s=it(),o=jh();xI(s,o,r,t,e,r[De],n,!1)}return ff}function Xv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";sf(t,n,s[o],o,r)}function pf(t,e){return PR(t,e,null,!0),pf}function PR(t,e,n,r){let i=oe(),s=it(),o=jS(2);if(s.firstUpdatePass&&kR(s,t,o,r),e!==Er&&Li(i,o,e)){let a=s.data[ki()];jR(s,a,i,i[De],t,i[o+1]=BR(e,n),r,o)}}function OR(t,e){return e>=t.expandoStartIndex}function kR(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ki()],o=OR(t,n);$R(s,r)&&e===null&&!o&&(e=!1),e=FR(i,s,e,r),RR(i,s,e,n,o,r)}}function FR(t,e,n,r){let i=qS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=jd(null,t,e,n,r),n=qs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=jd(i,t,e,n,r),s===null){let c=LR(t,e,r);c!==void 0&&Array.isArray(c)&&(c=jd(null,t,e,c[1],r),c=qs(c,e.attrs,r),VR(t,e,r,c))}else s=UR(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function LR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Pi(r)!==0)return t[_r(r)]}function VR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_r(i)]=r}function UR(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=qs(r,o,n)}return qs(r,e.attrs,n)}function jd(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=qs(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Hb(t,o,n?!0:e[++s]))}return t===void 0?null:t}function jR(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=MR(u)?e_(c,e,n,i,Pi(u),o):void 0;if(!Ac(l)){Ac(s)||SR(u)&&(s=e_(c,null,n,i,a,o));let d=O_(ki(),n);YA(r,o,d,i,s)}}function e_(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===Er&&(h=d?yt:void 0);let p=d?Md(h,r):l===r?h:void 0;if(u&&!Ac(p)&&(p=Md(c,r)),Ac(p)&&(a=p,o))return a;let m=t[i+1];i=o?_r(m):Pi(m)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Md(c,r))}return a}function Ac(t){return t!==void 0}function BR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qe(Zs(t)))),t}function $R(t,e){return(t.flags&(e?8:16))!==0}function QI(t,e,n){cf("NgControlFlow");let r=oe(),i=Ys(),s=HR(r,qt+t),o=0;if(Li(r,i,e)){let a=J(null);try{if(RM(s,o),e!==-1){let c=qR(r[j],qt+e),u=dh(s,c.tView.ssrId),l=AM(r,c,n,{dehydratedView:u});UI(s,l,o,uh(c,u))}}finally{J(a)}}else{let a=MM(s,o);a!==void 0&&(a[Pt]=n)}}function HR(t,e){return t[e]}function qR(t,e){return kh(t,e)}function zR(t,e,n,r,i,s){let o=e.consts,a=yc(o,i),c=$c(e,t,2,r,a);return PI(e,n,c,yc(o,s)),c.attrs!==null&&mh(c,c.attrs,!1),c.mergedAttrs!==null&&mh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function T(t,e,n,r){let i=oe(),s=it(),o=qt+t,a=i[De],c=s.firstCreatePass?zR(o,s,i,e,n,r):s.data[o],u=GR(s,i,c,a,e,t);i[o]=u;let l=Oh(c);return Qs(c,!0),DI(a,u,c),!ER(c)&&Bh()&&tf(s,i,u,c),RS()===0&&vr(u,i),NS(),l&&(MI(s,i,c),AI(s,c,i)),r!==null&&RI(i,c),T}function S(){let t=st();U_()?LS():(t=t.parent,Qs(t,!1));let e=t;OS(e)&&kS(),xS();let n=it();return n.firstCreatePass&&(Hh(n,t),M_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&JS(e)&&Xv(n,e,oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ZS(e)&&Xv(n,e,oe(),e.stylesWithoutHost,!1),S}function me(t,e,n,r){return T(t,e,n,r),S(),me}var GR=(t,e,n,r,i,s)=>($h(!0),yI(r,i,WS()));var Mc="en-US";var WR=Mc;function KR(t){typeof t=="string"&&(WR=t.toLowerCase().replace(/_/g,"-"))}function he(t,e,n,r){let i=oe(),s=it(),o=st();return YI(s,i,i[De],o,t,e,r),he}function QR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ls],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function YI(t,e,n,r,i,s,o){let a=Oh(r),u=t.firstCreatePass&&DM(t),l=e[Pt],d=EM(e),h=!0;if(r.type&3||o){let _=wt(r,e),D=o?o(_):_,C=d.length,se=o?pe=>o(zt(pe[r.index])):r.index,ne=null;if(!o&&a&&(ne=QR(t,e,i,r.index)),ne!==null){let pe=ne.__ngLastListenerFn__||ne;pe.__ngNextListenerFn__=s,ne.__ngLastListenerFn__=s,h=!1}else{s=n_(r,e,l,s,!1);let pe=n.listen(D,i,s);d.push(s,pe),u&&u.push(i,se,C,C+1)}}else s=n_(r,e,l,s,!1);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let _=m.length;if(_)for(let D=0;D<_;D+=2){let C=m[D],se=m[D+1],pt=e[C][se].subscribe(s),Ie=d.length;d.push(s,pt),u&&u.push(i,r.index,Ie,-(Ie+1))}}}function t_(t,e,n,r){let i=J(null);try{return jt(6,e,n),n(r)!==!1}catch(s){return VI(t,s),!1}finally{jt(7,e,n),J(i)}}function n_(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Ln(t.index,e):e;af(a);let c=t_(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=t_(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function JI(t=1){return GS(t)}function Q(t,e=""){let n=oe(),r=it(),i=t+qt,s=r.firstCreatePass?$c(r,i,1,e,null):r.data[i],o=YR(r,n,s,e,t);n[i]=o,Bh()&&tf(r,n,o,s),Qs(s,!1)}var YR=(t,e,n,r,i)=>($h(!0),NA(e[De],r));function Kc(t){return Vi("",t,""),Kc}function Vi(t,e,n){let r=oe(),i=bR(r,t,e,n);return i!==Er&&CM(r,ki(),i),Vi}function Cr(t,e,n){KI(e)&&(e=e());let r=oe(),i=Ys();if(Li(r,i,e)){let s=it(),o=jh();xI(s,o,r,t,e,r[De],n,!1)}return Cr}function Ui(t,e){let n=KI(t);return n&&t.set(e),n}function Tr(t,e){let n=oe(),r=it(),i=st();return YI(r,n,n[De],i,t,e),Tr}function JR(t,e,n){let r=it();if(r.firstCreatePass){let i=kn(t);Dh(n,r.data,r.blueprint,i,!0),Dh(e,r.data,r.blueprint,i,!1)}}function Dh(t,e,n,r,i){if(t=He(t),Array.isArray(t))for(let s=0;s<t.length;s++)Dh(t[s],e,n,r,i);else{let s=it(),o=oe(),a=st(),c=Ai(t)?t:He(t.provide),u=b_(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ai(t)||!t.multi){let p=new yr(u,i,G),m=$d(c,e,i?l:l+h,d);m===-1?(th(Ic(a,o),s,c),Bd(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[m]=p,o[m]=p)}else{let p=$d(c,e,l+h,d),m=$d(c,e,l,l+h),_=p>=0&&n[p],D=m>=0&&n[m];if(i&&!D||!i&&!_){th(Ic(a,o),s,c);let C=eN(i?XR:ZR,n.length,i,r,u);!i&&D&&(n[m].providerFactory=C),Bd(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=ZI(n[i?m:p],u,!i&&r);Bd(s,t,p>-1?p:m,C)}!i&&r&&D&&n[m].componentProviders++}}}function Bd(t,e,n,r){let i=Ai(e),s=uS(e);if(i||s){let c=(s?He(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ZI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function $d(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ZR(t,e,n,r){return Ch(this.multi,[])}function XR(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ni(n,n[j],this.providerFactory.index,r);s=a.slice(0,o),Ch(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Ch(i,s);return s}function Ch(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function eN(t,e,n,r,i){let s=new yr(t,n,G);return s.multi=[],s.index=e,s.componentProviders=0,ZI(s,i,r&&!n),s}function gf(t,e=[]){return n=>{n.providersResolver=(r,i)=>JR(r,i?i(t):t,e)}}var tN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=D_(!1,r.type),s=i.length>0?df([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(V(vt))});let t=e;return t})();function Ze(t){cf("NgStandalone"),t.getStandaloneInjector=e=>e.get(tN).getOrCreateStandaloneInjector(t)}function XI(t,e,n){let r=VS()+t,i=oe();return i[r]===Er?IR(i,r,n?e.call(n):e()):wR(i,r)}var hn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ew=new hn("17.3.5"),Qc=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var tw=new N("");function br(t){return!!t&&typeof t.then=="function"}function nw(t){return!!t&&typeof t.subscribe=="function"}var rw=new N(""),iw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=w(rw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(br(o))r.push(o);else if(nw(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mf=new N("");function nN(){Zy(()=>{throw new A(600,!1)})}function rN(t){return t.isBoundToModule}function iN(t,e,n){try{let r=n();return br(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Xs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(iI),this.afterRenderEffectManager=w(GI),this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=w(Gc).hasPendingTasks.pipe($(r=>!r)),this._injector=w(vt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Tc;if(!this._injector.get(iw).done){let p=!s&&__(r),m=!1;throw new A(405,m)}let a;s?a=r:a=this._injector.get(qc).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=rN(a)?void 0:this._injector.get(Fn),u=i||a.selector,l=a.create(Et.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(tw,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),Hd(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new A(101,!1);let i=J(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,J(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===BI)throw new A(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)sN(a,o,c)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Th(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Th(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Hd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(mf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Hd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new A(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sN(t,e,n){!e&&!Th(t)||oN(t,n,e)}function Th(t){return Lh(t)}function oN(t,e,n){let r;n?(r=0,t[R]|=1024):t[R]&64?r=0:r=1,$I(t,e,r)}var bh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yf=(()=>{let e=class e{compileModuleSync(r){return new Ih(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=I_(r),o=mI(s.declarations).reduce((a,c)=>{let u=fr(c);return u&&a.push(new $s(u)),a},[]);return new bh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aN=(()=>{let e=class e{constructor(){this.zone=w(te),this.applicationRef=w(Xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cN(t){return[{provide:te,useFactory:t},{provide:Si,multi:!0,useFactory:()=>{let e=w(aN,{optional:!0});return()=>e.initialize()}},{provide:Si,multi:!0,useFactory:()=>{let e=w(hN);return()=>{e.initialize()}}},{provide:iI,useFactory:uN}]}function uN(){let t=w(te),e=w(ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}function lN(t){let e=cN(()=>new te(dN(t)));return Pc([[],e])}function dN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hN=(()=>{let e=class e{constructor(){this.subscription=new le,this.initialized=!1,this.zone=w(te),this.pendingTasks=w(Gc)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fN(){return typeof $localize<"u"&&$localize.locale||Mc}var vf=new N("",{providedIn:"root",factory:()=>w(vf,L.Optional|L.SkipSelf)||fN()});var sw=new N("");var uc=null;function pN(t=[],e){return Et.create({name:e,providers:[{provide:Oc,useValue:"platform"},{provide:sw,useValue:new Set([()=>uc=null])},...t]})}function gN(t=[]){if(uc)return uc;let e=pN(t);return uc=e,nN(),mN(e),e}function mN(t){t.get(Kh,null)?.forEach(n=>n())}var Sr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=yN;let t=e;return t})();function yN(t){return vN(st(),oe(),(t&16)===16)}function vN(t,e,n){if(Lc(t)&&!n){let r=Ln(t.index,e);return new xi(r,r)}else if(t.type&47){let r=e[Ht];return new xi(r,e)}return null}function ow(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=gN(r),s=[lN(),...n||[]],a=new Sc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(te);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(ln,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(sw);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),iN(u,c,()=>{let p=a.get(iw);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get(vf,Mc);KR(m||Mc);let _=a.get(Xs);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function Ar(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var uw=null;function gn(){return uw}function lw(t){uw??=t}var Yc=class{};var Dt=new N(""),dw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(_N),providedIn:"platform"});let t=e;return t})();var _N=(()=>{let e=class e extends dw{constructor(){super(),this._doc=w(Dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function hw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function aw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Mr(t){return t&&t[0]!=="?"?"?"+t:t}var ji=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(fw),providedIn:"root"});let t=e;return t})(),IN=new N(""),fw=(()=>{let e=class e extends ji{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(Dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return hw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Mr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Mr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Mr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(V(dw),V(IN,8))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eo=(()=>{let e=class e{constructor(r){this._subject=new qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=DN(aw(cw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Mr(i))}normalize(r){return e.stripTrailingSlash(EN(this._basePath,cw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Mr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Mr,e.joinWithSlash=hw,e.stripTrailingSlash=aw,e.\u0275fac=function(i){return new(i||e)(V(ji))},e.\u0275prov=P({token:e,factory:()=>wN(),providedIn:"root"});let t=e;return t})();function wN(){return new eo(V(ji))}function EN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cw(t){return t.replace(/\/index.html$/,"")}function DN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function pw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var gw="browser",CN="server";function _f(t){return t===CN}var Jc=class{};var Ef=class extends Yc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Df=class t extends Ef{static makeCurrent(){lw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=bN();return n==null?null:SN(n)}resetBaseElement(){to=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pw(document.cookie,e)}},to=null;function bN(){return to=to||document.querySelector("base"),to?to.getAttribute("href"):null}function SN(t){return new URL(t,document.baseURI).pathname}var AN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Cf=new N(""),_w=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new A(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(V(Cf),V(te))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),Zc=class{constructor(e){this._doc=e}},If="ng-app-id",Iw=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_f(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${If}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(If),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(If,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(V(Dt),V(Wh),V(Qh,8),V(Un))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),wf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bf=/%COMP%/g,ww="%COMP%",MN=`_nghost-${ww}`,RN=`_ngcontent-${ww}`,NN=!0,xN=new N("",{providedIn:"root",factory:()=>NN});function PN(t){return RN.replace(bf,t)}function ON(t){return MN.replace(bf,t)}function Ew(t,e){return e.map(n=>n.replace(bf,t))}var mw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=_f(c),this.defaultRenderer=new no(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$t.ShadowDom&&(i=ee(I({},i),{encapsulation:$t.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Xc?s.applyToHost(r):s instanceof ro&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case $t.Emulated:o=new Xc(u,l,i,this.appId,d,a,c,h);break;case $t.ShadowDom:return new Tf(u,l,r,i,a,c,this.nonce,h);default:o=new ro(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(V(_w),V(Iw),V(Wh),V(xN),V(Dt),V(Un),V(te),V(Qh))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),no=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(wf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=wf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=wf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(dn.DashCase|dn.Important)?e.style.setProperty(n,r,i&dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Tf=class extends no{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Ew(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ro=class extends no{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Ew(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xc=class extends ro{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=PN(u),this.hostAttr=ON(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},kN=(()=>{let e=class e extends Zc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(V(Dt))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})(),vw=["alt","control","meta","shift"],FN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},LN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},VN=(()=>{let e=class e extends Zc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),vw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=FN[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),vw.forEach(a=>{if(a!==s){let c=LN[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(V(Dt))},e.\u0275prov=P({token:e,factory:e.\u0275fac});let t=e;return t})();function Dw(t,e){return ow(I({rootComponent:t},UN(e)))}function UN(t){return{appProviders:[...qN,...t?.providers??[]],platformProviders:HN}}function jN(){Df.makeCurrent()}function BN(){return new ln}function $N(){return dI(document),document}var HN=[{provide:Un,useValue:gw},{provide:Kh,useValue:jN,multi:!0},{provide:Dt,useFactory:$N,deps:[]}];var qN=[{provide:Oc,useValue:"root"},{provide:ln,useFactory:BN,deps:[]},{provide:Cf,useClass:kN,multi:!0,deps:[Dt,te,Un]},{provide:Cf,useClass:VN,multi:!0,deps:[Dt]},mw,Iw,_w,{provide:Bs,useExisting:mw},{provide:Jc,useClass:AN,deps:[]},[]];var Cw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(V(Dt))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var F="primary",_o=Symbol("RouteTitle"),Nf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function zi(t){return new Nf(t)}function GN(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function WN(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Wt(t[n],e[n]))return!1;return!0}function Wt(t,e){let n=t?xf(t):void 0,r=e?xf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Rw(t[i],e[i]))return!1;return!0}function xf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Rw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Nw(t){return t.length>0?t[t.length-1]:null}function Hn(t){return wd(t)?t:br(t)?de(Promise.resolve(t)):k(t)}var KN={exact:Pw,subset:Ow},xw={exact:QN,subset:YN,ignored:()=>!0};function Tw(t,e,n){return KN[n.paths](t.root,e.root,n.matrixParams)&&xw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function QN(t,e){return Wt(t,e)}function Pw(t,e,n){if(!Nr(t.segments,e.segments)||!nu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Pw(t.children[r],e.children[r],n))return!1;return!0}function YN(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Rw(t[n],e[n]))}function Ow(t,e,n){return kw(t,e,e.segments,n)}function kw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Nr(i,n)||e.hasChildren()||!nu(i,n,r))}else if(t.segments.length===n.length){if(!Nr(t.segments,n)||!nu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Ow(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Nr(t.segments,i)||!nu(t.segments,i,r)||!t.children[F]?!1:kw(t.children[F],e,s,r)}}function nu(t,e,n){return e.every((r,i)=>xw[n](t[i].parameters,r.parameters))}var jn=class{constructor(e=new Z([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return XN.serialize(this)}},Z=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ru(this)}},Rr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=zi(this.parameters),this._parameterMap}toString(){return Lw(this)}};function JN(t,e){return Nr(t,e)&&t.every((n,r)=>Wt(n.parameters,e[r].parameters))}function Nr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ZN(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===F&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==F&&(n=n.concat(e(i,r)))}),n}var ip=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>new su,providedIn:"root"});let t=e;return t})(),su=class{parse(e){let n=new Of(e);return new jn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${io(e.root,!0)}`,r=nx(e.queryParams),i=typeof e.fragment=="string"?`#${ex(e.fragment)}`:"";return`${n}${r}${i}`}},XN=new su;function ru(t){return t.segments.map(e=>Lw(e)).join("/")}function io(t,e){if(!t.hasChildren())return ru(t);if(e){let n=t.children[F]?io(t.children[F],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==F&&r.push(`${i}:${io(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ZN(t,(r,i)=>i===F?[io(t.children[F],!1)]:[`${i}:${io(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[F]!=null?`${ru(t)}/${n[0]}`:`${ru(t)}/(${n.join("//")})`}}function Fw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function eu(t){return Fw(t).replace(/%3B/gi,";")}function ex(t){return encodeURI(t)}function Pf(t){return Fw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iu(t){return decodeURIComponent(t)}function bw(t){return iu(t.replace(/\+/g,"%20"))}function Lw(t){return`${Pf(t.path)}${tx(t.parameters)}`}function tx(t){return Object.entries(t).map(([e,n])=>`;${Pf(e)}=${Pf(n)}`).join("")}function nx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${eu(n)}=${eu(i)}`).join("&"):`${eu(n)}=${eu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var rx=/^[^\/()?;#]+/;function Sf(t){let e=t.match(rx);return e?e[0]:""}var ix=/^[^\/()?;=#]+/;function sx(t){let e=t.match(ix);return e?e[0]:""}var ox=/^[^=?&#]+/;function ax(t){let e=t.match(ox);return e?e[0]:""}var cx=/^[^&#]+/;function ux(t){let e=t.match(cx);return e?e[0]:""}var Of=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[F]=new Z(e,n)),r}parseSegment(){let e=Sf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(e),new Rr(iu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=sx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Sf(this.remaining);i&&(r=i,this.capture(r))}e[iu(n)]=iu(r)}parseQueryParam(e){let n=ax(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ux(this.remaining);o&&(r=o,this.capture(r))}let i=bw(n),s=bw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=F);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[F]:new Z([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new A(4011,!1)}};function Vw(t){return t.segments.length>0?new Z([],{[F]:t}):t}function Uw(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Uw(i);if(r===F&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Z(t.segments,e);return lx(n)}function lx(t){if(t.numberOfChildren===1&&t.children[F]){let e=t.children[F];return new Z(t.segments.concat(e.segments),e.children)}return t}function Gi(t){return t instanceof jn}function dx(t,e,n=null,r=null){let i=jw(t);return Bw(i,e,n,r)}function jw(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Z(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Vw(r);return e??i}function Bw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Af(i,i,i,n,r);let s=hx(e);if(s.toRoot())return Af(i,i,new Z([],{}),n,r);let o=fx(s,i,t),a=o.processChildren?ao(o.segmentGroup,o.index,s.commands):Hw(o.segmentGroup,o.index,s.commands);return Af(i,o.segmentGroup,a,n,r)}function ou(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function lo(t){return typeof t=="object"&&t!=null&&t.outlets}function Af(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=$w(t,e,n);let a=Vw(Uw(o));return new jn(a,s,i)}function $w(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=$w(s,e,n)}),new Z(t.segments,r)}var au=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ou(r[0]))throw new A(4003,!1);let i=r.find(lo);if(i&&i!==Nw(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new au(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new au(n,e,r)}var Hi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fx(t,e,n){if(t.isAbsolute)return new Hi(e,!0,0);if(!n)return new Hi(e,!1,NaN);if(n.parent===null)return new Hi(n,!0,0);let r=ou(t.commands[0])?0:1,i=n.segments.length-1+r;return px(n,i,t.numberOfDoubleDots)}function px(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Hi(r,!1,i-s)}function gx(t){return lo(t[0])?t[0].outlets:{[F]:t}}function Hw(t,e,n){if(t??=new Z([],{}),t.segments.length===0&&t.hasChildren())return ao(t,e,n);let r=mx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Z(t.segments.slice(0,r.pathIndex),{});return s.children[F]=new Z(t.segments.slice(r.pathIndex),t.children),ao(s,0,i)}else return r.match&&i.length===0?new Z(t.segments,{}):r.match&&!t.hasChildren()?kf(t,e,n):r.match?ao(t,0,i):kf(t,e,n)}function ao(t,e,n){if(n.length===0)return new Z(t.segments,{});{let r=gx(n),i={};if(Object.keys(r).some(s=>s!==F)&&t.children[F]&&t.numberOfChildren===1&&t.children[F].segments.length===0){let s=ao(t.children[F],e,n);return new Z(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Hw(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Z(t.segments,i)}}function mx(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(lo(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Aw(c,u,o))return s;r+=2}else{if(!Aw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(lo(s)){let c=yx(s.outlets);return new Z(r,c)}if(i===0&&ou(n[0])){let c=t.segments[e];r.push(new Rr(c.path,Sw(n[0]))),i++;continue}let o=lo(s)?s.outlets[F]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ou(a)?(r.push(new Rr(o,Sw(a))),i+=2):(r.push(new Rr(o,{})),i++)}return new Z(r,{})}function yx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=kf(new Z([],{}),0,r))}),e}function Sw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Aw(t,e,n){return t==n.path&&Wt(e,n.parameters)}var co="imperative",Pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Pe||{}),Ct=class{constructor(e,n){this.id=e,this.url=n}},ho=class extends Ct{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bn=class extends Ct{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ct=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ct||{}),Ff=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ff||{}),$n=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xr=class extends Ct{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Pe.NavigationSkipped}},fo=class extends Ct{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cu=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vf=class extends Ct{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jf=class extends Ct{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},$f=class{constructor(e){this.route=e,this.type=Pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hf=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qf=class{constructor(e){this.snapshot=e,this.type=Pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zf=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(e){this.snapshot=e,this.type=Pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var po=class{},go=class{constructor(e){this.url=e}};var Wf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pu,this.attachRef=null}},pu=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Wf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Kf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Kf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Qf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qf(e,this._root).map(n=>n.value)}};function Kf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Kf(t,n);if(r)return r}return null}function Qf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Qf(t,n);if(r.length)return r.unshift(e),r}return[]}var at=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function $i(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var lu=class extends uu{constructor(e,n){super(e),this.snapshot=n,op(this,e)}toString(){return this.snapshot.toString()}};function qw(t){let e=vx(t),n=new xe([new Rr("",{})]),r=new xe({}),i=new xe({}),s=new xe({}),o=new xe(""),a=new Pr(n,r,s,o,i,F,t,e.root);return a.snapshot=e.root,new lu(new at(a,[]),e)}function vx(t){let e={},n={},r={},i="",s=new mo([],e,r,i,n,F,t,null,{});return new du("",new at(s,[]))}var Pr=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($(u=>u[_o]))??k(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($(e=>zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($(e=>zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&Gw(i)&&(r.resolve[_o]=i.title),r}var mo=class{get title(){return this.data?.[_o]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},du=class extends uu{constructor(e,n){super(n),this.url=e,op(this,n)}toString(){return zw(this._root)}};function op(t,e){e.value._routerState=t,e.children.forEach(n=>op(t,n))}function zw(t){let e=t.children.length>0?` { ${t.children.map(zw).join(", ")} } `:"";return`${t.value}${e}`}function Mf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Wt(e.params,n.params)||t.paramsSubject.next(n.params),WN(e.url,n.url)||t.urlSubject.next(n.url),Wt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Yf(t,e){let n=Wt(t.params,e.params)&&JN(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Yf(t.parent,e.parent))}function Gw(t){return typeof t.title=="string"||t.title===null}var ap=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=F,this.activateEvents=new qe,this.deactivateEvents=new qe,this.attachEvents=new qe,this.detachEvents=new qe,this.parentContexts=w(pu),this.location=w(zc),this.changeDetector=w(Sr),this.environmentInjector=w(vt),this.inputBinder=w(cp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Jf(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Gt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wr]});let t=e;return t})(),Jf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===Pr?this.route:e===pu?this.childContexts:this.parent.get(e,n)}},cp=new N("");function _x(t,e,n){let r=yo(t,e._root,n?n._root:void 0);return new lu(r,e)}function yo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ix(t,e,n);return new at(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>yo(t,a)),o}}let r=wx(e.value),i=e.children.map(s=>yo(t,s));return new at(r,i)}}function Ix(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return yo(t,r,i);return yo(t,r)})}function wx(t){return new Pr(new xe(t.url),new xe(t.params),new xe(t.queryParams),new xe(t.fragment),new xe(t.data),t.outlet,t.component,t)}var Ww="ngNavigationCancelingError";function Kw(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Qw(!1,ct.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Qw(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ww]=!0,n.cancellationCode=e,n}function Ex(t){return Yw(t)&&Gi(t.url)}function Yw(t){return!!t&&t[Ww]}var Dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(i,s){i&1&&me(0,"router-outlet")},dependencies:[ap],encapsulation:2});let t=e;return t})();function Cx(t,e){return t.providers&&!t._injector&&(t._injector=df(t.providers,e,`Route: ${t.path}`)),t._injector??e}function up(t){let e=t.children&&t.children.map(up),n=e?ee(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==F&&(n.component=Dx),n}function Kt(t){return t.outlet||F}function Tx(t,e){let n=t.filter(r=>Kt(r)===e);return n.push(...t.filter(r=>Kt(r)!==e)),n}function Io(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var bx=(t,e,n,r)=>$(i=>(new Zf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Zf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Mf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=$i(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$i(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=$i(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Gf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new qf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Mf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Mf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Io(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},hu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qi=class{constructor(e,n){this.component=e,this.route=n}};function Sx(t,e,n){let r=t._root,i=e?e._root:null;return so(r,i,n,[r.value])}function Ax(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ki(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!s_(t)?t:e.get(t):r}function so(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=$i(e);return t.children.forEach(o=>{Mx(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>uo(a,n.getContext(o),i)),i}function Mx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=Rx(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new hu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?so(t,e,a?a.children:null,r,i):so(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qi(a.outlet.component,o))}else o&&uo(e,a,i),i.canActivateChecks.push(new hu(r)),s.component?so(t,null,a?a.children:null,r,i):so(t,null,n,r,i);return i}function Rx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Nr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nr(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yf(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!Yf(t,e)}}function uo(t,e,n){let r=$i(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?uo(o,e.children.getContext(s),n):uo(o,null,n):uo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new qi(e.outlet.component,i)):n.canDeactivateChecks.push(new qi(null,i)):n.canDeactivateChecks.push(new qi(null,i))}function wo(t){return typeof t=="function"}function Nx(t){return typeof t=="boolean"}function xx(t){return t&&wo(t.canLoad)}function Px(t){return t&&wo(t.canActivate)}function Ox(t){return t&&wo(t.canActivateChild)}function kx(t){return t&&wo(t.canDeactivate)}function Fx(t){return t&&wo(t.canMatch)}function Jw(t){return t instanceof an||t?.name==="EmptyError"}var tu=Symbol("INITIAL_VALUE");function Wi(){return Rt(t=>Ja(t.map(e=>e.pipe(cn(1),Sd(tu)))).pipe($(e=>{for(let n of e)if(n!==!0){if(n===tu)return tu;if(n===!1||n instanceof jn)return n}return!0}),Mt(e=>e!==tu),cn(1)))}function Lx(t,e){return we(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?k(ee(I({},n),{guardsResult:!0})):Vx(o,r,i,t).pipe(we(a=>a&&Nx(a)?Ux(r,s,t,e):k(a)),$(a=>ee(I({},n),{guardsResult:a})))})}function Vx(t,e,n,r){return de(t).pipe(we(i=>qx(i.component,i.route,n,e,r)),Ut(i=>i!==!0,!0))}function Ux(t,e,n,r){return de(e).pipe(vi(i=>yi(Bx(i.route.parent,r),jx(i.route,r),Hx(t,i.path,n),$x(t,i.route,n))),Ut(i=>i!==!0,!0))}function jx(t,e){return t!==null&&e&&e(new zf(t)),k(!0)}function Bx(t,e){return t!==null&&e&&e(new Hf(t)),k(!0)}function $x(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(s=>Za(()=>{let o=Io(e)??n,a=Ki(s,o),c=Px(a)?a.canActivate(e,t):Ir(o,()=>a(e,t));return Hn(c).pipe(Ut())}));return k(i).pipe(Wi())}function Hx(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Ax(o)).filter(o=>o!==null).map(o=>Za(()=>{let a=o.guards.map(c=>{let u=Io(o.node)??n,l=Ki(c,u),d=Ox(l)?l.canActivateChild(r,t):Ir(u,()=>l(r,t));return Hn(d).pipe(Ut())});return k(a).pipe(Wi())}));return k(s).pipe(Wi())}function qx(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return k(!0);let o=s.map(a=>{let c=Io(e)??i,u=Ki(a,c),l=kx(u)?u.canDeactivate(t,e,n,r):Ir(c,()=>u(t,e,n,r));return Hn(l).pipe(Ut())});return k(o).pipe(Wi())}function zx(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return k(!0);let s=i.map(o=>{let a=Ki(o,t),c=xx(a)?a.canLoad(e,n):Ir(t,()=>a(e,n));return Hn(c)});return k(s).pipe(Wi(),Zw(r))}function Zw(t){return fd(Ee(e=>{if(Gi(e))throw Kw(t,e)}),$(e=>e===!0))}function Gx(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return k(!0);let s=i.map(o=>{let a=Ki(o,t),c=Fx(a)?a.canMatch(e,n):Ir(t,()=>a(e,n));return Hn(c)});return k(s).pipe(Wi(),Zw(r))}var vo=class{constructor(e){this.segmentGroup=e||null}},fu=class extends Error{constructor(e){super(),this.urlTree=e}};function Bi(t){return mi(new vo(t))}function Wx(t){return mi(new A(4e3,!1))}function Kx(t){return mi(Qw(!1,ct.GuardRejected))}var Xf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[F])return Wx(e.redirectTo);i=i.children[F]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new fu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new jn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Z(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qx(t,e,n,r,i){let s=lp(t,e,n);return s.matched?(r=Cx(e,r),Gx(r,e,n,i).pipe($(o=>o===!0?s:I({},ep)))):k(s)}function lp(t,e,n){if(e.path==="**")return Yx(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},ep):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||GN)(n,t,e);if(!i)return I({},ep);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?I(I({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Yx(t){return{matched:!0,parameters:t.length>0?Nw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Mw(t,e,n,r){return n.length>0&&Xx(t,n,r)?{segmentGroup:new Z(e,Zx(r,new Z(n,t.children))),slicedSegments:[]}:n.length===0&&eP(t,n,r)?{segmentGroup:new Z(t.segments,Jx(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Z(t.segments,t.children),slicedSegments:n}}function Jx(t,e,n,r){let i={};for(let s of n)if(gu(t,e,s)&&!r[Kt(s)]){let o=new Z([],{});i[Kt(s)]=o}return I(I({},r),i)}function Zx(t,e){let n={};n[F]=e;for(let r of t)if(r.path===""&&Kt(r)!==F){let i=new Z([],{});n[Kt(r)]=i}return n}function Xx(t,e,n){return n.some(r=>gu(t,e,r)&&Kt(r)!==F)}function eP(t,e,n){return n.some(r=>gu(t,e,r))}function gu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function tP(t,e,n,r){return Kt(t)!==r&&(r===F||!gu(e,n,t))?!1:lp(e,t,n).matched}function nP(t,e,n){return e.length===0&&!t.children[n]}var tp=class{};function rP(t,e,n,r,i,s,o="emptyOnly"){return new np(t,e,n,r,i,o,s).recognize()}var iP=31,np=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Xf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new A(4002,`'${e.segmentGroup}'`)}recognize(){let e=Mw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe($(n=>{let r=new mo([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},F,this.rootComponentType,null,{}),i=new at(r,n),s=new du("",i),o=dx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,F).pipe(Nn(r=>{if(r instanceof fu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=sp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe($(s=>s instanceof at?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return de(i).pipe(vi(s=>{let o=r.children[s],a=Tx(n,s);return this.processSegmentGroup(e,a,o,s)}),bd((s,o)=>(s.push(...o),s)),xn(null),Td(),we(s=>{if(s===null)return Bi(r);let o=Xw(s);return sP(o),k(o)}))}processSegment(e,n,r,i,s,o){return de(n).pipe(vi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Nn(c=>{if(c instanceof vo)return k(null);throw c}))),Ut(a=>!!a),Nn(a=>{if(Jw(a))return nP(r,i,s)?k(new tp):Bi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return tP(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Bi(i):Bi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=lp(n,i,s);if(!a)return Bi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iP&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(we(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Qx(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Rt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Rt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new mo(l,h,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,aP(r),Kt(r),r.component??r._loadedComponent??null,r,cP(r)),{segmentGroup:m,slicedSegments:_}=Mw(n,l,d,c);if(_.length===0&&m.hasChildren())return this.processChildren(u,c,m).pipe($(C=>C===null?null:new at(p,C)));if(c.length===0&&_.length===0)return k(new at(p,[]));let D=Kt(r)===s;return this.processSegment(u,c,m,_,D?F:s,!0).pipe($(C=>new at(p,C instanceof at?[C]:[])))}))):Bi(n)))}getChildConfig(e,n,r){return n.children?k({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):zx(e,n,r,this.urlSerializer).pipe(we(i=>i?this.configLoader.loadChildren(e,n).pipe(Ee(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Kx(n))):k({routes:[],injector:e})}};function sP(t){t.sort((e,n)=>e.value.outlet===F?-1:n.value.outlet===F?1:e.value.outlet.localeCompare(n.value.outlet))}function oP(t){let e=t.value.routeConfig;return e&&e.path===""}function Xw(t){let e=[],n=new Set;for(let r of t){if(!oP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Xw(r.children);e.push(new at(r.value,i))}return e.filter(r=>!n.has(r))}function aP(t){return t.data||{}}function cP(t){return t.resolve||{}}function uP(t,e,n,r,i,s){return we(o=>rP(t,e,n,r,o.extractedUrl,i,s).pipe($(({state:a,tree:c})=>ee(I({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function lP(t,e){return we(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of eE(c))o.add(u);let a=0;return de(o).pipe(vi(c=>s.has(c)?dP(c,r,t,e):(c.data=sp(c,c.parent,t).resolve,k(void 0))),Ee(()=>a++),_i(1),we(c=>a===o.size?k(n):nt))})}function eE(t){let e=t.children.map(n=>eE(n)).flat();return[t,...e]}function dP(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Gw(i)&&(s[_o]=i.title),hP(s,t,e,r).pipe($(o=>(t._resolvedData=o,t.data=sp(t,t.parent,n).resolve,null)))}function hP(t,e,n,r){let i=xf(t);if(i.length===0)return k({});let s={};return de(i).pipe(we(o=>fP(t[o],e,n,r).pipe(Ut(),Ee(a=>{s[o]=a}))),_i(1),Cd(s),Nn(o=>Jw(o)?nt:mi(o)))}function fP(t,e,n,r){let i=Io(e)??r,s=Ki(t,i),o=s.resolve?s.resolve(e,n):Ir(i,()=>s(e,n));return Hn(o)}function Rf(t){return Rt(e=>{let n=t(e);return n?de(n).pipe($(()=>e)):k(e)})}var tE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===F);return i}getResolvedTitleForRoute(r){return r.data[_o]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(pP),providedIn:"root"});let t=e;return t})(),pP=(()=>{let e=class e extends tE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(V(Cw))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dp=new N("",{providedIn:"root",factory:()=>({})}),hp=new N(""),gP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(yf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return k(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Hn(r.loadComponent()).pipe($(nE),Ee(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),xs(()=>{this.componentLoaders.delete(r)})),s=new hi(i,()=>new Fe).pipe(di());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return k({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=mP(i,this.compiler,r,this.onLoadEndListener).pipe(xs(()=>{this.childrenLoaders.delete(i)})),a=new hi(o,()=>new Fe).pipe(di());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mP(t,e,n,r){return Hn(t.loadChildren()).pipe($(nE),we(i=>i instanceof Hs||Array.isArray(i)?k(i):de(e.compileModuleAsync(i))),$(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(hp,[],{optional:!0,self:!0}).flat()),{routes:o.map(up),injector:s}}))}function yP(t){return t&&typeof t=="object"&&"default"in t}function nE(t){return yP(t)?t.default:t}var fp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(vP),providedIn:"root"});let t=e;return t})(),vP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_P=new N("");var IP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=w(gP),this.environmentInjector=w(vt),this.urlSerializer=w(ip),this.rootContexts=w(pu),this.location=w(eo),this.inputBindingEnabled=w(cp,{optional:!0})!==null,this.titleStrategy=w(tE),this.options=w(dp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(fp),this.createViewTransition=w(_P,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>k(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Bf(s)),i=s=>this.events.next(new $f(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ee(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:co,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mt(o=>o.id!==0),$(o=>ee(I({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Rt(o=>{let a=!1,c=!1;return k(o).pipe(Rt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),nt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ee(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new xr(u.id,this.urlSerializer.serialize(u.rawUrl),h,Ff.IgnoredSameUrlNavigation)),u.resolve(null),nt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return k(u).pipe(Rt(h=>{let p=this.transitions?.getValue();return this.events.next(new ho(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?nt:Promise.resolve(h)}),uP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ee(I({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new cu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:m,restoredState:_,extras:D}=u,C=new ho(h,this.urlSerializer.serialize(p),m,_);this.events.next(C);let se=qw(this.rootComponentType).snapshot;return this.currentTransition=o=ee(I({},u),{targetSnapshot:se,urlAfterRedirects:p,extras:ee(I({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,k(o)}else{let h="";return this.events.next(new xr(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Ff.IgnoredByUrlHandlingStrategy)),u.resolve(null),nt}}),Ee(u=>{let l=new Lf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),$(u=>(this.currentTransition=o=ee(I({},u),{guards:Sx(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Lx(this.environmentInjector,u=>this.events.next(u)),Ee(u=>{if(o.guardsResult=u.guardsResult,Gi(u.guardsResult))throw Kw(this.urlSerializer,u.guardsResult);let l=new Vf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Mt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ct.GuardRejected),!1)),Rf(u=>{if(u.guards.canActivateChecks.length)return k(u).pipe(Ee(l=>{let d=new Uf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Rt(l=>{let d=!1;return k(l).pipe(lP(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",ct.NoDataFromResolver)}}))}),Ee(l=>{let d=new jf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Rf(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ee(p=>{d.component=p}),$(()=>{})));for(let p of d.children)h.push(...l(p));return h};return Ja(l(u.targetSnapshot.root)).pipe(xn(null),cn(1))}),Rf(()=>this.afterPreactivation()),Rt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?de(d).pipe($(()=>o)):k(o)}),$(u=>{let l=_x(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ee(I({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ee(()=>{this.events.next(new po)}),bx(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),cn(1),Ee({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ad(this.transitionAbortSubject.pipe(Ee(u=>{throw u}))),xs(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ct.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Nn(u=>{if(c=!0,Yw(u))this.events.next(new $n(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),Ex(u)?this.events.next(new go(u.url)):o.resolve(!1);else{this.events.next(new fo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return nt}))}))}cancelNavigationTransition(r,i,s){let o=new $n(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wP(t){return t!==co}var EP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(DP),providedIn:"root"});let t=e;return t})(),rp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},DP=(()=>{let e=class e extends rp{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Js(e)))(s||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:()=>w(CP),providedIn:"root"});let t=e;return t})(),CP=(()=>{let e=class e extends rE{constructor(){super(...arguments),this.location=w(eo),this.urlSerializer=w(ip),this.options=w(dp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(fp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new jn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ho)this.stateMemento=this.createStateMemento();else if(r instanceof xr)this.rawUrlTree=i.initialUrl;else if(r instanceof cu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof po?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof $n&&(r.code===ct.GuardRejected||r.code===ct.NoDataFromResolver)?this.restoreHistory(i):r instanceof fo?this.restoreHistory(i,!0):r instanceof Bn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Js(e)))(s||e)}})(),e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(oo||{});function TP(t,e){t.events.pipe(Mt(n=>n instanceof Bn||n instanceof $n||n instanceof fo||n instanceof xr),$(n=>n instanceof Bn||n instanceof xr?oo.COMPLETE:(n instanceof $n?n.code===ct.Redirect||n.code===ct.SupersededByNewNavigation:!1)?oo.REDIRECTING:oo.FAILED),Mt(n=>n!==oo.REDIRECTING),cn(1)).subscribe(()=>{e()})}function bP(t){throw t}var SP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ut=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(Qc),this.stateManager=w(rE),this.options=w(dp,{optional:!0})||{},this.pendingTasks=w(Gc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(IP),this.urlSerializer=w(ip),this.location=w(eo),this.urlHandlingStrategy=w(fp),this._events=new Fe,this.errorHandler=this.options.errorHandler||bP,this.navigated=!1,this.routeReuseStrategy=w(EP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(hp,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(cp,{optional:!0}),this.eventsSubscription=new le,this.isNgZoneEnabled=w(te)instanceof te&&te.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof $n&&i.code!==ct.Redirect&&i.code!==ct.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bn)this.navigated=!0;else if(i instanceof go){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||wP(s.source)};this.scheduleNavigation(a,co,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}RP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),co,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=I({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(up),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=jw(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Bw(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Gi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,co,null,i)}navigate(r,i={skipLocationChange:!1}){return MP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=I({},SP):i===!1?s=I({},AP):s=i,Gi(r))return Tw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Tw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return TP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new A(4008,!1)}function RP(t){return!(t instanceof po)&&!(t instanceof go)}var iE=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:pI(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(G(ut),G(Pr),zh("tabindex"),G(Dr),G(Vn),G(ji))},e.\u0275dir=Gt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&he("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Wc("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ze.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ar],skipLocationChange:[ze.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ar],replaceUrl:[ze.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ar],routerLink:"routerLink"},standalone:!0,features:[lf,wr]});let t=e;return t})();var NP=new N("");function sE(t,...e){return Pc([{provide:hp,multi:!0,useValue:t},[],{provide:Pr,useFactory:xP,deps:[ut]},{provide:mf,multi:!0,useFactory:PP},e.map(n=>n.\u0275providers)])}function xP(t){return t.routerState.root}function PP(){let t=w(Et);return e=>{let n=t.get(Xs);if(e!==n.components[0])return;let r=t.get(ut),i=t.get(OP);t.get(kP)===1&&r.initialNavigation(),t.get(FP,null,L.Optional)?.setUpPreloading(),t.get(NP,null,L.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OP=new N("",{factory:()=>new Fe}),kP=new N("",{providedIn:"root",factory:()=>1});var FP=new N("");function LP(t,e){if(t&1&&(T(0,"div",8)(1,"h5",23),Q(2),S()()),t&2){let n=JI();ot(2),Kc(n.usuario)}}var oE=(()=>{let e=class e{constructor(r){this.router=r,this.userButton="",this.usuario=null}ngOnInit(){this.usuario=localStorage.getItem("Tp1UsuarioLogueado"),this.usuario==null||this.usuario==null?this.userButton=Do.Ingresar:this.userButton=Do.Salir}goTo(r){this.router.navigate([r])}cerrarSesion(){localStorage.removeItem("Tp1UsuarioLogueado"),this.goTo("/login")}userButtonClick(){this.userButton==Do.Ingresar?this.goTo("/login"):this.userButton==Do.Salir&&this.cerrarSesion()}toggleNavbar(){document.getElementById("mi-navbar").classList.toggle("is-active")}};e.\u0275fac=function(i){return new(i||e)(G(ut))},e.\u0275cmp=Je({type:e,selectors:[["app-home"]],standalone:!0,features:[Ze],decls:55,vars:2,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],[1,"navbar-brand"],[1,"navbar-start"],["role","button","aria-label","menu","aria-expanded","false",1,"navbar-burger",3,"click"],["aria-hidden","true"],["id","mi-navbar",1,"navbar-menu"],[1,"navbar-item",3,"click"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],[1,"button","is-primary",3,"click"],[2,"width","90vw","margin","auto"],[1,"grid","gap-7","pt-6"],[1,"cell","p-2","m-2"],[1,"card"],[1,"card-image","p-3"],[1,"image","is-4by3"],["src","../../../assets/tateti.png","alt","Placeholder image"],[1,"media-content"],[1,"title","is-3","p-2",2,"text-align","center"],["src","../../../assets/memotest.png","alt","Placeholder image"],["src","../../../assets/ppt.jpg","alt","Placeholder image"],["src","../../../assets/jueguito.png","alt","Placeholder image"],[1,"title","is-5"]],template:function(i,s){i&1&&(T(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),he("click",function(){return s.toggleNavbar()}),me(4,"span",4)(5,"span",4)(6,"span",4)(7,"span",4),S()()(),T(8,"div",5)(9,"div",2)(10,"a",6),he("click",function(){return s.goTo("/home")}),Q(11," Home "),S(),T(12,"a",6),he("click",function(){return s.goTo("/about")}),Q(13," Quien soy "),S()(),T(14,"div",7),hf(15,LP,3,1,"div",8),T(16,"div",8)(17,"div",9)(18,"a",10),he("click",function(){return s.userButtonClick()}),T(19,"strong"),Q(20),S()()()()()()(),T(21,"div",11)(22,"div",12)(23,"div",13)(24,"div",14)(25,"div",15)(26,"figure",16),me(27,"img",17),S()(),T(28,"div",18)(29,"p",19),Q(30,"Tateti"),S()()()(),T(31,"div",13)(32,"div",14)(33,"div",15)(34,"figure",16),me(35,"img",20),S()(),T(36,"div",18)(37,"p",19),Q(38,"Memotest"),S()()()(),T(39,"div",13)(40,"div",14)(41,"div",15)(42,"figure",16),me(43,"img",21),S()(),T(44,"div",18)(45,"p",19),Q(46,"Piedra, papel o tijeras"),S()()()(),T(47,"div",13)(48,"div",14)(49,"div",15)(50,"figure",16),me(51,"img",22),S()(),T(52,"div",18)(53,"p",19),Q(54,"Otro juego"),S()()()()()()),i&2&&(ot(15),QI(15,s.usuario!=null?15:-1),ot(5),Kc(s.userButton))}});let t=e;return t})(),Do=function(t){return t.Ingresar="Ingresar",t.Salir="Cerrar Sesi\xF3n",t}(Do||{});var pE=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(G(Dr),G(Vn))},e.\u0275dir=Gt({type:e});let t=e;return t})(),VP=(()=>{let e=class e extends pE{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Js(e)))(s||e)}})(),e.\u0275dir=Gt({type:e,features:[Fi]});let t=e;return t})(),gE=new N("");var UP={provide:gE,useExisting:Gs(()=>Yi),multi:!0};function jP(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var BP=new N(""),Yi=(()=>{let e=class e extends pE{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!jP())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(G(Dr),G(Vn),G(BP,8))},e.\u0275dir=Gt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&he("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[gf([UP]),Fi]});let t=e;return t})();var $P=new N(""),HP=new N("");function mE(t){return t!=null}function yE(t){return br(t)?de(t):t}function vE(t){let e={};return t.forEach(n=>{e=n!=null?I(I({},e),n):e}),Object.keys(e).length===0?null:e}function _E(t,e){return e.map(n=>n(t))}function qP(t){return!t.validate}function IE(t){return t.map(e=>qP(e)?e:n=>e.validate(n))}function zP(t){if(!t)return null;let e=t.filter(mE);return e.length==0?null:function(n){return vE(_E(n,e))}}function wE(t){return t!=null?zP(IE(t)):null}function GP(t){if(!t)return null;let e=t.filter(mE);return e.length==0?null:function(n){let r=_E(n,e).map(yE);return Dd(r).pipe($(vE))}}function EE(t){return t!=null?GP(IE(t)):null}function aE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WP(t){return t._rawValidators}function KP(t){return t._rawAsyncValidators}function pp(t){return t?Array.isArray(t)?t:[t]:[]}function yu(t,e){return Array.isArray(t)?t.includes(e):t===e}function cE(t,e){let n=pp(e);return pp(t).forEach(i=>{yu(n,i)||n.push(i)}),n}function uE(t,e){return pp(e).filter(n=>!yu(t,n))}var vu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wE(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=EE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},gp=class extends vu{get formDirective(){return null}get path(){return null}},bo=class extends vu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},mp=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},QP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},sG=ee(I({},QP),{"[class.ng-submitted]":"isSubmitted"}),_u=(()=>{let e=class e extends mp{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(G(bo,2))},e.\u0275dir=Gt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&pf("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Fi]});let t=e;return t})();var Co="VALID",mu="INVALID",Qi="PENDING",To="DISABLED";function YP(t){return(Iu(t)?t.validators:t)||null}function JP(t){return Array.isArray(t)?wE(t):t||null}function ZP(t,e){return(Iu(e)?e.asyncValidators:t)||null}function XP(t){return Array.isArray(t)?EE(t):t||null}function Iu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var yp=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Co}get invalid(){return this.status===mu}get pending(){return this.status==Qi}get disabled(){return this.status===To}get enabled(){return this.status!==To}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uE(e,this._rawAsyncValidators))}hasValidator(e){return yu(this._rawValidators,e)}hasAsyncValidator(e){return yu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Qi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=To,this.errors=null,this._forEachChild(r=>{r.disable(ee(I({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Co,this._forEachChild(r=>{r.enable(ee(I({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(I({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Co||this.status===Qi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?To:Co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Qi,this._hasOwnPendingAsyncValidator=!0;let n=yE(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?To:this.errors?mu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qi)?Qi:this._anyControlsHaveStatus(mu)?mu:Co}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Iu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=JP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=XP(this._rawAsyncValidators)}};var DE=new N("CallSetDisabledState",{providedIn:"root",factory:()=>vp}),vp="always";function eO(t,e){return[...e.path,t]}function tO(t,e,n=vp){rO(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),iO(t,e),oO(t,e),sO(t,e),nO(t,e)}function lE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function nO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function rO(t,e){let n=WP(t);e.validator!==null?t.setValidators(aE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=KP(t);e.asyncValidator!==null?t.setAsyncValidators(aE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();lE(e._rawValidators,i),lE(e._rawAsyncValidators,i)}function iO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&CE(t,e)})}function sO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&CE(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function CE(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function aO(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function cO(t){return Object.getPrototypeOf(t.constructor)===VP}function uO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Yi?n=s:cO(s)?r=s:i=s}),i||r||n||null}function dE(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function hE(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var lO=class extends yp{constructor(e=null,n,r){super(YP(n),ZP(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(hE(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dE(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dE(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){hE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dO={provide:bo,useExisting:Gs(()=>So)},fE=Promise.resolve(),So=(()=>{let e=class e extends bo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new lO,this._registered=!1,this.name="",this.update=new qe,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=uO(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),aO(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){fE.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Ar(i);fE.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?eO(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(G(gp,9),G($P,10),G(HP,10),G(gE,10),G(Sr,8),G(DE,8))},e.\u0275dir=Gt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ze.None,"disabled","isDisabled"],model:[ze.None,"ngModel","model"],options:[ze.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[gf([dO]),Fi,wr]});let t=e;return t})();var hO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=It({type:e}),e.\u0275inj=_t({});let t=e;return t})();var wu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:DE,useValue:r.callSetDisabledState??vp}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=It({type:e}),e.\u0275inj=_t({imports:[hO]});let t=e;return t})();var SE=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},fO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Ip;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ip=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pO=function(t){let e=SE(t);return AE.encodeByteArray(e,!0)},Ao=function(t){return pO(t).replace(/\./g,"")},Ep=function(t){try{return AE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mO=()=>gO().__FIREBASE_DEFAULTS__,yO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ep(t[1]);return e&&JSON.parse(e)},Du=()=>{try{return mO()||yO()||vO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dp=t=>{var e,n;return(n=(e=Du())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ME=t=>{let e=Dp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Cp=()=>{var t;return(t=Du())===null||t===void 0?void 0:t.config},Tp=t=>{var e;return(e=Du())===null||e===void 0?void 0:e[`_${t}`]};var Eu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function RE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ao(JSON.stringify(n)),Ao(JSON.stringify(o)),""].join(".")}function Ce(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function _O(){var t;let e=(t=Du())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xE(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OE(){let t=Ce();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kE(){return!_O()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bp(){try{return typeof indexedDB=="object"}catch{return!1}}function FE(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var IO="FirebaseError",lt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mn.prototype.create)}},mn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?wO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lt(i,a,r)}};function wO(t,e){return t.replace(EO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EO=/\{\$([^}]+)}/g;function LE(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Or(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(bE(s)&&bE(o)){if(!Or(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function bE(t){return t!==null&&typeof t=="object"}function Mo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ji(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Zi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VE(t,e){let n=new wp(t,e);return n.subscribe.bind(n)}var wp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_p),i.error===void 0&&(i.error=_p),i.complete===void 0&&(i.complete=_p);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function DO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _p(){}var cG=4*60*60*1e3;function et(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var kr="[DEFAULT]";var Sp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Eu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TO(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function CO(t){return t===kr?void 0:t}function TO(t){return t.instantiationMode==="EAGER"}var Cu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bO=[],H=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(H||{}),SO={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},AO=H.INFO,MO={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},RO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=MO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qn=class{constructor(e){this.name=e,this._logLevel=AO,this._logHandler=RO,this._userLogHandler=null,bO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}};var NO=(t,e)=>e.some(n=>t instanceof n),UE,jE;function xO(){return UE||(UE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PO(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var BE=new WeakMap,Mp=new WeakMap,$E=new WeakMap,Ap=new WeakMap,Np=new WeakMap;function OO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Qt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,t)}).catch(()=>{}),Np.set(e,t),e}function kO(t){if(Mp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Mp.set(t,e)}var Rp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$E.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HE(t){Rp=t(Rp)}function FO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Tu(this),e,...n);return $E.set(r,e.sort?e.sort():[e]),Qt(r)}:PO().includes(t)?function(...e){return t.apply(Tu(this),e),Qt(BE.get(this))}:function(...e){return Qt(t.apply(Tu(this),e))}}function LO(t){return typeof t=="function"?FO(t):(t instanceof IDBTransaction&&kO(t),NO(t,xO())?new Proxy(t,Rp):t)}function Qt(t){if(t instanceof IDBRequest)return OO(t);if(Ap.has(t))return Ap.get(t);let e=LO(t);return e!==t&&(Ap.set(t,e),Np.set(e,t)),e}var Tu=t=>Np.get(t);function zE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Qt(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Qt(o.result),c.oldVersion,c.newVersion,Qt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var VO=["get","getKey","getAll","getAllKeys","count"],UO=["put","add","delete","clear"],xp=new Map;function qE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=UO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VO.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return xp.set(e,s),s}HE(t=>ee(I({},t),{get:(e,n,r)=>qE(e,n)||t.get(e,n,r),has:(e,n)=>!!qE(e,n)||t.has(e,n)}));var Op=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function jO(t){let e=t.getComponent();return e?.type==="VERSION"}var kp="@firebase/app",GE="0.10.2";var Fr=new qn("@firebase/app"),BO="@firebase/app-compat",$O="@firebase/analytics-compat",HO="@firebase/analytics",qO="@firebase/app-check-compat",zO="@firebase/app-check",GO="@firebase/auth",WO="@firebase/auth-compat",KO="@firebase/database",QO="@firebase/database-compat",YO="@firebase/functions",JO="@firebase/functions-compat",ZO="@firebase/installations",XO="@firebase/installations-compat",ek="@firebase/messaging",tk="@firebase/messaging-compat",nk="@firebase/performance",rk="@firebase/performance-compat",ik="@firebase/remote-config",sk="@firebase/remote-config-compat",ok="@firebase/storage",ak="@firebase/storage-compat",ck="@firebase/firestore",uk="@firebase/firestore-compat",lk="firebase",dk="10.11.1";var Fp="[DEFAULT]",hk={[kp]:"fire-core",[BO]:"fire-core-compat",[HO]:"fire-analytics",[$O]:"fire-analytics-compat",[zO]:"fire-app-check",[qO]:"fire-app-check-compat",[GO]:"fire-auth",[WO]:"fire-auth-compat",[KO]:"fire-rtdb",[QO]:"fire-rtdb-compat",[YO]:"fire-fn",[JO]:"fire-fn-compat",[ZO]:"fire-iid",[XO]:"fire-iid-compat",[ek]:"fire-fcm",[tk]:"fire-fcm-compat",[nk]:"fire-perf",[rk]:"fire-perf-compat",[ik]:"fire-rc",[sk]:"fire-rc-compat",[ok]:"fire-gcs",[ak]:"fire-gcs-compat",[ck]:"fire-fst",[uk]:"fire-fst-compat","fire-js":"fire-js",[lk]:"fire-js-all"};var Ro=new Map,fk=new Map,Lp=new Map;function WE(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gn(t){let e=t.name;if(Lp.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Lp.set(e,t);for(let n of Ro.values())WE(n,t);for(let n of fk.values())WE(n,t);return!0}function xo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ft(t){return t.settings!==void 0}var pk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new mn("app","Firebase",pk);var Vp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}};var Wn=dk;function Bp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=Cp()),!n)throw zn.create("no-options");let s=Ro.get(i);if(s){if(Or(n,s.options)&&Or(r,s.config))return s;throw zn.create("duplicate-app",{appName:i})}let o=new Cu(i);for(let c of Lp.values())o.addComponent(c);let a=new Vp(n,r,o);return Ro.set(i,a),a}function Xi(t=Fp){let e=Ro.get(t);if(!e&&t===Fp&&Cp())return Bp();if(!e)throw zn.create("no-app",{appName:t});return e}function bu(){return Array.from(Ro.values())}function Te(t,e,n){var r;let i=(r=hk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}Gn(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gk="firebase-heartbeat-database",mk=1,No="firebase-heartbeat-store",Pp=null;function JE(){return Pp||(Pp=zE(gk,mk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),Pp}function yk(t){return f(this,null,function*(){try{let n=(yield JE()).transaction(No),r=yield n.objectStore(No).get(ZE(t));return yield n.done,r}catch(e){if(e instanceof lt)Fr.warn(e.message);else{let n=zn.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(n.message)}}})}function KE(t,e){return f(this,null,function*(){try{let r=(yield JE()).transaction(No,"readwrite");yield r.objectStore(No).put(e,ZE(t)),yield r.done}catch(n){if(n instanceof lt)Fr.warn(n.message);else{let r=zn.create("idb-set",{originalErrorMessage:n?.message});Fr.warn(r.message)}}})}function ZE(t){return`${t.name}!${t.options.appId}`}var vk=1024,_k=30*24*60*60*1e3,Up=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QE();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=_k}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=QE(),{heartbeatsToSend:r,unsentEntries:i}=Ik(this._heartbeatsCache.heartbeats),s=Ao(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function QE(){return new Date().toISOString().substring(0,10)}function Ik(t,e=vk){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return bp()?FE().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return KE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function YE(t){return Ao(JSON.stringify({version:2,heartbeats:t})).length}function wk(t){Gn(new Tt("platform-logger",e=>new Op(e),"PRIVATE")),Gn(new Tt("heartbeat",e=>new Up(e),"PRIVATE")),Te(kp,GE,t),Te(kp,GE,"esm2017"),Te("fire-js","")}wk("");var Ek=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vt={},v,ug=ug||{},x=Ek||self;function ju(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Go(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Dk(t){return Object.prototype.hasOwnProperty.call(t,$p)&&t[$p]||(t[$p]=++Ck)}var $p="closure_uid_"+(1e9*Math.random()>>>0),Ck=0;function Tk(t,e,n){return t.call.apply(t.bind,arguments)}function bk(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ve(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ve=Tk:Ve=bk,Ve.apply(null,arguments)}function Su(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ae(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Kn(){this.s=this.s,this.o=this.o}var Sk=0;Kn.prototype.s=!1;Kn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Sk!=0)&&Dk(this)};Kn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var dD=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XE(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(ju(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ue(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var Ak=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};x.addEventListener("test",n,e),x.removeEventListener("test",n,e)}catch{}return t}();function Vo(t){return/^[\s\xa0]*$/.test(t)}function Bu(){var t=x.navigator;return t&&(t=t.userAgent)?t:""}function Yt(t){return Bu().indexOf(t)!=-1}function dg(t){return dg[" "](t),t}dg[" "]=function(){};function Mk(t,e){var n=y1;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Rk=Yt("Opera"),rs=Yt("Trident")||Yt("MSIE"),hD=Yt("Edge"),Wp=hD||rs,fD=Yt("Gecko")&&!(Bu().toLowerCase().indexOf("webkit")!=-1&&!Yt("Edge"))&&!(Yt("Trident")||Yt("MSIE"))&&!Yt("Edge"),Nk=Bu().toLowerCase().indexOf("webkit")!=-1&&!Yt("Edge");function pD(){var t=x.document;return t?t.documentMode:void 0}var Kp;e:{if(Au="",Mu=function(){var t=Bu();if(fD)return/rv:([^\);]+)(\)|;)/.exec(t);if(hD)return/Edge\/([\d\.]+)/.exec(t);if(rs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Nk)return/WebKit\/(\S+)/.exec(t);if(Rk)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Mu&&(Au=Mu?Mu[1]:""),rs&&(Ru=pD(),Ru!=null&&Ru>parseFloat(Au))){Kp=String(Ru);break e}Kp=Au}var Au,Mu,Ru,Qp;x.document&&rs?(Hp=pD(),Qp=Hp||parseInt(Kp,10)||void 0):Qp=void 0;var Hp,xk=Qp;function Uo(t,e){if(Ue.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fD){e:{try{dg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Pk[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Uo.$.h.call(this)}}Ae(Uo,Ue);var Pk={2:"touch",3:"pen",4:"mouse"};Uo.prototype.h=function(){Uo.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Wo="closure_listenable_"+(1e6*Math.random()|0),Ok=0;function kk(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Ok,this.fa=this.ia=!1}function $u(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function hg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function Fk(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function gD(t){let e={};for(let n in t)e[n]=t[n];return e}var eD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mD(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<eD.length;s++)n=eD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Hu(t){this.src=t,this.g={},this.h=0}Hu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jp(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new kk(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Yp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=dD(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&($u(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var fg="closure_lm_"+(1e6*Math.random()|0),qp={};function yD(t,e,n,r,i){if(r&&r.once)return _D(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yD(t,e[s],n,r,i);return null}return n=mg(n),t&&t[Wo]?t.O(e,n,Go(r)?!!r.capture:!!r,i):vD(t,e,n,!1,r,i)}function vD(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Go(i)?!!i.capture:!!i,a=gg(t);if(a||(t[fg]=a=new Hu(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Lk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ak||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wD(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Lk(){function t(n){return e.call(t.src,t.listener,n)}let e=Vk;return t}function _D(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_D(t,e[s],n,r,i);return null}return n=mg(n),t&&t[Wo]?t.P(e,n,Go(r)?!!r.capture:!!r,i):vD(t,e,n,!0,r,i)}function ID(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ID(t,e[s],n,r,i);else r=Go(r)?!!r.capture:!!r,n=mg(n),t&&t[Wo]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jp(s,n,r,i),-1<n&&($u(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=gg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jp(e,n,r,i)),(n=-1<t?e[t]:null)&&pg(n))}function pg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Wo])Yp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wD(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gg(e))?(Yp(n,t),n.h==0&&(n.src=null,e[fg]=null)):$u(t)}}}function wD(t){return t in qp?qp[t]:qp[t]="on"+t}function Vk(t,e){if(t.fa)t=!0;else{e=new Uo(e,this);var n=t.listener,r=t.la||t.src;t.ia&&pg(t),t=n.call(r,e)}return t}function gg(t){return t=t[fg],t instanceof Hu?t:null}var zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function mg(t){return typeof t=="function"?t:(t[zp]||(t[zp]=function(e){return t.handleEvent(e)}),t[zp])}function Se(){Kn.call(this),this.i=new Hu(this),this.S=this,this.J=null}Ae(Se,Kn);Se.prototype[Wo]=!0;Se.prototype.removeEventListener=function(t,e,n,r){ID(this,t,e,n,r)};function ke(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ue(e,t);else if(e instanceof Ue)e.target=e.target||t;else{var i=e;e=new Ue(r,t),mD(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Nu(o,r,!0,e)&&i}if(o=e.g=t,i=Nu(o,r,!0,e)&&i,i=Nu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Nu(o,r,!1,e)&&i}Se.prototype.N=function(){if(Se.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$u(n[r]);delete t.g[e],t.h--}}this.J=null};Se.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Se.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Nu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Yp(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var yg=x.JSON.stringify,Zp=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function Uk(){var t=vg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Xp=class{constructor(){this.h=this.g=null}add(e,n){let r=ED.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},ED=new Zp(()=>new eg,t=>t.reset()),eg=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function jk(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bk(t){x.setTimeout(()=>{throw t},0)}var jo,Bo=!1,vg=new Xp,DD=()=>{let t=x.Promise.resolve(void 0);jo=()=>{t.then($k)}},$k=()=>{for(var t;t=Uk();){try{t.h.call(t.g)}catch(n){Bk(n)}var e=ED;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Bo=!1};function qu(t,e){Se.call(this),this.h=t||1,this.g=e||x,this.j=Ve(this.qb,this),this.l=Date.now()}Ae(qu,Se);v=qu.prototype;v.ga=!1;v.T=null;v.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ke(this,"tick"),this.ga&&(_g(this),this.start()))}};v.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _g(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}v.N=function(){qu.$.N.call(this),_g(this),delete this.g};function Ig(t,e,n){if(typeof t=="function")n&&(t=Ve(t,n));else if(t&&typeof t.handleEvent=="function")t=Ve(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:x.setTimeout(t,e||0)}function CD(t){t.g=Ig(()=>{t.g=null,t.i&&(t.i=!1,CD(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var tg=class extends Kn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CD(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function $o(t){Kn.call(this),this.h=t,this.g={}}Ae($o,Kn);var tD=[];function TD(t,e,n,r){Array.isArray(n)||(n&&(tD[0]=n.toString()),n=tD);for(var i=0;i<n.length;i++){var s=yD(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function bD(t){hg(t.g,function(e,n){this.g.hasOwnProperty(n)&&pg(e)},t),t.g={}}$o.prototype.N=function(){$o.$.N.call(this),bD(this)};$o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zu(){this.g=!0}zu.prototype.Ea=function(){this.g=!1};function Hk(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function qk(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ts(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Gk(t,n)+(r?" "+r:"")})}function zk(t,e){t.info(function(){return"TIMEOUT: "+e})}zu.prototype.info=function(){};function Gk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return yg(n)}catch{return e}}var jr={},nD=null;function Gu(){return nD=nD||new Se}jr.Ta="serverreachability";function SD(t){Ue.call(this,jr.Ta,t)}Ae(SD,Ue);function Ho(t){let e=Gu();ke(e,new SD(e))}jr.STAT_EVENT="statevent";function AD(t,e){Ue.call(this,jr.STAT_EVENT,t),this.stat=e}Ae(AD,Ue);function Ge(t){let e=Gu();ke(e,new AD(e,t))}jr.Ua="timingevent";function MD(t,e){Ue.call(this,jr.Ua,t),this.size=e}Ae(MD,Ue);function Ko(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){t()},e)}var Wu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RD={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wg(){}wg.prototype.h=null;function rD(t){return t.h||(t.h=t.i())}function ND(){}var Qo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Eg(){Ue.call(this,"d")}Ae(Eg,Ue);function Dg(){Ue.call(this,"c")}Ae(Dg,Ue);var ng;function Ku(){}Ae(Ku,wg);Ku.prototype.g=function(){return new XMLHttpRequest};Ku.prototype.i=function(){return{}};ng=new Ku;function Yo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new $o(this),this.P=Wk,t=Wp?125:void 0,this.V=new qu(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xD}function xD(){this.i=null,this.g="",this.h=!1}var Wk=45e3,PD={},rg={};v=Yo.prototype;v.setTimeout=function(t){this.P=t};function ig(t,e,n){t.L=1,t.A=Yu(vn(e)),t.u=n,t.S=!0,OD(t,null)}function OD(t,e){t.G=Date.now(),Jo(t),t.B=vn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),$D(n.i,"t",r),t.o=0,n=t.l.J,t.h=new xD,t.g=uC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new tg(Ve(t.Pa,t,t.g),t.O)),TD(t.U,t.g,"readystatechange",t.nb),e=t.I?gD(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ho(),Hk(t.j,t.v,t.B,t.m,t.W,t.u)}v.nb=function(t){t=t.target;let e=this.M;e&&Jt(t)==3?e.l():this.Pa(t)};v.Pa=function(t){try{if(t==this.g)e:{let l=Jt(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Wp||this.g&&(this.h.h||this.g.ja()||aD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ho(3):Ho(2)),Qu(this);var n=this.g.da();this.ca=n;t:if(kD(this)){var r=aD(this.g);t="";var i=r.length,s=Jt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),Lo(this);var o="";break t}this.h.i=new x.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,qk(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vo(a)){var u=a;break t}}u=null}if(n=u)ts(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sg(this,n);else{this.i=!1,this.s=3,Ge(12),Lr(this),Lo(this);break e}}this.S?(FD(this,l,o),Wp&&this.i&&l==3&&(TD(this.U,this.V,"tick",this.mb),this.V.start())):(ts(this.j,this.m,o,null),sg(this,o)),l==4&&Lr(this),this.i&&!this.J&&(l==4?sC(this.l,this):(this.i=!1,Jo(this)))}else p1(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Lr(this),Lo(this)}}}catch{}finally{}};function kD(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function FD(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Kk(t,n),i==rg){e==4&&(t.s=4,Ge(14),r=!1),ts(t.j,t.m,null,"[Incomplete Response]");break}else if(i==PD){t.s=4,Ge(15),ts(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ts(t.j,t.m,i,null),sg(t,i);kD(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ge(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mg(e),e.M=!0,Ge(11))):(ts(t.j,t.m,n,"[Invalid Chunked Response]"),Lr(t),Lo(t))}v.mb=function(){if(this.g){var t=Jt(this.g),e=this.g.ja();this.o<e.length&&(Qu(this),FD(this,t,e),this.i&&t!=4&&Jo(this))}};function Kk(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?rg:(n=Number(e.substring(n,r)),isNaN(n)?PD:(r+=1,r+n>e.length?rg:(e=e.slice(r,r+n),t.o=r+n,e)))}v.cancel=function(){this.J=!0,Lr(this)};function Jo(t){t.Y=Date.now()+t.P,LD(t,t.P)}function LD(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ko(Ve(t.lb,t),e)}function Qu(t){t.C&&(x.clearTimeout(t.C),t.C=null)}v.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(zk(this.j,this.B),this.L!=2&&(Ho(),Ge(17)),Lr(this),this.s=2,Lo(this)):LD(this,this.Y-t)};function Lo(t){t.l.H==0||t.J||sC(t.l,t)}function Lr(t){Qu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,_g(t.V),bD(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function sg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||og(n.i,t))){if(!t.K&&og(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Fu(n),Xu(n);else break e;Ag(n),Ge(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ko(Ve(n.ib,n),6e3));if(1>=zD(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Vr(n,11)}else if((t.K||n.g==t)&&Fu(n),!Vo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Cg(s,s.h),s.h=null))}if(r.F){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ae(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=cC(r,r.J?r.pa:null,r.Y),o.K){GD(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Qu(a),Jo(a)),r.g=o}else rC(r);0<n.j.length&&el(n)}else u[0]!="stop"&&u[0]!="close"||Vr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Vr(n,7):Sg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ho(4)}catch{}}function Qk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(ju(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Yk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(ju(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function VD(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(ju(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Yk(t),r=Qk(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var UD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ur(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ur){this.h=t.h,Ou(this,t.j),this.s=t.s,this.g=t.g,ku(this,t.m),this.l=t.l;var e=t.i,n=new qo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),iD(this,n),this.o=t.o}else t&&(e=String(t).match(UD))?(this.h=!1,Ou(this,e[1]||"",!0),this.s=ko(e[2]||""),this.g=ko(e[3]||"",!0),ku(this,e[4]),this.l=ko(e[5]||"",!0),iD(this,e[6]||"",!0),this.o=ko(e[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}Ur.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fo(e,sD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fo(e,sD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fo(n,n.charAt(0)=="/"?e1:Xk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fo(n,n1)),t.join("")};function vn(t){return new Ur(t)}function Ou(t,e,n){t.j=n?ko(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ku(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function iD(t,e,n){e instanceof qo?(t.i=e,r1(t.i,t.h)):(n||(e=Fo(e,t1)),t.i=new qo(e,t.h))}function ae(t,e,n){t.i.set(e,n)}function Yu(t){return ae(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ko(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Zk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var sD=/[#\/\?@]/g,Xk=/[#\?:]/g,e1=/[#\?]/g,t1=/[#\?@]/g,n1=/#/g;function qo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qn(t){t.g||(t.g=new Map,t.h=0,t.i&&Jk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}v=qo.prototype;v.add=function(t,e){Qn(this),this.i=null,t=is(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jD(t,e){Qn(t),e=is(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BD(t,e){return Qn(t),e=is(t,e),t.g.has(e)}v.forEach=function(t,e){Qn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};v.ta=function(){Qn(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};v.Z=function(t){Qn(this);let e=[];if(typeof t=="string")BD(this,t)&&(e=e.concat(this.g.get(is(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};v.set=function(t,e){return Qn(this),this.i=null,t=is(this,t),BD(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};v.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function $D(t,e,n){jD(t,e),0<n.length&&(t.i=null,t.g.set(is(t,e),lg(n)),t.h+=n.length)}v.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function is(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function r1(t,e){e&&!t.j&&(Qn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jD(this,r),$D(this,i,n))},t)),t.j=e}var i1=class{constructor(t,e){this.g=t,this.map=e}};function HD(t){this.l=t||s1,x.PerformanceNavigationTiming?(t=x.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(x.g&&x.g.Ka&&x.g.Ka()&&x.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var s1=10;function qD(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function zD(t){return t.h?1:t.g?t.g.size:0}function og(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cg(t,e){t.g?t.g.add(e):t.h=e}function GD(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}HD.prototype.cancel=function(){if(this.i=WD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function WD(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return lg(t.i)}var o1=class{stringify(t){return x.JSON.stringify(t,void 0)}parse(t){return x.JSON.parse(t,void 0)}};function a1(){this.g=new o1}function c1(t,e,n){let r=n||"";try{VD(t,function(i,s){let o=i;Go(i)&&(o=yg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function u1(t,e){let n=new zu;if(x.Image){let r=new Image;r.onload=Su(xu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Su(xu,n,r,"TestLoadImage: error",!1,e),r.onabort=Su(xu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Su(xu,n,r,"TestLoadImage: timeout",!1,e),x.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function xu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Zo(t){this.l=t.ec||null,this.j=t.ob||!1}Ae(Zo,wg);Zo.prototype.g=function(){return new Ju(this.l,this.j)};Zo.prototype.i=function(t){return function(){return t}}({});function Ju(t,e){Se.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ae(Ju,Se);var Tg=0;v=Ju.prototype;v.open=function(t,e){if(this.readyState!=Tg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,zo(this)};v.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||x).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};v.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=Tg};v.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,zo(this)),this.g&&(this.readyState=3,zo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;KD(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function KD(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}v.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xo(this):zo(this),this.readyState==3&&KD(this)}};v.Za=function(t){this.g&&(this.response=this.responseText=t,Xo(this))};v.Ya=function(t){this.g&&(this.response=t,Xo(this))};v.ka=function(){this.g&&Xo(this)};function Xo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,zo(t)}v.setRequestHeader=function(t,e){this.v.append(t,e)};v.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};v.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function zo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var l1=x.JSON.parse;function ue(t){Se.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=QD,this.L=this.M=!1}Ae(ue,Se);var QD="",d1=/^https?$/i,h1=["POST","PUT"];v=ue.prototype;v.Oa=function(t){this.M=t};v.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ng.g(),this.C=this.u?rD(this.u):rD(ng),this.g.onreadystatechange=Ve(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){oD(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=x.FormData&&t instanceof x.FormData,!(0<=dD(h1,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ZD(this),0<this.B&&((this.L=f1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ve(this.ua,this)):this.A=Ig(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){oD(this,s)}};function f1(t){return rs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}v.ua=function(){typeof ug<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ke(this,"timeout"),this.abort(8))};function oD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,YD(t),Zu(t)}function YD(t){t.F||(t.F=!0,ke(t,"complete"),ke(t,"error"))}v.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ke(this,"complete"),ke(this,"abort"),Zu(this))};v.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zu(this,!0)),ue.$.N.call(this)};v.La=function(){this.s||(this.G||this.v||this.l?JD(this):this.kb())};v.kb=function(){JD(this)};function JD(t){if(t.h&&typeof ug<"u"&&(!t.C[1]||Jt(t)!=4||t.da()!=2)){if(t.v&&Jt(t)==4)Ig(t.La,0,t);else if(ke(t,"readystatechange"),Jt(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(UD)[1]||null;!i&&x.self&&x.self.location&&(i=x.self.location.protocol.slice(0,-1)),r=!d1.test(i?i.toLowerCase():"")}n=r}if(n)ke(t,"complete"),ke(t,"success");else{t.m=6;try{var s=2<Jt(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",YD(t)}}finally{Zu(t)}}}}function Zu(t,e){if(t.g){ZD(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ke(t,"ready");try{n.onreadystatechange=r}catch{}}}function ZD(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(x.clearTimeout(t.A),t.A=null)}v.isActive=function(){return!!this.g};function Jt(t){return t.g?t.g.readyState:0}v.da=function(){try{return 2<Jt(this)?this.g.status:-1}catch{return-1}};v.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};v.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),l1(e)}};function aD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case QD:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function p1(t){let e={};t=(t.g&&2<=Jt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Vo(t[r]))continue;var n=jk(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}Fk(e,function(r){return r.join(", ")})}v.Ia=function(){return this.m};v.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function XD(t){let e="";return hg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function bg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=XD(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ae(t,e,n))}function Po(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eC(t){this.Ga=0,this.j=[],this.l=new zu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Po("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Po("baseRetryDelayMs",5e3,t),this.hb=Po("retryDelaySeedMs",1e4,t),this.eb=Po("forwardChannelMaxRetries",2,t),this.xa=Po("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HD(t&&t.concurrentRequestLimit),this.Ja=new a1,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}v=eC.prototype;v.ra=8;v.H=1;function Sg(t){if(tC(t),t.H==3){var e=t.W++,n=vn(t.I);if(ae(n,"SID",t.K),ae(n,"RID",e),ae(n,"TYPE","terminate"),ea(t,n),e=new Yo(t,t.l,e),e.L=2,e.A=Yu(vn(n)),n=!1,x.navigator&&x.navigator.sendBeacon)try{n=x.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&x.Image&&(new Image().src=e.A,n=!0),n||(e.g=uC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Jo(e)}aC(t)}function Xu(t){t.g&&(Mg(t),t.g.cancel(),t.g=null)}function tC(t){Xu(t),t.u&&(x.clearTimeout(t.u),t.u=null),Fu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&x.clearTimeout(t.m),t.m=null)}function el(t){if(!qD(t.i)&&!t.m){t.m=!0;var e=t.Na;jo||DD(),Bo||(jo(),Bo=!0),vg.add(e,t),t.C=0}}function g1(t,e){return zD(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ko(Ve(t.Na,t,e),oC(t,t.C)),t.C++,!0)}v.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Yo(this,this.l,t),s=this.s;if(this.U&&(s?(s=gD(s),mD(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=nC(this,i,e),n=vn(this.I),ae(n,"RID",t),ae(n,"CVER",22),this.F&&ae(n,"X-HTTP-Session-Id",this.F),ea(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(XD(s)))+"&"+e:this.o&&bg(n,this.o,s)),Cg(this.i,i),this.bb&&ae(n,"TYPE","init"),this.P?(ae(n,"$req",e),ae(n,"SID","null"),i.aa=!0,ig(i,n,null)):ig(i,n,e),this.H=2}}else this.H==3&&(t?cD(this,t):this.j.length==0||qD(this.i)||cD(this))};function cD(t,e){var n;e?n=e.m:n=t.W++;let r=vn(t.I);ae(r,"SID",t.K),ae(r,"RID",n),ae(r,"AID",t.V),ea(t,r),t.o&&t.s&&bg(r,t.o,t.s),n=new Yo(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=nC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cg(t.i,n),ig(n,r,e)}function ea(t,e){t.na&&hg(t.na,function(n,r){ae(e,r,n)}),t.h&&VD({},function(n,r){ae(e,r,n)})}function nC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ve(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{c1(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function rC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;jo||DD(),Bo||(jo(),Bo=!0),vg.add(e,t),t.A=0}}function Ag(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ko(Ve(t.Ma,t),oC(t,t.A)),t.A++,!0)}v.Ma=function(){if(this.u=null,iC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ko(Ve(this.jb,this),t)}};v.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ge(10),Xu(this),iC(this))};function Mg(t){t.B!=null&&(x.clearTimeout(t.B),t.B=null)}function iC(t){t.g=new Yo(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=vn(t.wa);ae(e,"RID","rpc"),ae(e,"SID",t.K),ae(e,"AID",t.V),ae(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ae(e,"TO",t.qa),ae(e,"TYPE","xmlhttp"),ea(t,e),t.o&&t.s&&bg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Yu(vn(e)),n.u=null,n.S=!0,OD(n,t)}v.ib=function(){this.v!=null&&(this.v=null,Xu(this),Ag(this),Ge(19))};function Fu(t){t.v!=null&&(x.clearTimeout(t.v),t.v=null)}function sC(t,e){var n=null;if(t.g==e){Fu(t),Mg(t),t.g=null;var r=2}else if(og(t.i,e))n=e.F,GD(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Gu(),ke(r,new MD(r,n)),el(t)}else rC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&g1(t,e)||r==2&&Ag(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Vr(t,5);break;case 4:Vr(t,10);break;case 3:Vr(t,6);break;default:Vr(t,2)}}}function oC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Vr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ve(t.pb,t);n||(n=new Ur("//www.google.com/images/cleardot.gif"),x.location&&x.location.protocol=="http"||Ou(n,"https"),Yu(n)),u1(n.toString(),r)}else Ge(2);t.H=0,t.h&&t.h.za(e),aC(t),tC(t)}v.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ge(2)):(this.l.info("Failed to ping google.com"),Ge(1))};function aC(t){if(t.H=0,t.ma=[],t.h){let e=WD(t.i);(e.length!=0||t.j.length!=0)&&(XE(t.ma,e),XE(t.ma,t.j),t.i.i.length=0,lg(t.j),t.j.length=0),t.h.ya()}}function cC(t,e,n){var r=n instanceof Ur?vn(n):new Ur(n);if(r.g!="")e&&(r.g=e+"."+r.g),ku(r,r.m);else{var i=x.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ur(null);r&&Ou(s,r),e&&(s.g=e),i&&ku(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ae(r,n,e),ae(r,"VER",t.ra),ea(t,r),r}function uC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ue(new Zo({ob:n})):new ue(t.va),e.Oa(t.J),e}v.isActive=function(){return!!this.h&&this.h.isActive(this)};function lC(){}v=lC.prototype;v.Ba=function(){};v.Aa=function(){};v.za=function(){};v.ya=function(){};v.isActive=function(){return!0};v.Va=function(){};function Lu(){if(rs&&!(10<=Number(xk)))throw Error("Environmental error: no available transport.")}Lu.prototype.g=function(t,e){return new dt(t,e)};function dt(t,e){Se.call(this),this.g=new eC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Vo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ss(this)}Ae(dt,Se);dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ge(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cC(t,null,t.Y),el(t)};dt.prototype.close=function(){Sg(this.g)};dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=yg(t),t=n);e.j.push(new i1(e.fb++,t)),e.H==3&&el(e)};dt.prototype.N=function(){this.g.h=null,delete this.j,Sg(this.g),delete this.g,dt.$.N.call(this)};function dC(t){Eg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ae(dC,Eg);function hC(){Dg.call(this),this.status=1}Ae(hC,Dg);function ss(t){this.g=t}Ae(ss,lC);ss.prototype.Ba=function(){ke(this.g,"a")};ss.prototype.Aa=function(t){ke(this.g,new dC(t))};ss.prototype.za=function(t){ke(this.g,new hC)};ss.prototype.ya=function(){ke(this.g,"b")};function m1(){this.blockSize=-1}function Lt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ae(Lt,m1);Lt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Gp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Lt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Gp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Gp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Gp(this,r),i=0;break}}this.h=i,this.i+=e};Lt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function X(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var y1={};function Rg(t){return-128<=t&&128>t?Mk(t,function(e){return new X([e|0],0>e?-1:0)}):new X([t|0],0>t?-1:0)}function Zt(t){if(isNaN(t)||!isFinite(t))return ns;if(0>t)return Oe(Zt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ag;return new X(e,0)}function fC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Oe(fC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Zt(Math.pow(e,8)),r=ns,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Zt(Math.pow(e,s)),r=r.R(s).add(Zt(o))):(r=r.R(n),r=r.add(Zt(o)))}return r}var ag=4294967296,ns=Rg(0),cg=Rg(1),uD=Rg(16777216);v=X.prototype;v.ea=function(){if(bt(this))return-Oe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ag+r)*e,e*=ag}return t};v.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(yn(this))return"0";if(bt(this))return"-"+Oe(this).toString(t);for(var e=Zt(Math.pow(t,6)),n=this,r="";;){var i=Uu(n,e).g;n=Vu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,yn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};v.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function yn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function bt(t){return t.h==-1}v.X=function(t){return t=Vu(this,t),bt(t)?-1:yn(t)?0:1};function Oe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new X(n,~t.h).add(cg)}v.abs=function(){return bt(this)?Oe(this):this};v.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new X(n,n[n.length-1]&-2147483648?-1:0)};function Vu(t,e){return t.add(Oe(e))}v.R=function(t){if(yn(this)||yn(t))return ns;if(bt(this))return bt(t)?Oe(this).R(Oe(t)):Oe(Oe(this).R(t));if(bt(t))return Oe(this.R(Oe(t)));if(0>this.X(uD)&&0>t.X(uD))return Zt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Pu(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Pu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Pu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Pu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new X(n,0)};function Pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Oo(t,e){this.g=t,this.h=e}function Uu(t,e){if(yn(e))throw Error("division by zero");if(yn(t))return new Oo(ns,ns);if(bt(t))return e=Uu(Oe(t),e),new Oo(Oe(e.g),Oe(e.h));if(bt(e))return e=Uu(t,Oe(e)),new Oo(Oe(e.g),e.h);if(30<t.g.length){if(bt(t)||bt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cg,r=e;0>=r.X(t);)n=lD(n),r=lD(r);var i=es(n,1),s=es(r,1);for(r=es(r,2),n=es(n,2);!yn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=es(r,1),n=es(n,1)}return e=Vu(t,i.R(e)),new Oo(i,e)}for(i=ns;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Zt(n),o=s.R(e);bt(o)||0<o.X(t);)n-=r,s=Zt(n),o=s.R(e);yn(s)&&(s=cg),i=i.add(s),t=Vu(t,o)}return new Oo(i,t)}v.gb=function(t){return Uu(this,t).h};v.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new X(n,this.h&t.h)};v.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new X(n,this.h|t.h)};v.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new X(n,this.h^t.h)};function lD(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new X(n,t.h)}function es(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new X(i,t.h)}Lu.prototype.createWebChannel=Lu.prototype.g;dt.prototype.send=dt.prototype.u;dt.prototype.open=dt.prototype.m;dt.prototype.close=dt.prototype.close;Wu.NO_ERROR=0;Wu.TIMEOUT=8;Wu.HTTP_ERROR=6;RD.COMPLETE="complete";ND.EventType=Qo;Qo.OPEN="a";Qo.CLOSE="b";Qo.ERROR="c";Qo.MESSAGE="d";Se.prototype.listen=Se.prototype.O;ue.prototype.listenOnce=ue.prototype.P;ue.prototype.getLastError=ue.prototype.Sa;ue.prototype.getLastErrorCode=ue.prototype.Ia;ue.prototype.getStatus=ue.prototype.da;ue.prototype.getResponseJson=ue.prototype.Wa;ue.prototype.getResponseText=ue.prototype.ja;ue.prototype.send=ue.prototype.ha;ue.prototype.setWithCredentials=ue.prototype.Oa;Lt.prototype.digest=Lt.prototype.l;Lt.prototype.reset=Lt.prototype.reset;Lt.prototype.update=Lt.prototype.j;X.prototype.add=X.prototype.add;X.prototype.multiply=X.prototype.R;X.prototype.modulo=X.prototype.gb;X.prototype.compare=X.prototype.X;X.prototype.toNumber=X.prototype.ea;X.prototype.toString=X.prototype.toString;X.prototype.getBits=X.prototype.D;X.fromNumber=Zt;X.fromString=fC;var pC=Vt.createWebChannelTransport=function(){return new Lu},gC=Vt.getStatEventTarget=function(){return Gu()},tl=Vt.ErrorCode=Wu,mC=Vt.EventType=RD,yC=Vt.Event=jr,Ng=Vt.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vC=Vt.FetchXmlHttpFactory=Zo,ta=Vt.WebChannel=ND,_C=Vt.XhrIo=ue,v1=Vt.Md5=Lt,IC=Vt.Integer=X;var wC="@firebase/firestore";var Me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");var Ds="10.11.1";var qr=new qn("@firebase/firestore");function na(){return qr.logLevel}function E(t,...e){if(qr.logLevel<=H.DEBUG){let n=e.map(Zm);qr.debug(`Firestore (${Ds}): ${t}`,...n)}}function zr(t,...e){if(qr.logLevel<=H.ERROR){let n=e.map(Zm);qr.error(`Firestore (${Ds}): ${t}`,...n)}}function al(t,...e){if(qr.logLevel<=H.WARN){let n=e.map(Zm);qr.warn(`Firestore (${Ds}): ${t}`,...n)}}function Zm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${Ds}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Ne(t,e){t||q()}function ce(t,e){return t}var g={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},b=class extends lt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _n=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var cl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Me.UNAUTHENTICATED))}shutdown(){}},Fg=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Lg=class{constructor(e){this.t=e,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new _n;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _n,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>f(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{E("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(E("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _n)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(E("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new cl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new Me(e)}},Vg=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Ug=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vg(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jg=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bg=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&E("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,E("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{E("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):E("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new jg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function _1(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ul=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_1(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function us(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var $e=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new b(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new b(g.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new b(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(g.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new $e(0,0))}static max(){return new t(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ll=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},_e=class t extends ll{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new b(g.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ht=class t extends ll{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return I1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new b(g.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new b(g.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new b(g.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(g.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var U=class t{constructor(e){this.path=e}static fromPath(e){return new t(_e.fromString(e))}static fromName(e){return new t(_e.fromString(e).popFirst(5))}static empty(){return new t(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new _e(e.slice()))}};var $g=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};$g.UNKNOWN_ID=-1;function w1(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Gr(i,U.empty(),e)}function E1(t){return new Gr(t.readTime,t.key,-1)}var Gr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(fe.min(),U.empty(),-1)}static max(){return new t(fe.max(),U.empty(),-1)}};function D1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=U.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var C1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function BC(t){return f(this,null,function*(){if(t.code!==g.FAILED_PRECONDITION||t.message!==C1)throw t;E("LocalStore","Unexpectedly lost primary lease")})}var y=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function T1(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}var b1=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Xm(t){return t==null}function ca(t){return t===0&&1/t==-1/0}function S1(t){return typeof t=="number"&&Number.isInteger(t)&&!ca(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var A1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],VG=[...A1,"documentOverlays"],M1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R1=M1,UG=[...R1,"indexConfiguration","indexState","indexEntries"];function EC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $C(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ft=class t{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new as(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new as(this.root,e,this.comparator,!1)}getReverseIterator(){return new as(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new as(this.root,e,this.comparator,!0)}},as=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},nn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var We=class t{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dl(this.data.getIterator())}getIteratorFrom(e){return new dl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},dl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tn=class t{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new t([])}unionWith(e){let n=new We(ht.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var qg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Jn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Jn.EMPTY_BYTE_STRING=new Jn("");var N1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zn(t){if(Ne(!!t),typeof t=="string"){let e=0,n=N1.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ls(t){return typeof t=="string"?Jn.fromBase64String(t):Jn.fromUint8Array(t)}function ey(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HC(t){let e=t.mapValue.fields.__previous_value__;return ey(e)?HC(e):e}function hl(t){let e=Zn(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}var zg=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Gg=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ey(t)?4:qC(t)?9007199254740991:10:q()}function rn(t,e){if(t===e)return!0;let n=ds(t);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Zn(i.timestampValue),a=Zn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ls(i.bytesValue).isEqual(ls(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),a=be(s.doubleValue);return o===a?ca(o)===ca(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],rn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(EC(o)!==EC(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!rn(o[c],a[c])))return!1;return!0}(t,e);default:return q()}}function ua(t,e){return(t.values||[]).find(n=>rn(n,e))!==void 0}function hs(t,e){if(t===e)return 0;let n=ds(t),r=ds(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=be(s.integerValue||s.doubleValue),c=be(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return DC(t.timestampValue,e.timestampValue);case 4:return DC(hl(t),hl(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){let a=ls(s),c=ls(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ie(a[u],c[u]);if(l!==0)return l}return ie(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ie(be(s.latitude),be(o.latitude));return a!==0?a:ie(be(s.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=hs(a[u],c[u]);if(l)return l}return ie(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===nl.mapValue&&o===nl.mapValue)return 0;if(s===nl.mapValue)return 1;if(o===nl.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ie(c[d],l[d]);if(h!==0)return h;let p=hs(a[c[d]],u[l[d]]);if(p!==0)return p}return ie(c.length,l.length)}(t.mapValue,e.mapValue);default:throw q()}}function DC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=Zn(t),r=Zn(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function fs(t){return Wg(t)}function Wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ls(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return U.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Wg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Wg(n.fields[o])}`;return i+"}"}(t.mapValue):q()}function Kg(t){return!!t&&"integerValue"in t}function ty(t){return!!t&&"arrayValue"in t}function sl(t){return!!t&&"mapValue"in t}function ia(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ia(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ia(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var en=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ia(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ha(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ia(this.value))}};function zC(t){let e=[];return ha(t.fields,(n,r)=>{let i=new ht([n]);if(sl(r)){let s=zC(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new tn(e)}var ps=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,fe.min(),fe.min(),fe.min(),en.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,fe.min(),fe.min(),en.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,fe.min(),fe.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var gs=class{constructor(e,n){this.position=e,this.inclusive=n}};function CC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=U.comparator(U.fromName(o.referenceValue),n.key):r=hs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function TC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rn(t.position[n],e.position[n]))return!1;return!0}var ms=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function x1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var fl=class{},Re=class t extends fl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Yg(e,n,r):n==="array-contains"?new Xg(e,r):n==="in"?new em(e,r):n==="not-in"?new tm(e,r):n==="array-contains-any"?new nm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Jg(e,r):new Zg(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hs(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xn=class t extends fl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return GC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function GC(t){return t.op==="and"}function WC(t){return P1(t)&&GC(t)}function P1(t){for(let e of t.filters)if(e instanceof Xn)return!1;return!0}function Qg(t){if(t instanceof Re)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(WC(t))return t.filters.map(e=>Qg(e)).join(",");{let e=t.filters.map(n=>Qg(n)).join(",");return`${t.op}(${e})`}}function KC(t,e){return t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.field.isEqual(i.field)&&rn(r.value,i.value)}(t,e):t instanceof Xn?function(r,i){return i instanceof Xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&KC(o,i.filters[a]),!0):!1}(t,e):void q()}function QC(t){return t instanceof Re?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(QC).join(" ,")+"}"}(t):"Filter"}var Yg=class extends Re{constructor(e,n,r){super(e,n,r),this.key=U.fromName(r.referenceValue)}matches(e){let n=U.comparator(e.key,this.key);return this.matchesComparison(n)}},Jg=class extends Re{constructor(e,n){super(e,"in",n),this.keys=YC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Zg=class extends Re{constructor(e,n){super(e,"not-in",n),this.keys=YC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function YC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>U.fromName(r.referenceValue))}var Xg=class extends Re{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ty(n)&&ua(n.arrayValue,this.value)}},em=class extends Re{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}},tm=class extends Re{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}},nm=class extends Re{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ty(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ua(this.value.arrayValue,r))}};var rm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function bC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new rm(t,e,n,r,i,s,o)}function ny(t){let e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.ue=n}return e.ue}function ry(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!x1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TC(t.startAt,e.startAt)&&TC(t.endAt,e.endAt)}var ys=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function O1(t,e,n,r,i,s,o,a){return new ys(t,e,n,r,i,s,o,a)}function k1(t){return new ys(t)}function SC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function F1(t){return t.collectionGroup!==null}function sa(t){let e=ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new We(ht.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ms(s,r))}),n.has(ht.keyField().canonicalString())||e.ce.push(new ms(ht.keyField(),r))}return e.ce}function $r(t){let e=ce(t);return e.le||(e.le=L1(e,sa(t))),e.le}function L1(t,e){if(t.limitType==="F")return bC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ms(i.field,s)});let n=t.endAt?new gs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gs(t.startAt.position,t.startAt.inclusive):null;return bC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function im(t,e,n){return new ys(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function JC(t,e){return ry($r(t),$r(e))&&t.limitType===e.limitType}function ZC(t){return`${ny($r(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QC(i)).join(", ")}]`),Xm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fs(i)).join(",")),`Target(${r})`}($r(t))}; limitType=${t.limitType})`}function iy(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):U.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of sa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=CC(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,sa(r),i)||r.endAt&&!function(o,a,c){let u=CC(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,sa(r),i))}(t,e)}function V1(t){return(e,n)=>{let r=!1;for(let i of sa(t)){let s=U1(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function U1(t,e,n){let r=t.field.isKeyField()?U.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?hs(c,u):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var er=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return $C(this.inner)}size(){return this.innerSize}};var j1=new ft(U.comparator);function pl(){return j1}var XC=new ft(U.comparator);function rl(...t){let e=XC;for(let n of t)e=e.insert(n.key,n);return e}function eT(t){let e=XC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Br(){return oa()}function tT(){return oa()}function oa(){return new er(t=>t.toString(),(t,e)=>t.isEqual(e))}var B1=new ft(U.comparator),$1=new We(U.comparator);function Be(...t){let e=$1;for(let n of t)e=e.add(n);return e}var H1=new We(ie);function q1(){return H1}function nT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(e)?"-0":e}}function rT(t){return{integerValue:""+t}}function z1(t,e){return S1(e)?rT(e):nT(t,e)}var vs=class{constructor(){this._=void 0}};function G1(t,e,n){return t instanceof _s?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ey(s)&&(s=HC(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wr?sT(t,e):t instanceof Kr?oT(t,e):function(i,s){let o=iT(i,s),a=AC(o)+AC(i.Pe);return Kg(o)&&Kg(i.Pe)?rT(a):nT(i.serializer,a)}(t,e)}function W1(t,e,n){return t instanceof Wr?sT(t,e):t instanceof Kr?oT(t,e):n}function iT(t,e){return t instanceof Is?function(r){return Kg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var _s=class extends vs{},Wr=class extends vs{constructor(e){super(),this.elements=e}};function sT(t,e){let n=aT(e);for(let r of t.elements)n.some(i=>rn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Kr=class extends vs{constructor(e){super(),this.elements=e}};function oT(t,e){let n=aT(e);for(let r of t.elements)n=n.filter(i=>!rn(i,r));return{arrayValue:{values:n}}}var Is=class extends vs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function AC(t){return be(t.integerValue||t.doubleValue)}function aT(t){return ty(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function K1(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wr&&i instanceof Wr||r instanceof Kr&&i instanceof Kr?us(r.elements,i.elements,rn):r instanceof Is&&i instanceof Is?rn(r.Pe,i.Pe):r instanceof _s&&i instanceof _s}(t.transform,e.transform)}var sm=class{constructor(e,n){this.version=e,this.transformResults=n}},Hr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ol(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ws=class{};function cT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gl(t.key,Hr.none()):new Qr(t.key,t.data,Hr.none());{let n=t.data,r=en.empty(),i=new We(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wn(t.key,r,new tn(i.toArray()),Hr.none())}}function Q1(t,e,n){t instanceof Qr?function(i,s,o){let a=i.value.clone(),c=RC(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wn?function(i,s,o){if(!ol(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=RC(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(uT(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function aa(t,e,n,r){return t instanceof Qr?function(s,o,a,c){if(!ol(s.precondition,o))return a;let u=s.value.clone(),l=NC(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wn?function(s,o,a,c){if(!ol(s.precondition,o))return a;let u=NC(s.fieldTransforms,c,o),l=o.data;return l.setAll(uT(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return ol(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Y1(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=iT(r.transform,i||null);s!=null&&(n===null&&(n=en.empty()),n.set(r.field,s))}return n||null}function MC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&us(r,i,(s,o)=>K1(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Qr=class extends ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wn=class extends ws{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function uT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function RC(t,e,n){let r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,W1(o,a,n[i]))}return r}function NC(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,G1(s,o,e))}return r}var gl=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},om=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var am=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Q1(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=tT();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=cT(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(n,r)=>MC(n,r))&&us(this.baseMutations,e.baseMutations,(n,r)=>MC(n,r))}},cm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return B1}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var um=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ye,Y;function J1(t){switch(t){default:return q();case g.CANCELLED:case g.UNKNOWN:case g.DEADLINE_EXCEEDED:case g.RESOURCE_EXHAUSTED:case g.INTERNAL:case g.UNAVAILABLE:case g.UNAUTHENTICATED:return!1;case g.INVALID_ARGUMENT:case g.NOT_FOUND:case g.ALREADY_EXISTS:case g.PERMISSION_DENIED:case g.FAILED_PRECONDITION:case g.ABORTED:case g.OUT_OF_RANGE:case g.UNIMPLEMENTED:case g.DATA_LOSS:return!0}}function Z1(t){if(t===void 0)return zr("GRPC error has no .code"),g.UNKNOWN;switch(t){case ye.OK:return g.OK;case ye.CANCELLED:return g.CANCELLED;case ye.UNKNOWN:return g.UNKNOWN;case ye.DEADLINE_EXCEEDED:return g.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return g.RESOURCE_EXHAUSTED;case ye.INTERNAL:return g.INTERNAL;case ye.UNAVAILABLE:return g.UNAVAILABLE;case ye.UNAUTHENTICATED:return g.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return g.INVALID_ARGUMENT;case ye.NOT_FOUND:return g.NOT_FOUND;case ye.ALREADY_EXISTS:return g.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return g.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return g.FAILED_PRECONDITION;case ye.ABORTED:return g.ABORTED;case ye.OUT_OF_RANGE:return g.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return g.UNIMPLEMENTED;case ye.DATA_LOSS:return g.DATA_LOSS;default:return q()}}(Y=ye||(ye={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";var BG=new IC([4294967295,4294967295],0);var lm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function dm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function eF(t,e){return dm(t,e.toTimestamp())}function cs(t){return Ne(!!t),fe.fromTimestamp(function(n){let r=Zn(n);return new $e(r.seconds,r.nanos)}(t))}function lT(t,e){return hm(t,e).canonicalString()}function hm(t,e){let n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tF(t){let e=_e.fromString(t);return Ne(uF(e)),e}function fm(t,e){return lT(t.databaseId,e.path)}function nF(t){let e=tF(t);return e.length===4?_e.emptyPath():iF(e)}function rF(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iF(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xC(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function sF(t,e){let n;if(e instanceof Qr)n={update:xC(t,e.key,e.value)};else if(e instanceof gl)n={delete:fm(t,e.key)};else if(e instanceof wn)n={update:xC(t,e.key,e.data),updateMask:cF(e.fieldMask)};else{if(!(e instanceof om))return q();n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof _s)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Kr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Is)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:eF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(t,e.precondition)),n}function oF(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?cs(i.updateTime):cs(s);return o.isEqual(fe.min())&&(o=cs(s)),new sm(o,i.transformResults||[])}(n,e))):[]}function aF(t){let e=nF(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ne(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=dT(d);return h instanceof Xn&&WC(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new ms(os(m.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Xm(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new gs(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new gs(p,h)}(n.endAt)),O1(e,i,o,s,a,"F",c,u)}function dT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=os(n.unaryFilter.field);return Re.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=os(n.unaryFilter.field);return Re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=os(n.unaryFilter.field);return Re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=os(n.unaryFilter.field);return Re.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Re.create(os(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(r=>dT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function os(t){return ht.fromServerFormat(t.fieldPath)}function cF(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pm=class{constructor(e){this.ut=e}};function lF(t){let e=aF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}var ml=class{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),ca(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(n,20),typeof r=="string"&&(r=Zn(r)),n.dt(`${r.seconds||""}`),n.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(ls(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?qC(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):q()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){let r=e.fields||{};this.Tt(n,55);for(let i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){let r=e.values||[];this.Tt(n,50);for(let i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),U.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}};ml.St=new ml;var gm=class{constructor(){this.on=new mm}addToCollectionParentIndex(e,n){return this.on.add(n),y.resolve()}getCollectionParents(e,n){return y.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return y.resolve()}deleteFieldIndex(e,n){return y.resolve()}deleteAllFieldIndexes(e){return y.resolve()}createTargetIndexes(e,n){return y.resolve()}getDocumentsMatchingTarget(e,n){return y.resolve(null)}getIndexType(e,n){return y.resolve(0)}getFieldIndexes(e,n){return y.resolve([])}getNextCollectionGroupToUpdate(e){return y.resolve(null)}getMinOffset(e,n){return y.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return y.resolve(Gr.min())}updateCollectionGroup(e,n,r){return y.resolve()}updateIndexEntries(e,n){return y.resolve()}},mm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(_e.comparator)).toArray()}};var $G=new Uint8Array(0);var Xt=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);var la=class t{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new t(0)}static Nn(){return new t(-1)}};var ym=class{constructor(){this.changes=new er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ps.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var vm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var _m=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&aa(r.mutation,i,tn.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){let i=Br();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Br();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=pl(),o=oa(),a=function(){return oa()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof wn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),aa(l.mutation,u,l.mutation.getFieldMask(),$e.now())):o.set(u.key,tn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new vm(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=oa(),i=new ft((o,a)=>o-a),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||tn.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||Be()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=tT();l.forEach(h=>{if(!s.has(h)){let p=cT(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return U.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):F1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):y.resolve(Br()),a=-1,c=s;return o.next(u=>y.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?y.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Be())).next(l=>({batchId:a,changes:eT(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new U(n)).next(r=>{let i=rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=rl();return this.indexManager.getCollectionParents(e,s).next(a=>y.forEach(a,c=>{let u=function(d,h){return new ys(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,ps.newInvalidDocument(l)))});let a=rl();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&aa(l.mutation,u,tn.empty(),$e.now()),iy(n,u)&&(a=a.insert(c,u))}),a})}};var Im=class{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return y.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cs(i.createTime)}}(n)),y.resolve()}getNamedQuery(e,n){return y.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:lF(i.bundledQuery),readTime:cs(i.readTime)}}(n)),y.resolve()}};var wm=class{constructor(){this.overlays=new ft(U.comparator),this.lr=new Map}getOverlay(e,n){return y.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Br();return y.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),y.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),y.resolve()}getOverlaysForCollection(e,n,r){let i=Br(),s=n.length+1,o=new U(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return y.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ft((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Br(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Br(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return y.resolve(a)}lt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new um(n,r));let s=this.lr.get(n);s===void 0&&(s=Be(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}};var da=class{constructor(){this.hr=new We(ve.Pr),this.Ir=new We(ve.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){let r=new ve(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ve(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){let n=new U(new _e([])),r=new ve(n,e),i=new ve(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){let n=new U(new _e([])),r=new ve(n,e),i=new ve(n,e+1),s=Be();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ve(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ve=class{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return U.comparator(e.key,n.key)||ie(e.gr,n.gr)}static Tr(e,n){return ie(e.gr,n.gr)||U.comparator(e.key,n.key)}};var Em=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new We(ve.Pr)}checkEmpty(e){return y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new am(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.yr=this.yr.add(new ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return y.resolve(o)}lookupMutationBatch(e,n){return y.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Sr(r),s=i<0?0:i;return y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return y.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ve(n,0),i=new ve(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{let a=this.wr(o.gr);s.push(a)}),y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ie);return n.forEach(i=>{let s=new ve(i,0),o=new ve(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),y.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;U.isDocumentKey(s)||(s=s.child(""));let o=new ve(new U(s),0),a=new We(ie);return this.yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),y.resolve(this.br(a))}br(e){let n=[];return e.forEach(r=>{let i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return y.forEach(n.mutations,i=>{let s=new ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){let r=new ve(n,0),i=this.yr.firstAfterOrEqual(r);return y.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,y.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){let n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Dm=class{constructor(e){this.Cr=e,this.docs=function(){return new ft(U.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return y.resolve(r?r.document.mutableCopy():ps.newInvalidDocument(n))}getEntries(e,n){let r=pl();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ps.newInvalidDocument(i))}),y.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pl(),o=n.path,a=new U(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||D1(E1(l),r)<=0||(i.has(l.key)||iy(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return y.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}vr(e,n){return y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Cm(this)}getSize(e){return y.resolve(this.size)}},Cm=class extends ym{constructor(e){super(),this._r=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),y.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}};var Tm=class{constructor(e){this.persistence=e,this.Fr=new er(n=>ny(n),ry),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new da,this.targetCount=0,this.Nr=la.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),y.resolve()}getLastRemoteSnapshotVersion(e){return y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return y.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),y.resolve()}kn(e){this.Fr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Nr=new la(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,y.resolve()}updateTargetData(e,n){return this.kn(n),y.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,y.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),y.waitFor(s).next(()=>i)}getTargetCount(e){return y.resolve(this.targetCount)}getTargetData(e,n){let r=this.Fr.get(n)||null;return y.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),y.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),y.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),y.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Or.mr(n);return y.resolve(r)}containsKey(e,n){return y.resolve(this.Or.containsKey(n))}};var bm=class{constructor(e,n){this.Lr={},this.overlays={},this.Br=new b1(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Tm(this),this.indexManager=new gm,this.remoteDocumentCache=function(i){return new Dm(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new pm(n),this.Kr=new Im(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Em(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){E("MemoryPersistence","Starting transaction:",e);let i=new Sm(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return y.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},Sm=class extends Hg{constructor(e){super(),this.currentSequenceNumber=e}},Am=class t{constructor(e){this.persistence=e,this.Gr=new da,this.zr=null}static jr(e){return new t(e)}get Hr(){if(this.zr)return this.zr;throw q()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),y.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),y.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),y.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return y.forEach(this.Hr,r=>{let i=U.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,fe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return y.or([()=>y.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}};var Mm=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Be(),i=Be();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Rm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Nm=class{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return kE()?8:T1(Ce())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Rm;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(na()<=H.DEBUG&&E("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),y.resolve()):(na()<=H.DEBUG&&E("QueryEngine","Query:",ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(na()<=H.DEBUG&&E("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):y.resolve())}zi(e,n){if(SC(n))return y.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=im(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=Be(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Yi(n,a);return this.Zi(n,u,o,c.readTime)?this.zi(e,im(n,null,"F")):this.Xi(e,u,n,c)}))})))}ji(e,n,r,i){return SC(n)||i.isEqual(fe.min())?y.resolve(null):this.Gi.getDocuments(e,r).next(s=>{let o=this.Yi(n,s);return this.Zi(n,o,r,i)?y.resolve(null):(na()<=H.DEBUG&&E("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ra(n)),this.Xi(e,o,n,w1(i,-1)).next(a=>a))})}Yi(e,n){let r=new We(V1(e));return n.forEach((i,s)=>{iy(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return na()<=H.DEBUG&&E("QueryEngine","Using full collection scan to execute query:",ra(n)),this.Gi.getDocumentsMatchingQuery(e,n,Gr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var xm=class{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ft(ie),this.ns=new er(s=>ny(s),ry),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _m(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}};function dF(t,e,n,r){return new xm(t,e,n,r)}function hT(t,e){return f(this,null,function*(){let n=ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=Be();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})})}function hF(t,e){let n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=y.resolve();return h.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(_=>{let D=u.docVersions.get(m);Ne(D!==null),_.version.compareTo(D)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),l.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Be();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fF(t){let e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function pF(t,e){let n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var yl=class{constructor(){this.activeTargetIds=q1()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Pm=class{constructor(){this.eo=new yl,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new yl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Om=class{ro(e){}shutdown(){}};var vl=class{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){E("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ao)e(0)}_o(){E("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var il=null;function xg(){return il===null?il=function(){return 268435456+Math.round(2147483648*Math.random())}():il++,"0x"+il.toString(16)}var gF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var km=class{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}};var je="WebChannelConnection",Fm=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${s}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(n,r,i,s,o){let a=xg(),c=this.Co(n,r.toUriEncodedString());E("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(n,c,u,i).then(l=>(E("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw al("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(n,r,i,s,o,a){return this.Do(n,r,i,s,o)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ds}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}Co(n,r){let i=gF[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){let s=xg();return new Promise((o,a)=>{let c=new _C;c.setWithCredentials(!0),c.listenOnce(mC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tl.NO_ERROR:let l=c.getResponseJson();E(je,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case tl.TIMEOUT:E(je,`RPC '${e}' ${s} timed out`),a(new b(g.DEADLINE_EXCEEDED,"Request time out"));break;case tl.HTTP_ERROR:let d=c.getStatus();if(E(je,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let m=function(D){let C=D.toLowerCase().replace(/_/g,"-");return Object.values(g).indexOf(C)>=0?C:g.UNKNOWN}(p.status);a(new b(m,p.message))}else a(new b(g.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new b(g.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{E(je,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);E(je,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}xo(e,n,r){let i=xg(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pC(),a=gC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new vC({})),this.vo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");E(je,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,m=new km({co:D=>{p?E(je,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(h||(E(je,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),E(je,`RPC '${e}' stream ${i} sending:`,D),d.send(D))},lo:()=>d.close()}),_=(D,C,se)=>{D.listen(C,ne=>{try{se(ne)}catch(pe){setTimeout(()=>{throw pe},0)}})};return _(d,ta.EventType.OPEN,()=>{p||(E(je,`RPC '${e}' stream ${i} transport opened.`),m.Vo())}),_(d,ta.EventType.CLOSE,()=>{p||(p=!0,E(je,`RPC '${e}' stream ${i} transport closed`),m.fo())}),_(d,ta.EventType.ERROR,D=>{p||(p=!0,al(je,`RPC '${e}' stream ${i} transport errored:`,D),m.fo(new b(g.UNAVAILABLE,"The operation could not be completed")))}),_(d,ta.EventType.MESSAGE,D=>{var C;if(!p){let se=D.data[0];Ne(!!se);let ne=se,pe=ne.error||((C=ne[0])===null||C===void 0?void 0:C.error);if(pe){E(je,`RPC '${e}' stream ${i} received error:`,pe);let pt=pe.status,Ie=function(or){let si=ye[or];if(si!==void 0)return Z1(si)}(pt),gt=pe.message;Ie===void 0&&(Ie=g.INTERNAL,gt="Unknown error status: "+pt+" with message "+pe.message),p=!0,m.fo(new b(Ie,gt)),d.close()}else E(je,`RPC '${e}' stream ${i} received:`,se),m.po(se)}}),_(a,yC.STAT_EVENT,D=>{D.stat===Ng.PROXY?E(je,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Ng.NOPROXY&&E(je,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.mo()},0),m}};function Pg(){return typeof document<"u"?document:null}function Ml(t){return new lm(t,!0)}var _l=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();let n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&E("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}};var Lm=class{constructor(e,n,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new _l(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}stop(){return f(this,null,function*(){this.Yo()&&(yield this.close(0))})}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){return f(this,null,function*(){if(this.Zo())return this.close(0)})}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,n){return f(this,null,function*(){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===g.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===g.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Eo(n)})}o_(){}auth(){this.state=1;let e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{let i=new b(g.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){let r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(()=>f(this,null,function*(){this.state=0,this.start()}))}u_(e){return E("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(E("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Vm=class extends Lm{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();let n=oF(e.writeResults,e.commitTime),r=cs(e.commitTime);return this.listener.d_(r,n)}return Ne(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){let e={};e.database=rF(this.serializer),this.r_(e)}E_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>sF(this.serializer,r))};this.r_(n)}};var Um=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new b(g.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,hm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(g.UNKNOWN,s.toString())})}Mo(e,n,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,hm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===g.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new b(g.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}};var jm=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(zr(n),this.y_=!1):E("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Bm=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(o=>{r.enqueueAndForget(()=>f(this,null,function*(){pa(this)&&(E("RemoteStore","Restarting streams for network reachability change."),yield function(c){return f(this,null,function*(){let u=ce(c);u.M_.add(4),yield fa(u),u.N_.set("Unknown"),u.M_.delete(4),yield Rl(u)})}(this))}))}),this.N_=new jm(r,i)}};function Rl(t){return f(this,null,function*(){if(pa(t))for(let e of t.x_)yield e(!0)})}function fa(t){return f(this,null,function*(){for(let e of t.x_)yield e(!1)})}function pa(t){return ce(t).M_.size===0}function fT(t,e,n){return f(this,null,function*(){if(!Al(e))throw e;t.M_.add(1),yield fa(t),t.N_.set("Offline"),n||(n=()=>fF(t.localStore)),t.asyncQueue.enqueueRetryable(()=>f(this,null,function*(){E("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Rl(t)}))})}function pT(t,e){return e().catch(n=>fT(t,n,e))}function Nl(t){return f(this,null,function*(){let e=ce(t),n=tr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;mF(e);)try{let i=yield pF(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,yF(e,i)}catch(i){yield fT(e,i)}gT(e)&&mT(e)})}function mF(t){return pa(t)&&t.v_.length<10}function yF(t,e){t.v_.push(e);let n=tr(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function gT(t){return pa(t)&&!tr(t).Yo()&&t.v_.length>0}function mT(t){tr(t).start()}function vF(t){return f(this,null,function*(){tr(t).R_()})}function _F(t){return f(this,null,function*(){let e=tr(t);for(let n of t.v_)e.E_(n.mutations)})}function IF(t,e,n){return f(this,null,function*(){let r=t.v_.shift(),i=cm.from(r,e,n);yield pT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Nl(t)})}function wF(t,e){return f(this,null,function*(){e&&tr(t).T_&&(yield function(r,i){return f(this,null,function*(){if(function(o){return J1(o)&&o!==g.ABORTED}(i.code)){let s=r.v_.shift();tr(r).e_(),yield pT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Nl(r)}})}(t,e)),gT(t)&&mT(t)})}function PC(t,e){return f(this,null,function*(){let n=ce(t);n.asyncQueue.verifyOperationInProgress(),E("RemoteStore","RemoteStore received new credentials");let r=pa(n);n.M_.add(3),yield fa(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Rl(n)})}function EF(t,e){return f(this,null,function*(){let n=ce(t);e?(n.M_.delete(2),yield Rl(n)):e||(n.M_.add(2),yield fa(n),n.N_.set("Unknown"))})}function tr(t){return t.k_||(t.k_=function(n,r,i){let s=ce(n);return s.m_(),new Vm(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:vF.bind(null,t),Eo:wF.bind(null,t),A_:_F.bind(null,t),d_:IF.bind(null,t)}),t.x_.push(e=>f(this,null,function*(){e?(t.k_.e_(),yield Nl(t)):(yield t.k_.stop(),t.v_.length>0&&(E("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var $m=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new b(g.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yT(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Al(t))return new b(g.UNAVAILABLE,`${e}: ${t}`);throw t}var Hm=class{constructor(){this.queries=new er(e=>ZC(e),JC),this.onlineState="Unknown",this.z_=new Set}};function DF(t){t.z_.forEach(e=>{e.next()})}var OC,kC;(kC=OC||(OC={})).J_="default",kC.Cache="cache";var qm=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new er(a=>ZC(a),JC),this.Da=new Map,this.Ca=new Set,this.va=new ft(U.comparator),this.Fa=new Map,this.Ma=new da,this.xa={},this.Oa=new Map,this.Na=la.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function CF(t,e,n){return f(this,null,function*(){let r=AF(t);try{let i=yield function(o,a){let c=ce(o),u=$e.now(),l=a.reduce((p,m)=>p.add(m.key),Be()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=pl(),_=Be();return c.ss.getEntries(p,l).next(D=>{m=D,m.forEach((C,se)=>{se.isValidDocument()||(_=_.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(D=>{d=D;let C=[];for(let se of a){let ne=Y1(se,d.get(se.key).overlayedDocument);ne!=null&&C.push(new wn(se.key,ne,zC(ne.value.mapValue),Hr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,C,a)}).next(D=>{h=D;let C=D.applyToLocalDocumentSet(d,_);return c.documentOverlayCache.saveOverlays(p,D.batchId,C)})}).then(()=>({batchId:h.batchId,changes:eT(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new ft(ie)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield xl(r,i.changes),yield Nl(r.remoteStore)}catch(i){let s=yT(i,"Failed to persist write");n.reject(s)}})}function FC(t,e,n){let r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ce(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.U_)h.j_(a)&&(u=!0)}),u&&DF(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TF(t,e){return f(this,null,function*(){let n=ce(t),r=e.batch.batchId;try{let i=yield hF(n.localStore,e);_T(n,r,null),vT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xl(n,i)}catch(i){yield BC(i)}})}function bF(t,e,n){return f(this,null,function*(){let r=ce(t);try{let i=yield function(o,a){let c=ce(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ne(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);_T(r,e,n),vT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xl(r,i)}catch(i){yield BC(i)}})}function vT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function _T(t,e,n){let r=ce(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function xl(t,e,n){return f(this,null,function*(){let r=ce(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=Mm.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield function(c,u){return f(this,null,function*(){let l=ce(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>y.forEach(u,h=>y.forEach(h.ki,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>y.forEach(h.qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Al(d))throw d;E("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ts.get(h),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);l.ts=l.ts.insert(h,_)}}})}(r.localStore,s))})}function SF(t,e){return f(this,null,function*(){let n=ce(t);if(!n.currentUser.isEqual(e)){E("SyncEngine","User change. New user:",e.toKey());let r=yield hT(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new b(g.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xl(n,r._s)}})}function AF(t){let e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bF.bind(null,e),e}var Il=class{constructor(){this.synchronizeTabs=!1}initialize(e){return f(this,null,function*(){this.serializer=Ml(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dF(this.persistence,new Nm,e.initialUser,this.serializer)}createPersistence(e){return new bm(Am.jr,this.serializer)}createSharedClientState(e){return new Pm}terminate(){return f(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var zm=class{initialize(e,n){return f(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SF.bind(null,this.syncEngine),yield EF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Hm}()}createDatastore(e){let n=Ml(e.databaseInfo.databaseId),r=function(s){return new Fm(s)}(e.databaseInfo);return function(s,o,a,c){return new Um(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Bm(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FC(this.syncEngine,n,0),function(){return vl.D()?new vl:new Om}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new qm(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return f(this,null,function*(){var e;yield function(r){return f(this,null,function*(){let i=ce(r);E("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield fa(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Gm=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Me.UNAUTHENTICATED,this.clientId=ul.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>f(this,null,function*(){E("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(E("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(g.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new _n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>f(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=yT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Og(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),E("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>f(this,null,function*(){r.isEqual(i)||(yield hT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function LC(t,e){return f(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield RF(t);E("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>PC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>PC(e.remoteStore,i)),t._onlineComponents=e})}function MF(t){return t.name==="FirebaseError"?t.code===g.FAILED_PRECONDITION||t.code===g.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function RF(t){return f(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){E("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Og(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!MF(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),yield Og(t,new Il)}}else E("FirestoreClient","Using default OfflineComponentProvider"),yield Og(t,new Il);return t._offlineComponents})}function NF(t){return f(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(E("FirestoreClient","Using user provided OnlineComponentProvider"),yield LC(t,t._uninitializedComponentsProvider._online)):(E("FirestoreClient","Using default OnlineComponentProvider"),yield LC(t,new zm))),t._onlineComponents})}function xF(t){return NF(t).then(e=>e.syncEngine)}function IT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var VC=new Map;function wT(t,e,n){if(!n)throw new b(g.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PF(t,e,n,r){if(e===!0&&r===!0)throw new b(g.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UC(t){if(!U.isDocumentKey(t))throw new b(g.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jC(t){if(U.isDocumentKey(t))throw new b(g.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function ET(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new b(g.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sy(t);throw new b(g.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var wl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new b(g.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new b(g.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new b(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new b(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new b(g.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Es=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(g.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new b(g.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kg;switch(r.type){case"firstParty":return new Ug(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new b(g.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=VC.get(n);r&&(E("ComponentProvider","Removing Datastore"),VC.delete(n),r.terminate())}(this),Promise.resolve()}};function DT(t,e,n,r={}){var i;let s=(t=ET(t,Es))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Me.MOCK_USER;else{a=RE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new b(g.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Me(u)}t._authCredentials=new Fg(new cl(a,c))}}var Wm=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},In=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Yn=class t extends Wm{constructor(e,n,r){super(e,n,k1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new U(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ga(t,e,...n){if(t=et(t),wT("collection","path",e),t instanceof Es){let r=_e.fromString(e,...n);return jC(r),new Yn(t,null,r)}{if(!(t instanceof In||t instanceof Yn))throw new b(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(_e.fromString(e,...n));return jC(r),new Yn(t.firestore,null,r)}}function CT(t,e,...n){if(t=et(t),arguments.length===1&&(e=ul.newId()),wT("doc","path",e),t instanceof Es){let r=_e.fromString(e,...n);return UC(r),new In(t,null,new U(r))}{if(!(t instanceof In||t instanceof Yn))throw new b(g.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(_e.fromString(e,...n));return UC(r),new In(t.firestore,t instanceof Yn?t.converter:null,new U(r))}}var Km=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new _l(this,"async_queue_retry"),this.hu=()=>{let n=Pg();n&&E("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};let e=Pg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Pg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new _n;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return f(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!Al(e))throw e;E("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw zr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=$m.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&q()}verifyOperationInProgress(){}du(){return f(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var El=class extends Es{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Km}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||bT(this),this._firestoreClient.terminate()}};function TT(t,e){let n=typeof t=="object"?t:Xi(),r=typeof t=="string"?t:e||"(default)",i=xo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=ME("firestore");s&&DT(i,...s)}return i}function OF(t){return t._firestoreClient||bT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function bT(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new zg(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,IT(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Gm(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Dl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Jn.fromBase64String(e))}catch(n){throw new b(g.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Cl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new b(g.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Tl=class{constructor(e){this._methodName=e}};var bl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new b(g.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new b(g.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}};var kF=/^__.*__$/,Qm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qr(e,this.data,n,this.fieldTransforms)}};function ST(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var Ym=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Sl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(ST(this.fu)&&kF.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Jm=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ml(e)}Fu(e,n,r,i=!1){return new Ym({fu:e,methodName:n,vu:r,path:ht.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function FF(t){let e=t._freezeSettings(),n=Ml(t._databaseId);return new Jm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LF(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);NT("Data must be an object, but it was:",o,r);let a=MT(r,o),c,u;if(s.merge)c=new tn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=VF(e,d,n);if(!o.contains(h))throw new b(g.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BF(l,h)||l.push(h)}c=new tn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Qm(new en(a),c,u)}function AT(t,e){if(RT(t=et(t)))return NT("Unsupported field value:",e,t),MT(t,e);if(t instanceof Tl)return function(r,i){if(!ST(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=AT(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=$e.fromDate(r);return{timestampValue:dm(i.serializer,s)}}if(r instanceof $e){let s=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dm(i.serializer,s)}}if(r instanceof bl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dl)return{bytesValue:X1(i.serializer,r._byteString)};if(r instanceof In){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lT(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${sy(r)}`)}(t,e)}function MT(t,e){let n={};return $C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,(r,i)=>{let s=AT(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function RT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof bl||t instanceof Dl||t instanceof In||t instanceof Tl)}function NT(t,e,n){if(!RT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=sy(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function VF(t,e,n){if((e=et(e))instanceof Cl)return e._internalPath;if(typeof e=="string")return jF(t,e);throw Sl("Field path arguments must be of type string or ",t,!1,void 0,n)}var UF=new RegExp("[~\\*/\\[\\]]");function jF(t,e,n){if(e.search(UF)>=0)throw Sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cl(...e.split("."))._internalPath}catch{throw Sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Sl(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new b(g.INVALID_ARGUMENT,a+t+c)}function BF(t,e){return t.some(n=>n.isEqual(e))}function $F(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function ma(t,e){let n=ET(t.firestore,El),r=CT(t),i=$F(t.converter,e);return HF(n,[LF(FF(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function HF(t,e){return function(r,i){let s=new _n;return r.asyncQueue.enqueueAndForget(()=>f(this,null,function*(){return CF(yield xF(r),i,s)})),s.promise}(OF(t),e)}(function(e,n=!0){(function(i){Ds=i})(Wn),Gn(new Tt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new El(new Lg(r.getProvider("auth-internal")),new Bg(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new b(g.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gg(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(wC,"4.6.1",e),Te(wC,"4.6.1","esm2017")})();function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var QT=KT,YT=new mn("auth","Firebase",KT()),St={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};var Vl=new qn("@firebase/auth");function qF(t,...e){Vl.logLevel<=H.WARN&&Vl.warn(`Auth (${Wn}): ${t}`,...e)}function Ol(t,...e){Vl.logLevel<=H.ERROR&&Vl.error(`Auth (${Wn}): ${t}`,...e)}function on(t,...e){throw Ay(t,...e)}function Yr(t,...e){return Ay(t,...e)}function JT(t,e,n){let r=Object.assign(Object.assign({},QT()),{[e]:n});return new mn("auth","Firebase",r).create(e,{appName:t.name})}function Cn(t){return JT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YT.create(t,...e)}function M(t,e,...n){if(!t)throw Ay(e,...n)}function En(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ol(e),new Error(e)}function rr(t,e){t||En(e)}function uy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function zF(){return xT()==="http:"||xT()==="https:"}function xT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function GF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zF()||xE()||"connection"in navigator)?navigator.onLine:!0}function WF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=NE()||PE()}get(){return GF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function My(t,e){rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ul=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;En("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;En("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;En("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var KF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var QF=new Jr(3e4,6e4);function ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function sr(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){return ZT(t,i,()=>f(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=Mo(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),Ul.fetch()(XT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function ZT(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},KF),e);try{let i=new ly(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Pl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Pl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Pl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw JT(t,l,u);on(t,l)}}catch(i){if(i instanceof lt)throw i;on(t,"network-request-failed",{message:String(i)})}})}function Ca(s,o,a,c){return f(this,arguments,function*(t,e,n,r,i={}){let u=yield sr(t,e,n,r,i);return"mfaPendingCredential"in u&&on(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function XT(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?My(t.config,i):`${t.config.apiScheme}://${i}`}function YF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ly=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),QF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Pl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Yr(t,e,r);return i.customData._tokenResponse=n,i}function PT(t){return t!==void 0&&t.enterprise!==void 0}var dy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return YF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function JF(t,e){return f(this,null,function*(){return sr(t,"GET","/v2/recaptchaConfig",ir(t,e))})}function ZF(t,e){return f(this,null,function*(){return sr(t,"POST","/v1/accounts:delete",e)})}function e0(t,e){return f(this,null,function*(){return sr(t,"POST","/v1/accounts:lookup",e)})}function ya(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ry(t,e=!1){return f(this,null,function*(){let n=et(t),r=yield n.getIdToken(e),i=Ny(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ya(oy(i.auth_time)),issuedAtTime:ya(oy(i.iat)),expirationTime:ya(oy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function oy(t){return Number(t)*1e3}function Ny(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ol("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ep(n);return i?JSON.parse(i):(Ol("Failed to decode base64 JWT payload"),null)}catch(i){return Ol("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OT(t){let e=Ny(t);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function _a(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof lt&&XF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function XF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var hy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ia=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jl(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield _a(t,e0(n,{idToken:r}));M(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t0(s.providerUserInfo):[],a=eL(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ia(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function xy(t){return f(this,null,function*(){let e=et(t);yield jl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function eL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function t0(t){return t.map(e=>{var{providerId:n}=e,r=Id(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function tL(t,e){return f(this,null,function*(){let n=yield ZT(t,{},()=>f(this,null,function*(){let r=Mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=XT(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ul.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function nL(t,e){return f(this,null,function*(){return sr(t,"POST","/v2/accounts:revokeToken",ir(t,e))})}var va=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){M(e.length!==0,"internal-error");let n=OT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(M(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield tL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(M(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(M(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(M(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return En("not implemented")}};function nr(t,e){M(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Cs=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Id(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ia(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield _a(this,this.stsTokenManager.getToken(this.auth,e));return M(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ry(this,e)}reload(){return xy(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield jl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(Ft(this.auth.app))return Promise.reject(Cn(this.auth));let e=yield this.getIdToken();return yield _a(this,ZF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(u=n.createdAt)!==null&&u!==void 0?u:void 0,se=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:ne,emailVerified:pe,isAnonymous:pt,providerData:Ie,stsTokenManager:gt}=n;M(ne&&gt,e,"internal-error");let ii=va.fromJSON(this.name,gt);M(typeof ne=="string",e,"internal-error"),nr(d,e.name),nr(h,e.name),M(typeof pe=="boolean",e,"internal-error"),M(typeof pt=="boolean",e,"internal-error"),nr(p,e.name),nr(m,e.name),nr(_,e.name),nr(D,e.name),nr(C,e.name),nr(se,e.name);let or=new t({uid:ne,auth:e,email:h,emailVerified:pe,displayName:d,isAnonymous:pt,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:ii,createdAt:C,lastLoginAt:se});return Ie&&Array.isArray(Ie)&&(or.providerData=Ie.map(si=>Object.assign({},si))),D&&(or._redirectEventId=D),or}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new va;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];M(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?t0(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new va;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ia(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var kT=new Map;function Dn(t){rr(t instanceof Function,"Expected a class definition");let e=kT.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kT.set(t,e),e)}var rL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),fy=rL;function kl(t,e,n){return`firebase:${t}:${e}:${n}`}var Bl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=kl(this.userKey,i.apiKey,s),this.fullPersistenceKey=kl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Cs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(Dn(fy),e,r);let i=(yield Promise.all(n.map(u=>f(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Dn(fy),o=kl(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Cs._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>f(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function FT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o0(e))return"Blackberry";if(a0(e))return"Webos";if(Py(e))return"Safari";if((e.includes("chrome/")||r0(e))&&!e.includes("edge/"))return"Chrome";if(s0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function n0(t=Ce()){return/firefox\//i.test(t)}function Py(t=Ce()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r0(t=Ce()){return/crios\//i.test(t)}function i0(t=Ce()){return/iemobile/i.test(t)}function s0(t=Ce()){return/android/i.test(t)}function o0(t=Ce()){return/blackberry/i.test(t)}function a0(t=Ce()){return/webos/i.test(t)}function Ql(t=Ce()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iL(t=Ce()){var e;return Ql(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sL(){return OE()&&document.documentMode===10}function c0(t=Ce()){return Ql(t)||s0(t)||a0(t)||o0(t)||/windows phone/i.test(t)||i0(t)}function oL(){try{return!!(window&&window!==window.top)}catch{return!1}}function u0(t,e=[]){let n;switch(t){case"Browser":n=FT(Ce());break;case"Worker":n=`${FT(Ce())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wn}/${r}`}var py=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function aL(n){return f(this,arguments,function*(t,e={}){return sr(t,"GET","/v2/passwordPolicy",ir(t,e))})}var cL=6,gy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:cL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var my=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $l(this),this.idTokenSubscription=new $l(this),this.beforeStateQueue=new py(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield e0(this,{idToken:e}),r=yield Cs._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(Ft(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield jl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=WF()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(Ft(this.app))return Promise.reject(Cn(this));let n=e?et(e):null;return n&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&M(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return Ft(this.app)?Promise.reject(Cn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ft(this.app)?Promise.reject(Cn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(Dn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield aL(this),n=new gy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Dn(e)||this._popupRedirectResolver;M(n,this,"argument-error"),this.redirectPersistenceManager=yield Bl.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&qF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Xr(t){return et(t)}var $l=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=VE(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Yl={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uL(t){Yl=t}function l0(t){return Yl.loadJS(t)}function lL(){return Yl.recaptchaEnterpriseScript}function dL(){return Yl.gapiScript}function d0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var hL="recaptcha-enterprise",fL="NO_RECAPTCHA",yy=class{constructor(e){this.type=hL,this.auth=Xr(e)}verify(e="verify",n=!1){return f(this,null,function*(){function r(s){return f(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>f(this,null,function*(){JF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new dy(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;PT(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(fL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&PT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=lL();c.length!==0&&(c+=a),l0(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function LT(t,e,n,r=!1){return f(this,null,function*(){let i=new yy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function vy(t,e,n,r){return f(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield LT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>f(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield LT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Oy(t,e){let n=xo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Or(s,e??{}))return i;on(i,"already-initialized")}return n.initialize({options:e})}function pL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Dn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ky(t,e,n){let r=Xr(t);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=h0(e),{host:o,port:a}=gL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||mL()}function h0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gL(t){let e=h0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:VT(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:VT(o)}}}function VT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function mL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var wa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return En("not implemented")}_getIdTokenResponse(e){return En("not implemented")}_linkToIdToken(e,n){return En("not implemented")}_getReauthenticationResolver(e){return En("not implemented")}};function yL(t,e){return f(this,null,function*(){return sr(t,"POST","/v1/accounts:signUp",e)})}function vL(t,e){return f(this,null,function*(){return Ca(t,"POST","/v1/accounts:signInWithPassword",ir(t,e))})}function _L(t,e){return f(this,null,function*(){return Ca(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}function IL(t,e){return f(this,null,function*(){return Ca(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}var Ea=class t extends wa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,n,"signInWithPassword",vL);case"emailLink":return _L(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_linkToIdToken(e,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,r,"signUpPassword",yL);case"emailLink":return IL(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ay(t,e){return f(this,null,function*(){return Ca(t,"POST","/v1/accounts:signInWithIdp",ir(t,e))})}function wL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EL(t){let e=Ji(Zi(t)).link,n=e?Ji(Zi(e)).deep_link_id:null,r=Ji(Zi(t)).deep_link_id;return(r?Ji(Zi(r)).link:null)||r||n||e||t}var Hl=class t{constructor(e){var n,r,i,s,o,a;let c=Ji(Zi(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=wL((i=c.mode)!==null&&i!==void 0?i:null);M(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=EL(e);try{return new t(n)}catch{return null}}};var f0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Ea._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Hl.parseLink(r);return M(i,"argument-error"),Ea._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),ql=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _y=class extends ql{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function DL(t,e){return f(this,null,function*(){return Ca(t,"POST","/v1/accounts:signUp",ir(t,e))})}var Ts=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return f(this,null,function*(){let s=yield Cs._fromIdTokenResponse(e,r,i),o=UT(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return f(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=UT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function UT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Iy=class t extends lt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function p0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Iy._fromErrorAndOperation(t,s,e,r):s})}function CL(t,e,n=!1){return f(this,null,function*(){let r=yield _a(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ts._forOperation(t,"link",r)})}function TL(t,e,n=!1){return f(this,null,function*(){let{auth:r}=t;if(Ft(r.app))return Promise.reject(Cn(r));let i="reauthenticate";try{let s=yield _a(t,p0(r,i,e,t),n);M(s.idToken,r,"internal-error");let o=Ny(s.idToken);M(o,r,"internal-error");let{sub:a}=o;return M(t.uid===a,r,"user-mismatch"),Ts._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&on(r,"user-mismatch"),s}})}function g0(t,e,n=!1){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(Cn(t));let r="signIn",i=yield p0(t,r,e),s=yield Ts._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Fy(t,e){return f(this,null,function*(){return g0(Xr(t),e)})}function m0(t){return f(this,null,function*(){let e=Xr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Jl(t,e,n){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(Cn(t));let r=Xr(t),o=yield vy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&m0(t),c}),a=yield Ts._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Zl(t,e,n){return Ft(t.app)?Promise.reject(Cn(t)):Fy(et(t),f0.credential(e,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&m0(t),r}))}function Ly(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function Vy(t,e,n){return et(t).beforeAuthStateChanged(e,n)}var zl="__sak";var Gl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zl,"1"),this.storage.removeItem(zl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function bL(){let t=Ce();return Py(t)||Ql(t)}var SL=1e3,AL=10,ML=(()=>{class t extends Gl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=bL()&&oL(),this.fallbackToPolling=c0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);sL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,AL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},SL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Sn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Sn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Sn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),y0=ML;var RL=(()=>{class t extends Gl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Uy=RL;function NL(t){return Promise.all(t.map(e=>f(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var xL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(l=>f(this,null,function*(){return l(r.origin,o)})),u=yield NL(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var wy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=v0("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function sn(){return window}function PL(t){sn().location.href=t}function _0(){return typeof sn().WorkerGlobalScope<"u"&&typeof sn().importScripts=="function"}function OL(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function kL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FL(){return _0()?self:null}var I0="firebaseLocalStorageDb",LL=1,Wl="firebaseLocalStorage",w0="fbase_key",Zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Xl(t,e){return t.transaction([Wl],e?"readwrite":"readonly").objectStore(Wl)}function VL(){let t=indexedDB.deleteDatabase(I0);return new Zr(t).toPromise()}function Ey(){let t=indexedDB.open(I0,LL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Wl,{keyPath:w0})}catch(i){n(i)}}),t.addEventListener("success",()=>f(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Wl)?e(r):(r.close(),yield VL(),e(yield Ey()))}))})}function jT(t,e,n){return f(this,null,function*(){let r=Xl(t,!0).put({[w0]:e,value:n});return new Zr(r).toPromise()})}function UL(t,e){return f(this,null,function*(){let n=Xl(t,!1).get(e),r=yield new Zr(n).toPromise();return r===void 0?null:r.value})}function BT(t,e){let n=Xl(t,!0).delete(e);return new Zr(n).toPromise()}var jL=800,BL=3,$L=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield Ey(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>BL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return _0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=xL._getInstance(FL()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){var n,r;if(this.activeServiceWorker=yield OL(),!this.activeServiceWorker)return;this.sender=new wy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||kL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ey();return yield jT(n,zl,"1"),yield BT(n,zl),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>jT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>UL(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>BT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(s=>{let o=Xl(s,!1).getAll();return new Zr(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),jL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),E0=$L;var e3=d0("rcb"),t3=new Jr(3e4,6e4);function HL(t,e){return e?Dn(e):(M(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Da=class extends wa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ay(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ay(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ay(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function qL(t){return g0(t.auth,new Da(t),t.bypassAuthState)}function zL(t){let{auth:e,user:n}=t;return M(n,e,"internal-error"),TL(n,new Da(t),t.bypassAuthState)}function GL(t){return f(this,null,function*(){let{auth:e,user:n}=t;return M(n,e,"internal-error"),CL(n,new Da(t),t.bypassAuthState)})}var Dy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>f(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qL;case"linkViaPopup":case"linkViaRedirect":return GL;case"reauthViaPopup":case"reauthViaRedirect":return zL;default:on(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var n3=new Jr(2e3,1e4);var WL="pendingRedirect",Fl=new Map,Cy=class t extends Dy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let e=Fl.get(this.auth._key());if(!e){try{let r=(yield KL(this.resolver,this.auth))?yield Sn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fl.set(this.auth._key(),e)}return this.bypassAuthState||Fl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return f(this,null,function*(){if(e.type==="signInViaRedirect")return Sn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Sn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function KL(t,e){return f(this,null,function*(){let n=JL(e),r=YL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function QL(t,e){Fl.set(t._key(),e)}function YL(t){return Dn(t._redirectPersistence)}function JL(t){return kl(WL,t.config.apiKey,t.name)}function ZL(t,e,n=!1){return f(this,null,function*(){if(Ft(t.app))return Promise.reject(Cn(t));let r=Xr(t),i=HL(r,e),o=yield new Cy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var XL=10*60*1e3,Ty=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XL&&this.cachedEventUids.clear(),this.cachedEventUids.has($T(e))}saveEventToCache(e){this.cachedEventUids.add($T(e)),this.lastProcessedEventTime=Date.now()}};function $T(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D0(t);default:return!1}}function tV(n){return f(this,arguments,function*(t,e={}){return sr(t,"GET","/v1/projects",e)})}var nV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rV=/^https?/;function iV(t){return f(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield tV(t);for(let n of e)try{if(sV(n))return}catch{}on(t,"unauthorized-domain")})}function sV(t){let e=uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rV.test(n))return!1;if(nV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var oV=new Jr(3e4,6e4);function HT(){let t=sn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aV(t){return new Promise((e,n)=>{var r,i,s;function o(){HT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HT(),n(Yr(t,"network-request-failed"))},timeout:oV.get()})}if(!((i=(r=sn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=sn().gapi)===null||s===void 0)&&s.load)o();else{let a=d0("iframefcb");return sn()[a]=()=>{gapi.load?o():n(Yr(t,"network-request-failed"))},l0(`${dL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ll=null,e})}var Ll=null;function cV(t){return Ll=Ll||aV(t),Ll}var uV=new Jr(5e3,15e3),lV="__/auth/iframe",dV="emulator/auth/iframe",hV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pV(t){let e=t.config;M(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?My(e,dV):`https://${t.config.authDomain}/${lV}`,r={apiKey:e.apiKey,appName:t.name,v:Wn},i=fV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mo(r).slice(1)}`}function gV(t){return f(this,null,function*(){let e=yield cV(t),n=sn().gapi;return M(n,t,"internal-error"),e.open({where:document.body,url:pV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hV,dontclear:!0},r=>new Promise((i,s)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Yr(t,"network-request-failed"),a=sn().setTimeout(()=>{s(o)},uV.get());function c(){sn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var mV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yV=500,vV=600,_V="_blank",IV="http://localhost",Kl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function wV(t,e,n,r=yV,i=vV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},mV),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ce().toLowerCase();n&&(a=r0(u)?_V:n),n0(u)&&(e=e||IV,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(iL(u)&&a!=="_self")return EV(e||"",a),new Kl(null);let d=window.open(e||"",a,l);M(d,t,"popup-blocked");try{d.focus()}catch{}return new Kl(d)}function EV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var DV="__/auth/handler",CV="emulator/auth/handler",TV=encodeURIComponent("fac");function qT(t,e,n,r,i,s){return f(this,null,function*(){M(t.config.authDomain,t,"auth-domain-config-required"),M(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wn,eventId:i};if(e instanceof ql){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof _y){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=yield t._getAppCheckToken(),u=c?`#${TV}=${encodeURIComponent(c)}`:"";return`${bV(t)}?${Mo(a).slice(1)}${u}`})}function bV({config:t}){return t.emulator?My(t,CV):`https://${t.authDomain}/${DV}`}var cy="webStorageSupport",by=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uy,this._completeRedirectFn=ZL,this._overrideRedirectResult=QL}_openPopup(e,n,r,i){return f(this,null,function*(){var s;rr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield qT(e,n,r,uy(),i);return wV(e,o,v0())})}_openRedirect(e,n,r,i){return f(this,null,function*(){yield this._originValidation(e);let s=yield qT(e,n,r,uy(),i);return PL(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return f(this,null,function*(){let n=yield gV(e),r=new Ty(e);return n.register("authEvent",i=>(M(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cy,{type:cy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[cy];o!==void 0&&n(!!o),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c0()||Py()||Ql()}},C0=by;var zT="@firebase/auth",GT="1.7.2";var Sy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AV(t){Gn(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u0(t)},u=new my(r,i,s,c);return pL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gn(new Tt("auth-internal",e=>{let n=Xr(e.getProvider("auth").getImmediate());return(r=>new Sy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(zT,GT,SV(t)),Te(zT,GT,"esm2017")}var MV=5*60,RV=Tp("authIdTokenMaxAge")||MV,WT=null,NV=t=>e=>f(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>RV)return;let i=n?.token;WT!==i&&(WT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ei(t=Xi()){let e=xo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Oy(t,{popupRedirectResolver:C0,persistence:[E0,y0,Uy]}),r=Tp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=NV(s.toString());Vy(n,o,()=>o(n.currentUser)),Ly(n,a=>o(a))}}let i=Dp("auth");return i&&ky(n,`http://${i}`),n}function xV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",xV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AV("Browser");var DU="firebase",CU="10.11.1";Te(DU,CU,"app");var ni=new hn("ANGULARFIRE2_VERSION");function td(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ta=(t,e)=>{let n=e?[e]:bu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ss=class{constructor(){return Ta(TU)}},TU="app-check";function bs(){}var ed=class{zone;delegate;constructor(e,n=_d){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},jy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs)),n.pipe(Ee({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},As=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ed(Zone.current)),this.insideAngular=n.run(()=>new ed(Zone.current,vd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(V(te))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function bU(t){return nd().ngZone.runOutsideAngular(()=>t())}function ti(t){return nd().ngZone.run(()=>t())}function SU(t){return AU(nd())(t)}function AU(t){return function(n){return n=n.lift(new jy(t.ngZone)),n.pipe(Rn(t.outsideAngular),Mn(t.insideAngular))}}var MU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ti(()=>t.apply(void 0,r))},Ms=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ti(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bs,{},bs,bs))),r[s]=MU(r[s],n));let i=bU(()=>t.apply(this,r));if(!e)if(i instanceof W){let s=nd();return i.pipe(Rn(s.outsideAngular),Mn(s.insideAngular))}else return ti(()=>i);return i instanceof W?i.pipe(SU):i instanceof Promise?ti(()=>new Promise((s,o)=>i.then(a=>ti(()=>s(a)),a=>ti(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ti(()=>i)};var Tn=class{constructor(e){return e}},ri=class{constructor(){return bu()}};function RU(t){return t&&t.length===1?t[0]:new Tn(Xi())}var By=new N("angularfire2._apps"),NU={provide:Tn,useFactory:RU,deps:[[new Ye,By]]},xU={provide:ri,deps:[[new Ye,By]]};function PU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Tn(r)}}var OU=(()=>{class t{constructor(n){Te("angularfire",ni.full,"core"),Te("angularfire",ni.full,"app"),Te("angular",ew.full,n.toString())}static \u0275fac=function(r){return new(r||t)(V(Un))};static \u0275mod=It({type:t});static \u0275inj=_t({providers:[NU,xU]})}return t})();function T0(t,...e){return{ngModule:OU,providers:[{provide:By,useFactory:PU(t),multi:!0,deps:[te,Et,As,...e]}]}}var b0=Ms(Bp,!0);var S0="auth",ba=class{constructor(e){return e}},Sa=class{constructor(){return Ta(S0)}};var $y=new N("angularfire2.auth-instances");function kU(t,e){let n=td(S0,t,e);return n&&new ba(n)}function FU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ba(r)}}var LU={provide:Sa,deps:[[new Ye,$y]]},VU={provide:ba,useFactory:kU,deps:[[new Ye,$y],Tn]},UU=(()=>{class t{constructor(){Te("angularfire",ni.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=It({type:t});static \u0275inj=_t({providers:[VU,LU]})}return t})();function A0(t,...e){return{ngModule:UU,providers:[{provide:$y,useFactory:FU(t),multi:!0,deps:[te,Et,As,ri,[new Ye,Ss],...e]}]}}var M0=Ms(ei,!0);var bn=class{constructor(e){return e}},R0="firestore",Hy=class{constructor(){return Ta(R0)}};var qy=new N("angularfire2.firestore-instances");function jU(t,e){let n=td(R0,t,e);return n&&new bn(n)}function BU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bn(r)}}var $U={provide:Hy,deps:[[new Ye,qy]]},HU={provide:bn,useFactory:jU,deps:[[new Ye,qy],Tn]},qU=(()=>{class t{constructor(){Te("angularfire",ni.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=It({type:t});static \u0275inj=_t({providers:[HU,$U]})}return t})();function N0(t,...e){return{ngModule:qU,providers:[{provide:qy,useFactory:BU(t),multi:!0,deps:[te,Et,As,ri,[new Ye,Sa],[new Ye,Ss],...e]}]}}var x0=Ms(TT,!0);var zU=()=>["/registrar"],O0=(()=>{let e=class e{constructor(r,i){this.router=r,this.firestore=i,this.mail="",this.contrasenia="",this.notificacion=""}ngOnInit(){let r=localStorage.getItem("Tp1UsuarioLogueado");r!=null&&r!=null&&this.goToHome()}loguear(){if(this.mail!=""&&this.contrasenia!=""){let r=ei();Zl(r,this.mail,this.contrasenia).then(i=>{let s=i.user;this.guardarUsuarioLogueado(s.email),this.goToHome()}).catch(i=>{let s=i.code,o=i.message;switch(s){case St.INVALID_EMAIL:this.mostrarNotificacion("Email inv\xE1lido.");break;case St.USER_DISABLED:this.mostrarNotificacion("Este usuario ha sido deshabilitado.");break;case St.USER_MISMATCH:this.mostrarNotificacion("Usuario no encontrado.");break;case St.INVALID_PASSWORD:this.mostrarNotificacion("Contrase\xF1a incorrecta.");break;case St.INVALID_LOGIN_CREDENTIALS:this.mostrarNotificacion("Usuario o contrase\xF1a incorrecta.");break;default:this.mostrarNotificacion("Ha ocurrido un error al registrar. Intente de nuevo mas tarde.");break}})}else this.mostrarNotificacion("Complete ambos campos")}guardarUsuarioLogueado(r){localStorage.setItem("Tp1UsuarioLogueado",r);let i=ga(this.firestore,"logins");ma(i,{fecha:new Date,user:r})}goToHome(){this.router.navigate(["/home"])}mostrarNotificacion(r){this.notificacion=r;let i=document.querySelector(".notification");i.style.visibility="visible"}esconderNotificacion(){this.notificacion="";let r=document.querySelector(".notification");r.style.visibility="hidden"}fastAccessClick(){this.mail="usuariodeprueba@laboratorioiv.com",this.contrasenia="12345678"}};e.\u0275fac=function(i){return new(i||e)(G(ut),G(bn))},e.\u0275cmp=Je({type:e,selectors:[["app-login"]],standalone:!0,features:[Ze],decls:25,vars:5,consts:[["href",Uc`https://fonts.googleapis.com/css?family=Ubuntu:500`,"rel","stylesheet","type","text/css"],[1,"login"],[1,"login-form"],[1,"login-header"],["type","email","placeholder","Mail",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],[1,"flex-container-horizontal"],[1,"button","is-link","is-inverted",3,"click"],[1,"flex-container-vertical"],[1,"button","is-link",3,"click"],[1,"button","is-link","is-outlined","mt-2",3,"routerLink"],[1,"notification","is-danger","is-light",2,"visibility","hidden"],[1,"delete",3,"click"]],template:function(i,s){i&1&&(me(0,"link",0),T(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),Q(5,"Login"),S()(),T(6,"h3"),Q(7,"Mail:"),S(),T(8,"input",4),Tr("ngModelChange",function(a){return Ui(s.mail,a)||(s.mail=a),a}),S(),me(9,"br"),T(10,"h3"),Q(11,"Contrase\xF1a"),S(),T(12,"input",5),Tr("ngModelChange",function(a){return Ui(s.contrasenia,a)||(s.contrasenia=a),a}),S(),T(13,"div",6)(14,"div")(15,"button",7),he("click",function(){return s.fastAccessClick()}),Q(16,"Acceso r\xE1pido"),S()(),T(17,"div",8)(18,"button",9),he("click",function(){return s.loguear()}),Q(19,"Login"),S(),T(20,"button",10),Q(21,"Registrate!"),S()()()(),T(22,"div",11)(23,"button",12),he("click",function(){return s.esconderNotificacion()}),S(),Q(24),S()()),i&2&&(ot(8),Cr("ngModel",s.mail),ot(4),Cr("ngModel",s.contrasenia),ot(8),ff("routerLink",XI(4,zU)),ot(4),Vi(" ",s.notificacion," "))},dependencies:[iE,wu,Yi,_u,So],styles:["[_nghost-%COMP%]{margin:0;font-family:Ubuntu,sans-serif;background-size:100% 110%;width:10vw}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:0;padding:0}.login[_ngcontent-%COMP%]{margin:0 auto;max-width:500px}.login-header[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:300%}.login-form[_ngcontent-%COMP%]{border:.5px solid #fff;background:#4facff;border-radius:10px;box-shadow:0 0 10px #000}.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;margin-left:40px;color:#fff}.login-form[_ngcontent-%COMP%]{box-sizing:border-box;padding-top:15px;padding-bottom:10%;margin:5% auto;text-align:center}.login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{max-width:400px;width:80%;line-height:3em;font-family:Ubuntu,sans-serif;margin:1em 2em;border-radius:5px;border:2px solid #f2f2f2;outline:none;padding-left:10px}.login-form[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{height:30px;width:100px;background:#fff;border:1px solid #f2f2f2;border-radius:20px;color:#708090;text-transform:uppercase;font-family:Ubuntu,sans-serif;cursor:pointer}.flex-container-horizontal[_ngcontent-%COMP%]{max-width:400px;width:80%;margin:1em 2em;padding-left:30px;display:flex;flex-direction:row;align-content:flex-start;justify-content:space-between;flex-wrap:wrap}.flex-container-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}@media only screen and (min-width: 150px) and (max-width: 530px){.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:0}.sign-up[_ngcontent-%COMP%], .no-access[_ngcontent-%COMP%]{margin:10px 0}.login-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]});let t=e;return t})();var k0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Je({type:e,selectors:[["app-error"]],standalone:!0,features:[Ze],decls:5,vars:0,consts:[[1,"container"],[1,"title","is-1"],[1,"title","is-5"]],template:function(i,s){i&1&&(T(0,"div",0)(1,"h1",1),Q(2,"404 NOT FOUND"),S(),T(3,"h5",2),Q(4,"P\xE1gina no encontrada"),S()())}});let t=e;return t})();var F0=(()=>{let e=class e{constructor(r,i){this.router=r,this.firestore=i,this.mail="",this.contrasenia="",this.notificacion=""}ngOnInit(){let r=localStorage.getItem("Tp1UsuarioLogueado");r!=null&&r!=null&&this.goToHome()}registrar(){if(this.mail!=""&&this.contrasenia!=""){let r=ei();Jl(r,this.mail,this.contrasenia).then(i=>{let s=i.user;this.guardarUsuarioLogueado(s.email),this.goToHome()}).catch(i=>{let s=i.code,o=i.message;switch(s){case St.INVALID_EMAIL:this.mostrarNotificacion("Email inv\xE1lido.");break;case St.EMAIL_EXISTS:this.mostrarNotificacion("Este email ya se encuentra registrado.");break;case St.OPERATION_NOT_ALLOWED:this.mostrarNotificacion("Operaci\xF3n no permitida.");break;case St.WEAK_PASSWORD:this.mostrarNotificacion("Contrase\xF1a d\xE9bil.");break;default:this.mostrarNotificacion("Ha ocurrido un error al registrar. Intente de nuevo mas tarde.");break}})}else this.mostrarNotificacion("Complete ambos campos")}guardarUsuarioLogueado(r){localStorage.setItem("Tp1UsuarioLogueado",r);let i=ga(this.firestore,"logins");ma(i,{fecha:new Date,user:r})}goToHome(){this.router.navigate(["/home"])}mostrarNotificacion(r){this.notificacion=r;let i=document.querySelector(".notification");i.style.visibility="visible"}esconderNotificacion(){this.notificacion="";let r=document.querySelector(".notification");r.style.visibility="hidden"}};e.\u0275fac=function(i){return new(i||e)(G(ut),G(bn))},e.\u0275cmp=Je({type:e,selectors:[["app-registrar"]],standalone:!0,features:[Ze],decls:19,vars:3,consts:[["href",Uc`https://fonts.googleapis.com/css?family=Ubuntu:500`,"rel","stylesheet","type","text/css"],[1,"login"],[1,"login-form"],[1,"login-header"],["type","email","placeholder","Mail",3,"ngModelChange","ngModel"],["type","password","placeholder","Contrase\xF1a",3,"ngModelChange","ngModel"],[1,"button","is-link",3,"click"],[1,"notification","is-danger","is-light",2,"visibility","hidden"],[1,"delete",3,"click"]],template:function(i,s){i&1&&(me(0,"link",0),T(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),Q(5,"Registrate"),S()(),T(6,"h3"),Q(7,"Mail:"),S(),T(8,"input",4),Tr("ngModelChange",function(a){return Ui(s.mail,a)||(s.mail=a),a}),S(),me(9,"br"),T(10,"h3"),Q(11,"Contrase\xF1a:"),S(),T(12,"input",5),Tr("ngModelChange",function(a){return Ui(s.contrasenia,a)||(s.contrasenia=a),a}),S(),me(13,"br"),T(14,"button",6),he("click",function(){return s.registrar()}),Q(15,"Registrar"),S()(),T(16,"div",7)(17,"button",8),he("click",function(){return s.esconderNotificacion()}),S(),Q(18),S()()),i&2&&(ot(8),Cr("ngModel",s.mail),ot(4),Cr("ngModel",s.contrasenia),ot(6),Vi(" ",s.notificacion," "))},dependencies:[wu,Yi,_u,So],styles:["[_nghost-%COMP%]{margin:0;font-family:Ubuntu,sans-serif;background-size:100% 110%;width:10vw}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{margin:0;padding:0}.login[_ngcontent-%COMP%]{margin:0 auto;max-width:500px}.login-header[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:300%}.login-form[_ngcontent-%COMP%]{border:.5px solid #fff;background:#4facff;border-radius:10px;box-shadow:0 0 10px #000}.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:left;margin-left:40px;color:#fff}.login-form[_ngcontent-%COMP%]{box-sizing:border-box;padding-top:15px;padding-bottom:10%;margin:5% auto;text-align:center}.login[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{max-width:400px;width:80%;line-height:3em;font-family:Ubuntu,sans-serif;margin:1em 2em;border-radius:5px;border:2px solid #f2f2f2;outline:none;padding-left:10px}.login-form[_ngcontent-%COMP%]   input[type=button][_ngcontent-%COMP%]{height:30px;width:100px;background:#fff;border:1px solid #f2f2f2;border-radius:20px;color:#708090;text-transform:uppercase;font-family:Ubuntu,sans-serif;cursor:pointer}.no-access[_ngcontent-%COMP%]{color:#e86850;margin:20px 0 20px -57%;text-decoration:underline;cursor:pointer}.try-again[_ngcontent-%COMP%]{color:#f2f2f2;text-decoration:underline;cursor:pointer}@media only screen and (min-width: 150px) and (max-width: 530px){.login-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin:0}.sign-up[_ngcontent-%COMP%], .no-access[_ngcontent-%COMP%]{margin:10px 0}.login-button[_ngcontent-%COMP%]{margin-bottom:10px}}"]});let t=e;return t})();var L0=(()=>{let e=class e{constructor(r){this.router=r}goTo(r){this.router.navigate([r])}cerrarSesion(){localStorage.removeItem("Tp1UsuarioLogueado"),this.goTo("/login")}};e.\u0275fac=function(i){return new(i||e)(G(ut))},e.\u0275cmp=Je({type:e,selectors:[["app-about"]],standalone:!0,features:[Ze],decls:32,vars:0,consts:[["role","navigation","aria-label","main navigation",1,"navbar"],["id","navbar",1,"navbar-menu"],[1,"navbar-start"],[1,"navbar-item",3,"click"],[1,"navbar-end"],[1,"navbar-item"],[1,"buttons"],[1,"button","is-primary",3,"click"],[1,"section"],[1,"container"],[1,"title","is-2"],[1,"columns"],[1,"column","is-3"],["src","../../../assets/Foto-perfil.png","alt","Tu foto"],[1,"column","is-4"],[1,"box"],[1,"title","is-4"],[1,"column","is-7"]],template:function(i,s){i&1&&(T(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),he("click",function(){return s.goTo("/home")}),Q(4," Home "),S(),T(5,"a",3),he("click",function(){return s.goTo("/about")}),Q(6," Quien soy "),S()(),T(7,"div",4)(8,"div",5)(9,"div",6)(10,"a",7),he("click",function(){return s.cerrarSesion()}),T(11,"strong"),Q(12,"Cerrar Sesi\xF3n"),S()()()()()()(),T(13,"div",8)(14,"div",9)(15,"h2",10),Q(16,"Sobre m\xED"),S(),T(17,"div",11)(18,"div",12)(19,"figure"),me(20,"img",13),S()(),T(21,"div",14)(22,"p"),Q(23," Hola, soy Nahuel P\xE9rez Novoa. Soy desarrollador mobile con 2 a\xF1os de experiencia laboral, pero realmente me cuesta bastante web. A\xFAn asi, aca estamos, poniendole onda! "),S()()()()(),T(24,"div",15)(25,"div",9)(26,"h2",16),Q(27,"Mi juego"),S(),T(28,"div",11)(29,"div",17)(30,"p"),Q(31," Esta es la descripcion de mi juego, todavia no se cual voy a hacer, pero lo estar\xE9 subiendo proximamente. "),S()()()()())},styles:[".section[_ngcontent-%COMP%]{padding:50px 0}.title[_ngcontent-%COMP%], .image[_ngcontent-%COMP%]{margin-bottom:20px}.buttons[_ngcontent-%COMP%]{margin-top:20px}.buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-right:10px}img[_ngcontent-%COMP%]{width:200px;height:200px;border-radius:100px}"]});let t=e;return t})();var V0=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:oE},{path:"about",component:L0},{path:"login",component:O0},{path:"registrar",component:F0},{path:"**",component:k0}];var U0={projectId:"laboiv-nahuelpereznovoa",appId:"1:830217150345:web:c12f4b3c995122573fcb58",storageBucket:"laboiv-nahuelpereznovoa.appspot.com",apiKey:"AIzaSyAAAdUxp0-2YtmfL3ejWsmwEfY8KmUdouE",authDomain:"laboiv-nahuelpereznovoa.firebaseapp.com",messagingSenderId:"830217150345"};var j0={providers:[sE(V0),Ks(T0(()=>b0(U0))),Ks(A0(()=>M0())),Ks(N0(()=>x0()))]};var B0=(()=>{let e=class e{constructor(r){this.router=r,this.title="TP1"}goTo(r){this.router.navigate([r])}};e.\u0275fac=function(i){return new(i||e)(G(ut))},e.\u0275cmp=Je({type:e,selectors:[["app-root"]],standalone:!0,features:[Ze],decls:1,vars:0,template:function(i,s){i&1&&me(0,"router-outlet")},dependencies:[ap]});let t=e;return t})();Dw(B0,j0).catch(t=>console.error(t));
